(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function eb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var up={exports:{}},cu={};var G0;function hD(){if(G0)return cu;G0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:s,key:c,ref:o!==void 0?o:null,props:u}}return cu.Fragment=t,cu.jsx=n,cu.jsxs=n,cu}var K0;function fD(){return K0||(K0=1,up.exports=hD()),up.exports}var pt=fD(),cp={exports:{}},bt={};var Y0;function dD(){if(Y0)return bt;Y0=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),A=Symbol.iterator;function V(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,j={};function Q(N,J,at){this.props=N,this.context=J,this.refs=j,this.updater=at||k}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,J){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,J,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function nt(){}nt.prototype=Q.prototype;function $(N,J,at){this.props=N,this.context=J,this.refs=j,this.updater=at||k}var et=$.prototype=new nt;et.constructor=$,G(et,Q.prototype),et.isPureReactComponent=!0;var st=Array.isArray;function ot(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(N,J,at){var ct=at.ref;return{$$typeof:e,type:N,key:J,ref:ct!==void 0?ct:null,props:at}}function x(N,J){return I(N.type,J,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function L(N){var J={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(at){return J[at]})}var C=/\/+/g;function te(N,J){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):J.toString(36)}function fe(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ot,ot):(N.status="pending",N.then(function(J){N.status==="pending"&&(N.status="fulfilled",N.value=J)},function(J){N.status==="pending"&&(N.status="rejected",N.reason=J)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function Y(N,J,at,ct,At){var Dt=typeof N;(Dt==="undefined"||Dt==="boolean")&&(N=null);var Bt=!1;if(N===null)Bt=!0;else switch(Dt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(N.$$typeof){case e:case t:Bt=!0;break;case _:return Bt=N._init,Y(Bt(N._payload),J,at,ct,At)}}if(Bt)return At=At(N),Bt=ct===""?"."+te(N,0):ct,st(At)?(at="",Bt!=null&&(at=Bt.replace(C,"$&/")+"/"),Y(At,J,at,"",function(xr){return xr})):At!=null&&(M(At)&&(At=x(At,at+(At.key==null||N&&N.key===At.key?"":(""+At.key).replace(C,"$&/")+"/")+Bt)),J.push(At)),1;Bt=0;var Le=ct===""?".":ct+":";if(st(N))for(var ae=0;ae<N.length;ae++)ct=N[ae],Dt=Le+te(ct,ae),Bt+=Y(ct,J,at,Dt,At);else if(ae=V(N),typeof ae=="function")for(N=ae.call(N),ae=0;!(ct=N.next()).done;)ct=ct.value,Dt=Le+te(ct,ae++),Bt+=Y(ct,J,at,Dt,At);else if(Dt==="object"){if(typeof N.then=="function")return Y(fe(N),J,at,ct,At);throw J=String(N),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function it(N,J,at){if(N==null)return N;var ct=[],At=0;return Y(N,ct,"","",function(Dt){return J.call(at,Dt,At++)}),ct}function ht(N){if(N._status===-1){var J=N._result;J=J(),J.then(function(at){(N._status===0||N._status===-1)&&(N._status=1,N._result=at)},function(at){(N._status===0||N._status===-1)&&(N._status=2,N._result=at)}),N._status===-1&&(N._status=0,N._result=J)}if(N._status===1)return N._result.default;throw N._result}var Ct=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Nt={map:it,forEach:function(N,J,at){it(N,function(){J.apply(this,arguments)},at)},count:function(N){var J=0;return it(N,function(){J++}),J},toArray:function(N){return it(N,function(J){return J})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return bt.Activity=E,bt.Children=Nt,bt.Component=Q,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=$,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,bt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(N,J,at){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ct=G({},N.props),At=N.key;if(J!=null)for(Dt in J.key!==void 0&&(At=""+J.key),J)!w.call(J,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&J.ref===void 0||(ct[Dt]=J[Dt]);var Dt=arguments.length-2;if(Dt===1)ct.children=at;else if(1<Dt){for(var Bt=Array(Dt),Le=0;Le<Dt;Le++)Bt[Le]=arguments[Le+2];ct.children=Bt}return I(N.type,At,ct)},bt.createContext=function(N){return N={$$typeof:c,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},bt.createElement=function(N,J,at){var ct,At={},Dt=null;if(J!=null)for(ct in J.key!==void 0&&(Dt=""+J.key),J)w.call(J,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(At[ct]=J[ct]);var Bt=arguments.length-2;if(Bt===1)At.children=at;else if(1<Bt){for(var Le=Array(Bt),ae=0;ae<Bt;ae++)Le[ae]=arguments[ae+2];At.children=Le}if(N&&N.defaultProps)for(ct in Bt=N.defaultProps,Bt)At[ct]===void 0&&(At[ct]=Bt[ct]);return I(N,Dt,At)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:d,render:N}},bt.isValidElement=M,bt.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:ht}},bt.memo=function(N,J){return{$$typeof:g,type:N,compare:J===void 0?null:J}},bt.startTransition=function(N){var J=R.T,at={};R.T=at;try{var ct=N(),At=R.S;At!==null&&At(at,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(ot,Ct)}catch(Dt){Ct(Dt)}finally{J!==null&&at.types!==null&&(J.types=at.types),R.T=J}},bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},bt.use=function(N){return R.H.use(N)},bt.useActionState=function(N,J,at){return R.H.useActionState(N,J,at)},bt.useCallback=function(N,J){return R.H.useCallback(N,J)},bt.useContext=function(N){return R.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,J){return R.H.useDeferredValue(N,J)},bt.useEffect=function(N,J){return R.H.useEffect(N,J)},bt.useEffectEvent=function(N){return R.H.useEffectEvent(N)},bt.useId=function(){return R.H.useId()},bt.useImperativeHandle=function(N,J,at){return R.H.useImperativeHandle(N,J,at)},bt.useInsertionEffect=function(N,J){return R.H.useInsertionEffect(N,J)},bt.useLayoutEffect=function(N,J){return R.H.useLayoutEffect(N,J)},bt.useMemo=function(N,J){return R.H.useMemo(N,J)},bt.useOptimistic=function(N,J){return R.H.useOptimistic(N,J)},bt.useReducer=function(N,J,at){return R.H.useReducer(N,J,at)},bt.useRef=function(N){return R.H.useRef(N)},bt.useState=function(N){return R.H.useState(N)},bt.useSyncExternalStore=function(N,J,at){return R.H.useSyncExternalStore(N,J,at)},bt.useTransition=function(){return R.H.useTransition()},bt.version="19.2.3",bt}var Q0;function Qg(){return Q0||(Q0=1,cp.exports=dD()),cp.exports}var dt=Qg();const mD=eb(dt);var hp={exports:{}},hu={},fp={exports:{}},dp={};var X0;function pD(){return X0||(X0=1,(function(e){function t(Y,it){var ht=Y.length;Y.push(it);t:for(;0<ht;){var Ct=ht-1>>>1,Nt=Y[Ct];if(0<o(Nt,it))Y[Ct]=it,Y[ht]=Nt,ht=Ct;else break t}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var it=Y[0],ht=Y.pop();if(ht!==it){Y[0]=ht;t:for(var Ct=0,Nt=Y.length,N=Nt>>>1;Ct<N;){var J=2*(Ct+1)-1,at=Y[J],ct=J+1,At=Y[ct];if(0>o(at,ht))ct<Nt&&0>o(At,at)?(Y[Ct]=At,Y[ct]=ht,Ct=ct):(Y[Ct]=at,Y[J]=ht,Ct=J);else if(ct<Nt&&0>o(At,ht))Y[Ct]=At,Y[ct]=ht,Ct=ct;else break t}}return it}function o(Y,it){var ht=Y.sortIndex-it.sortIndex;return ht!==0?ht:Y.id-it.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var p=[],g=[],_=1,E=null,A=3,V=!1,k=!1,G=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function et(Y){for(var it=n(g);it!==null;){if(it.callback===null)s(g);else if(it.startTime<=Y)s(g),it.sortIndex=it.expirationTime,t(p,it);else break;it=n(g)}}function st(Y){if(G=!1,et(Y),!k)if(n(p)!==null)k=!0,ot||(ot=!0,L());else{var it=n(g);it!==null&&fe(st,it.startTime-Y)}}var ot=!1,R=-1,w=5,I=-1;function x(){return j?!0:!(e.unstable_now()-I<w)}function M(){if(j=!1,ot){var Y=e.unstable_now();I=Y;var it=!0;try{t:{k=!1,G&&(G=!1,nt(R),R=-1),V=!0;var ht=A;try{e:{for(et(Y),E=n(p);E!==null&&!(E.expirationTime>Y&&x());){var Ct=E.callback;if(typeof Ct=="function"){E.callback=null,A=E.priorityLevel;var Nt=Ct(E.expirationTime<=Y);if(Y=e.unstable_now(),typeof Nt=="function"){E.callback=Nt,et(Y),it=!0;break e}E===n(p)&&s(p),et(Y)}else s(p);E=n(p)}if(E!==null)it=!0;else{var N=n(g);N!==null&&fe(st,N.startTime-Y),it=!1}}break t}finally{E=null,A=ht,V=!1}it=void 0}}finally{it?L():ot=!1}}}var L;if(typeof $=="function")L=function(){$(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,te=C.port2;C.port1.onmessage=M,L=function(){te.postMessage(null)}}else L=function(){Q(M,0)};function fe(Y,it){R=Q(function(){Y(e.unstable_now())},it)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var it=3;break;default:it=A}var ht=A;A=it;try{return Y()}finally{A=ht}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(Y,it){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ht=A;A=Y;try{return it()}finally{A=ht}},e.unstable_scheduleCallback=function(Y,it,ht){var Ct=e.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,Y){case 1:var Nt=-1;break;case 2:Nt=250;break;case 5:Nt=1073741823;break;case 4:Nt=1e4;break;default:Nt=5e3}return Nt=ht+Nt,Y={id:_++,callback:it,priorityLevel:Y,startTime:ht,expirationTime:Nt,sortIndex:-1},ht>Ct?(Y.sortIndex=ht,t(g,Y),n(p)===null&&Y===n(g)&&(G?(nt(R),R=-1):G=!0,fe(st,ht-Ct))):(Y.sortIndex=Nt,t(p,Y),k||V||(k=!0,ot||(ot=!0,L()))),Y},e.unstable_shouldYield=x,e.unstable_wrapCallback=function(Y){var it=A;return function(){var ht=A;A=it;try{return Y.apply(this,arguments)}finally{A=ht}}}})(dp)),dp}var $0;function gD(){return $0||($0=1,fp.exports=pD()),fp.exports}var mp={exports:{}},en={};var W0;function yD(){if(W0)return en;W0=1;var e=Qg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:_}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,_)},en.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,V=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:A,fetchPriority:V}):_==="script"&&s.d.X(p,{crossOrigin:E,integrity:A,fetchPriority:V,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,E=d(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.3",en}var Z0;function _D(){if(Z0)return mp.exports;Z0=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=yD(),mp.exports}var J0;function vD(){if(J0)return hu;J0=1;var e=gD(),t=Qg(),n=_D();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function u(i){var r=i,a=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(a=r.return),i=r.return;while(i)}return r.tag===3?a:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(u(i)!==i)throw Error(s(188))}function g(i){var r=i.alternate;if(!r){if(r=u(i),r===null)throw Error(s(188));return r!==i?null:i}for(var a=i,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return p(f),i;if(m===l)return p(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var v=!1,S=f.child;S;){if(S===a){v=!0,a=f,l=m;break}if(S===l){v=!0,l=f,a=m;break}S=S.sibling}if(!v){for(S=m.child;S;){if(S===a){v=!0,a=m,l=f;break}if(S===l){v=!0,l=m,a=f;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:r}function _(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=_(i),r!==null)return r;i=i.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),$=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var C=Symbol.for("react.client.reference");function te(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===C?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case G:return"Fragment";case Q:return"Profiler";case j:return"StrictMode";case st:return"Suspense";case ot:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case k:return"Portal";case $:return i.displayName||"Context";case nt:return(i._context.displayName||"Context")+".Consumer";case et:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:te(i.type)||"Memo";case w:r=i._payload,i=i._init;try{return te(i(r))}catch{}}return null}var fe=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],Nt=-1;function N(i){return{current:i}}function J(i){0>Nt||(i.current=Ct[Nt],Ct[Nt]=null,Nt--)}function at(i,r){Nt++,Ct[Nt]=i.current,i.current=r}var ct=N(null),At=N(null),Dt=N(null),Bt=N(null);function Le(i,r){switch(at(Dt,r),at(At,i),at(ct,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?m0(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=m0(r),i=p0(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}J(ct),at(ct,i)}function ae(){J(ct),J(At),J(Dt)}function xr(i){i.memoizedState!==null&&at(Bt,i);var r=ct.current,a=p0(r,i.type);r!==a&&(at(At,i),at(ct,a))}function Pa(i){At.current===i&&(J(ct),J(At)),Bt.current===i&&(J(Bt),au._currentValue=ht)}var La,ka;function Ai(i){if(La===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);La=r&&r[1]||"",ka=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+La+i+ka}var al=!1;function Pr(i,r){if(!i||al)return"";al=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var F=H}Reflect.construct(i,[],Z)}else{try{Z.call()}catch(H){F=H}i.call(Z.prototype)}}else{try{throw Error()}catch(H){F=H}(Z=i())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&F&&typeof H.stack=="string")return[H.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],S=m[1];if(v&&S){var D=v.split(`
`),B=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===B.length)for(l=D.length-1,f=B.length-1;1<=l&&0<=f&&D[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==B[f]){var K=`
`+D[l].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=l&&0<=f);break}}}finally{al=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?Ai(a):""}function ol(i,r){switch(i.tag){case 26:case 27:case 5:return Ai(i.type);case 16:return Ai("Lazy");case 13:return i.child!==r&&r!==null?Ai("Suspense Fallback"):Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Pr(i.type,!1);case 11:return Pr(i.type.render,!1);case 1:return Pr(i.type,!0);case 31:return Ai("Activity");default:return""}}function ll(i){try{var r="",a=null;do r+=ol(i,a),a=i,i=i.return;while(i);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,ke=e.unstable_scheduleCallback,Ms=e.unstable_cancelCallback,hd=e.unstable_shouldYield,rc=e.unstable_requestPaint,ln=e.unstable_now,Lr=e.unstable_getCurrentPriorityLevel,ul=e.unstable_ImmediatePriority,cl=e.unstable_UserBlockingPriority,Os=e.unstable_NormalPriority,fd=e.unstable_LowPriority,ac=e.unstable_IdlePriority,oc=e.log,lc=e.unstable_setDisableYieldValue,ei=null,Ge=null;function Pn(i){if(typeof oc=="function"&&lc(i),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(ei,i)}catch{}}var ye=Math.clz32?Math.clz32:cc,uc=Math.log,Ua=Math.LN2;function cc(i){return i>>>=0,i===0?32:31-(uc(i)/Ua|0)|0}var Si=256,kr=262144,be=4194304;function bi(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function wi(i,r,a){var l=i.pendingLanes;if(l===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes;i=i.warmLanes;var S=l&134217727;return S!==0?(l=S&~m,l!==0?f=bi(l):(v&=S,v!==0?f=bi(v):a||(a=S&~i,a!==0&&(f=bi(a))))):(S=l&~m,S!==0?f=bi(S):v!==0?f=bi(v):a||(a=l&~i,a!==0&&(f=bi(a)))),f===0?0:r!==0&&r!==f&&(r&m)===0&&(m=f&-f,a=r&-r,m>=a||m===32&&(a&4194048)!==0)?r:f}function ni(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function dd(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hc(){var i=be;return be<<=1,(be&62914560)===0&&(be=4194304),i}function Ri(i){for(var r=[],a=0;31>a;a++)r.push(i);return r}function Ur(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function md(i,r,a,l,f,m){var v=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var S=i.entanglements,D=i.expirationTimes,B=i.hiddenUpdates;for(a=v&~a;0<a;){var K=31-ye(a),Z=1<<K;S[K]=0,D[K]=-1;var F=B[K];if(F!==null)for(B[K]=null,K=0;K<F.length;K++){var H=F[K];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&zr(i,l,0),m!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=m&~(v&~r))}function zr(i,r,a){i.pendingLanes|=r,i.suspendedLanes&=~r;var l=31-ye(r);i.entangledLanes|=r,i.entanglements[l]=i.entanglements[l]|1073741824|a&261930}function hl(i,r){var a=i.entangledLanes|=r;for(i=i.entanglements;a;){var l=31-ye(a),f=1<<l;f&r|i[l]&r&&(i[l]|=r),a&=~f}}function fl(i,r){var a=r&-r;return a=(a&42)!==0?1:Br(a),(a&(i.suspendedLanes|r))!==0?0:a}function Br(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ns(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function fc(){var i=it.p;return i!==0?i:(i=window.event,i===void 0?32:U0(i.type))}function ii(i,r){var a=it.p;try{return it.p=i,r()}finally{it.p=a}}var si=Math.random().toString(36).slice(2),we="__reactFiber$"+si,je="__reactProps$"+si,Ii="__reactContainer$"+si,za="__reactEvents$"+si,pd="__reactListeners$"+si,dc="__reactHandles$"+si,mc="__reactResources$"+si,Ci="__reactMarker$"+si;function Ba(i){delete i[we],delete i[je],delete i[za],delete i[pd],delete i[dc]}function Di(i){var r=i[we];if(r)return r;for(var a=i.parentNode;a;){if(r=a[Ii]||a[we]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(i=A0(i);i!==null;){if(a=i[we])return a;i=A0(i)}return r}i=a,a=i.parentNode}return null}function Ln(i){if(i=i[we]||i[Ii]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function bn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Vi(i){var r=i[mc];return r||(r=i[mc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Re(i){i[Ci]=!0}var dl=new Set,ml={};function Mi(i,r){Oi(i,r),Oi(i+"Capture",r)}function Oi(i,r){for(ml[i]=r,i=0;i<r.length;i++)dl.add(r[i])}var pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gl={},yl={};function pc(i){return Se.call(yl,i)?!0:Se.call(gl,i)?!1:pl.test(i)?yl[i]=!0:(gl[i]=!0,!1)}function ja(i,r,a){if(pc(r))if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+a)}}function wn(i,r,a){if(a===null)i.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+a)}}function Ie(i,r,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(r,a,""+l)}}function Fe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ns(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _l(i,r,a){var l=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,m=l.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,m.call(this,v)}}),Object.defineProperty(i,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Yt(i){if(!i._valueTracker){var r=Ns(i)?"checked":"value";i._valueTracker=_l(i,r,""+i[r])}}function jr(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return i&&(l=Ns(i)?i.checked?"true":"false":i.value),i=l,i!==a?(r.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Fr=/[\n"\\]/g;function dn(i){return i.replace(Fr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Fa(i,r,a,l,f,m,v,S){i.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.type=v:i.removeAttribute("type"),r!=null?v==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+Fe(r)):i.value!==""+Fe(r)&&(i.value=""+Fe(r)):v!=="submit"&&v!=="reset"||i.removeAttribute("value"),r!=null?vl(i,v,Fe(r)):a!=null?vl(i,v,Fe(a)):l!=null&&i.removeAttribute("value"),f==null&&m!=null&&(i.defaultChecked=!!m),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Fe(S):i.removeAttribute("name")}function gc(i,r,a,l,f,m,v,S){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(i.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){Yt(i);return}a=a!=null?""+Fe(a):"",r=r!=null?""+Fe(r):a,S||r===i.value||(i.value=r),i.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,i.checked=S?i.checked:!!l,i.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.name=v),Yt(i)}function vl(i,r,a){r==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function xs(i,r,a,l){if(i=i.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=r.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&l&&(i[a].defaultSelected=!0)}else{for(a=""+Fe(a),r=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,l&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function yc(i,r,a){if(r!=null&&(r=""+Fe(r),r!==i.value&&(i.value=r),a==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=a!=null?""+Fe(a):""}function Ps(i,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Fe(r),i.defaultValue=a,l=i.textContent,l===a&&l!==""&&l!==null&&(i.value=l),Yt(i)}function mn(i,r){if(r){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=r;return}}i.textContent=r}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tl(i,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":l?i.setProperty(r,a):typeof a!="number"||a===0||_c.has(r)?r==="float"?i.cssFloat=a:i[r]=(""+a).trim():i[r]=a+"px"}function El(i,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Tl(i,f,l)}else for(var m in r)r.hasOwnProperty(m)&&Tl(i,m,r[m])}function qa(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(i){return Ls.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function ri(){}var Al=null;function kn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ks=null,xi=null;function qr(i){var r=Ln(i);if(r&&(i=r.stateNode)){var a=i[je]||null;t:switch(i=r.stateNode,r.type){case"input":if(Fa(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==i&&l.form===i.form){var f=l[je]||null;if(!f)throw Error(s(90));Fa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===i.form&&jr(l)}break t;case"textarea":yc(i,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&xs(i,!!a.multiple,r,!1)}}}var Ga=!1;function Us(i,r,a){if(Ga)return i(r,a);Ga=!0;try{var l=i(r);return l}finally{if(Ga=!1,(ks!==null||xi!==null)&&(fh(),ks&&(r=ks,i=xi,xi=ks=null,qr(r),i)))for(r=0;r<i.length;r++)qr(i[r])}}function ai(i,r){var a=i.stateNode;if(a===null)return null;var l=a[je]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(i=i.type,l=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!l;break t;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(Un)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Hr=!1}var Pi=null,Sl=null,Gr=null;function bl(){if(Gr)return Gr;var i,r=Sl,a=r.length,l,f="value"in Pi?Pi.value:Pi.textContent,m=f.length;for(i=0;i<a&&r[i]===f[i];i++);var v=a-i;for(l=1;l<=v&&r[a-l]===f[m-l];l++);return Gr=f.slice(i,1<l?1-l:void 0)}function Kr(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function is(){return!0}function oi(){return!1}function Ke(i){function r(a,l,f,m,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(a=i[S],this[S]=a?a(m):m[S]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?is:oi,this.isPropagationStopped=oi,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),r}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=Ke(ss),zs=E({},ss,{view:0,detail:0}),wl=Ke(zs),Bs,Ka,ki,Ya=E({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(Bs=i.screenX-ki.screenX,Ka=i.screenY-ki.screenY):Ka=Bs=0,ki=i),Bs)},movementY:function(i){return"movementY"in i?i.movementY:Ka}}),Rl=Ke(Ya),Yr=E({},Ya,{dataTransfer:0}),Tc=Ke(Yr),Ec=E({},zs,{relatedTarget:0}),Qr=Ke(Ec),Il=E({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),Ac=Ke(Il),Qa=E({},ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Sc=Ke(Qa),bc=E({},ss,{data:0}),Ui=Ke(bc),wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cc(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=Ic[i])?!!r[i]:!1}function js(){return Cc}var un=E({},zs,{key:function(i){if(i.key){var r=wc[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Kr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Rc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(i){return i.type==="keypress"?Kr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Kr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Dc=Ke(un),Vc=E({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rs=Ke(Vc),h=E({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),y=Ke(h),T=E({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(T),U=E({},Ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ke(U),rt=E({},ss,{newState:0,oldState:0}),Rt=Ke(rt),_e=[9,13,27,32],Ht=Un&&"CompositionEvent"in window,oe=null;Un&&"documentMode"in document&&(oe=document.documentMode);var zn=Un&&"TextEvent"in window&&!oe,zi=Un&&(!Ht||oe&&8<oe&&11>=oe),li=" ",ui=!1;function Xr(i,r){switch(i){case"keyup":return _e.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var $a=!1;function PI(i,r){switch(i){case"compositionend":return Xa(r);case"keypress":return r.which!==32?null:(ui=!0,li);case"textInput":return i=r.data,i===li&&ui?null:i;default:return null}}function LI(i,r){if($a)return i==="compositionend"||!Ht&&Xr(i,r)?(i=bl(),Gr=Sl=Pi=null,$a=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zi&&r.locale!=="ko"?null:r.data;default:return null}}var kI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w_(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!kI[i.type]:r==="textarea"}function R_(i,r,a,l){ks?xi?xi.push(l):xi=[l]:ks=l,r=vh(r,"onChange"),0<r.length&&(a=new Li("onChange","change",null,a,l),i.push({event:a,listeners:r}))}var Cl=null,Dl=null;function UI(i){l0(i,0)}function Mc(i){var r=bn(i);if(jr(r))return i}function I_(i,r){if(i==="change")return r}var C_=!1;if(Un){var gd;if(Un){var yd="oninput"in document;if(!yd){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),yd=typeof D_.oninput=="function"}gd=yd}else gd=!1;C_=gd&&(!document.documentMode||9<document.documentMode)}function V_(){Cl&&(Cl.detachEvent("onpropertychange",M_),Dl=Cl=null)}function M_(i){if(i.propertyName==="value"&&Mc(Dl)){var r=[];R_(r,Dl,i,kn(i)),Us(UI,r)}}function zI(i,r,a){i==="focusin"?(V_(),Cl=r,Dl=a,Cl.attachEvent("onpropertychange",M_)):i==="focusout"&&V_()}function BI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Mc(Dl)}function jI(i,r){if(i==="click")return Mc(r)}function FI(i,r){if(i==="input"||i==="change")return Mc(r)}function qI(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Rn=typeof Object.is=="function"?Object.is:qI;function Vl(i,r){if(Rn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var a=Object.keys(i),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(r,f)||!Rn(i[f],r[f]))return!1}return!0}function O_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function N_(i,r){var a=O_(i);i=0;for(var l;a;){if(a.nodeType===3){if(l=i+a.textContent.length,i<=r&&l>=r)return{node:a,offset:r-i};i=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=O_(a)}}function x_(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?x_(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function P_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Ni(i.document);r instanceof i.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)i=r.contentWindow;else break;r=Ni(i.document)}return r}function _d(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var HI=Un&&"documentMode"in document&&11>=document.documentMode,Wa=null,vd=null,Ml=null,Td=!1;function L_(i,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||Wa==null||Wa!==Ni(l)||(l=Wa,"selectionStart"in l&&_d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ml&&Vl(Ml,l)||(Ml=l,l=vh(vd,"onSelect"),0<l.length&&(r=new Li("onSelect","select",null,r,a),i.push({event:r,listeners:l}),r.target=Wa)))}function $r(i,r){var a={};return a[i.toLowerCase()]=r.toLowerCase(),a["Webkit"+i]="webkit"+r,a["Moz"+i]="moz"+r,a}var Za={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Ed={},k_={};Un&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete Za.animationend.animation,delete Za.animationiteration.animation,delete Za.animationstart.animation),"TransitionEvent"in window||delete Za.transitionend.transition);function Wr(i){if(Ed[i])return Ed[i];if(!Za[i])return i;var r=Za[i],a;for(a in r)if(r.hasOwnProperty(a)&&a in k_)return Ed[i]=r[a];return i}var U_=Wr("animationend"),z_=Wr("animationiteration"),B_=Wr("animationstart"),GI=Wr("transitionrun"),KI=Wr("transitionstart"),YI=Wr("transitioncancel"),j_=Wr("transitionend"),F_=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function ci(i,r){F_.set(i,r),Mi(r,[i])}var Oc=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Bn=[],Ja=0,Sd=0;function Nc(){for(var i=Ja,r=Sd=Ja=0;r<i;){var a=Bn[r];Bn[r++]=null;var l=Bn[r];Bn[r++]=null;var f=Bn[r];Bn[r++]=null;var m=Bn[r];if(Bn[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}m!==0&&q_(a,f,m)}}function xc(i,r,a,l){Bn[Ja++]=i,Bn[Ja++]=r,Bn[Ja++]=a,Bn[Ja++]=l,Sd|=l,i.lanes|=l,i=i.alternate,i!==null&&(i.lanes|=l)}function bd(i,r,a,l){return xc(i,r,a,l),Pc(i)}function Zr(i,r){return xc(i,null,null,r),Pc(i)}function q_(i,r,a){i.lanes|=a;var l=i.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=i.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(i=m.stateNode,i===null||i._visibility&1||(f=!0)),i=m,m=m.return;return i.tag===3?(m=i.stateNode,f&&r!==null&&(f=31-ye(a),i=m.hiddenUpdates,l=i[f],l===null?i[f]=[r]:l.push(r),r.lane=a|536870912),m):null}function Pc(i){if(50<Jl)throw Jl=0,Nm=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var to={};function QI(i,r,a,l){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(i,r,a,l){return new QI(i,r,a,l)}function wd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function as(i,r){var a=i.alternate;return a===null?(a=In(i.tag,r,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=r,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,r=i.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function H_(i,r){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,r=a.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function Lc(i,r,a,l,f,m){var v=0;if(l=i,typeof i=="function")wd(i)&&(v=1);else if(typeof i=="string")v=JC(i,a,ct.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case I:return i=In(31,a,r,f),i.elementType=I,i.lanes=m,i;case G:return Jr(a.children,f,m,r);case j:v=8,f|=24;break;case Q:return i=In(12,a,r,f|2),i.elementType=Q,i.lanes=m,i;case st:return i=In(13,a,r,f),i.elementType=st,i.lanes=m,i;case ot:return i=In(19,a,r,f),i.elementType=ot,i.lanes=m,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case $:v=10;break t;case nt:v=9;break t;case et:v=11;break t;case R:v=14;break t;case w:v=16,l=null;break t}v=29,a=Error(s(130,i===null?"null":typeof i,"")),l=null}return r=In(v,a,r,f),r.elementType=i,r.type=l,r.lanes=m,r}function Jr(i,r,a,l){return i=In(7,i,l,r),i.lanes=a,i}function Rd(i,r,a){return i=In(6,i,null,r),i.lanes=a,i}function G_(i){var r=In(18,null,null,0);return r.stateNode=i,r}function Id(i,r,a){return r=In(4,i.children!==null?i.children:[],i.key,r),r.lanes=a,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var K_=new WeakMap;function jn(i,r){if(typeof i=="object"&&i!==null){var a=K_.get(i);return a!==void 0?a:(r={value:i,source:r,stack:ll(r)},K_.set(i,r),r)}return{value:i,source:r,stack:ll(r)}}var eo=[],no=0,kc=null,Ol=0,Fn=[],qn=0,Fs=null,Bi=1,ji="";function os(i,r){eo[no++]=Ol,eo[no++]=kc,kc=i,Ol=r}function Y_(i,r,a){Fn[qn++]=Bi,Fn[qn++]=ji,Fn[qn++]=Fs,Fs=i;var l=Bi;i=ji;var f=32-ye(l)-1;l&=~(1<<f),a+=1;var m=32-ye(r)+f;if(30<m){var v=f-f%5;m=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Bi=1<<32-ye(r)+f|a<<f|l,ji=m+i}else Bi=1<<m|a<<f|l,ji=i}function Cd(i){i.return!==null&&(os(i,1),Y_(i,1,0))}function Dd(i){for(;i===kc;)kc=eo[--no],eo[no]=null,Ol=eo[--no],eo[no]=null;for(;i===Fs;)Fs=Fn[--qn],Fn[qn]=null,ji=Fn[--qn],Fn[qn]=null,Bi=Fn[--qn],Fn[qn]=null}function Q_(i,r){Fn[qn++]=Bi,Fn[qn++]=ji,Fn[qn++]=Fs,Bi=r.id,ji=r.overflow,Fs=i}var Ye=null,ie=null,zt=!1,qs=null,Hn=!1,Vd=Error(s(519));function Hs(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nl(jn(r,i)),Vd}function X_(i){var r=i.stateNode,a=i.type,l=i.memoizedProps;switch(r[we]=i,r[je]=l,a){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(a=0;a<eu.length;a++)Ot(eu[a],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),gc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Ps(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||f0(r.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=ri),r=!0):r=!1,r||Hs(i,!0)}function $_(i){for(Ye=i.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Ye=Ye.return}}function io(i){if(i!==Ye)return!1;if(!zt)return $_(i),zt=!0,!1;var r=i.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||Qm(i.type,i.memoizedProps)),a=!a),a&&ie&&Hs(i),$_(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=E0(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ie=E0(i)}else r===27?(r=ie,sr(i.type)?(i=Jm,Jm=null,ie=i):ie=r):ie=Ye?Kn(i.stateNode.nextSibling):null;return!0}function ta(){ie=Ye=null,zt=!1}function Md(){var i=qs;return i!==null&&(_n===null?_n=i:_n.push.apply(_n,i),qs=null),i}function Nl(i){qs===null?qs=[i]:qs.push(i)}var Od=N(null),ea=null,ls=null;function Gs(i,r,a){at(Od,r._currentValue),r._currentValue=a}function us(i){i._currentValue=Od.current,J(Od)}function Nd(i,r,a){for(;i!==null;){var l=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),i===a)break;i=i.return}}function xd(i,r,a,l){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var m=f.dependencies;if(m!==null){var v=f.child;m=m.firstContext;t:for(;m!==null;){var S=m;m=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){m.lanes|=a,S=m.alternate,S!==null&&(S.lanes|=a),Nd(m.return,a,i),l||(v=null);break t}m=S.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,m=v.alternate,m!==null&&(m.lanes|=a),Nd(v,a,i),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===i){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function so(i,r,a,l){i=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=f.type;Rn(f.pendingProps.value,v.value)||(i!==null?i.push(S):i=[S])}}else if(f===Bt.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(au):i=[au])}f=f.return}i!==null&&xd(r,i,a,l),r.flags|=262144}function Uc(i){for(i=i.firstContext;i!==null;){if(!Rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function na(i){ea=i,ls=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qe(i){return W_(ea,i)}function zc(i,r){return ea===null&&na(i),W_(i,r)}function W_(i,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ls===null){if(i===null)throw Error(s(308));ls=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ls=ls.next=r;return a}var XI=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(a,l){i.push(l)}};this.abort=function(){r.aborted=!0,i.forEach(function(a){return a()})}},$I=e.unstable_scheduleCallback,WI=e.unstable_NormalPriority,Ce={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new XI,data:new Map,refCount:0}}function xl(i){i.refCount--,i.refCount===0&&$I(WI,function(){i.controller.abort()})}var Pl=null,Ld=0,ro=0,ao=null;function ZI(i,r){if(Pl===null){var a=Pl=[];Ld=0,ro=zm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ld++,r.then(Z_,Z_),r}function Z_(){if(--Ld===0&&Pl!==null){ao!==null&&(ao.status="fulfilled");var i=Pl;Pl=null,ro=0,ao=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function JI(i,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return i.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var J_=Y.S;Y.S=function(i,r){LT=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ZI(i,r),J_!==null&&J_(i,r)};var ia=N(null);function kd(){var i=ia.current;return i!==null?i:ee.pooledCache}function Bc(i,r){r===null?at(ia,ia.current):at(ia,r.pool)}function tv(){var i=kd();return i===null?null:{parent:Ce._currentValue,pool:i}}var oo=Error(s(460)),Ud=Error(s(474)),jc=Error(s(542)),Fc={then:function(){}};function ev(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nv(i,r,a){switch(a=i[a],a===void 0?i.push(r):a!==r&&(r.then(ri,ri),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i;default:if(typeof r.status=="string")r.then(ri,ri);else{if(i=ee,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,sv(i),i}throw ra=r,oo}}function sa(i){try{var r=i._init;return r(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ra=a,oo):a}}var ra=null;function iv(){if(ra===null)throw Error(s(459));var i=ra;return ra=null,i}function sv(i){if(i===oo||i===jc)throw Error(s(483))}var lo=null,Ll=0;function qc(i){var r=Ll;return Ll+=1,lo===null&&(lo=[]),nv(lo,i,r)}function kl(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function Hc(i,r){throw r.$$typeof===A?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function rv(i){function r(P,O){if(i){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!i)return null;for(;O!==null;)r(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(P,O){return P=as(P,O),P.index=0,P.sibling=null,P}function m(P,O,z){return P.index=z,i?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return i&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,z,X){return O===null||O.tag!==6?(O=Rd(z,P.mode,X),O.return=P,O):(O=f(O,z),O.return=P,O)}function D(P,O,z,X){var gt=z.type;return gt===G?K(P,O,z.props.children,X,z.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&sa(gt)===O.type)?(O=f(O,z.props),kl(O,z),O.return=P,O):(O=Lc(z.type,z.key,z.props,null,P.mode,X),kl(O,z),O.return=P,O)}function B(P,O,z,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Id(z,P.mode,X),O.return=P,O):(O=f(O,z.children||[]),O.return=P,O)}function K(P,O,z,X,gt){return O===null||O.tag!==7?(O=Jr(z,P.mode,X,gt),O.return=P,O):(O=f(O,z),O.return=P,O)}function Z(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Rd(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return z=Lc(O.type,O.key,O.props,null,P.mode,z),kl(z,O),z.return=P,z;case k:return O=Id(O,P.mode,z),O.return=P,O;case w:return O=sa(O),Z(P,O,z)}if(fe(O)||L(O))return O=Jr(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return Z(P,qc(O),z);if(O.$$typeof===$)return Z(P,zc(P,O),z);Hc(P,O)}return null}function F(P,O,z,X){var gt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:S(P,O,""+z,X);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case V:return z.key===gt?D(P,O,z,X):null;case k:return z.key===gt?B(P,O,z,X):null;case w:return z=sa(z),F(P,O,z,X)}if(fe(z)||L(z))return gt!==null?null:K(P,O,z,X,null);if(typeof z.then=="function")return F(P,O,qc(z),X);if(z.$$typeof===$)return F(P,O,zc(P,z),X);Hc(P,z)}return null}function H(P,O,z,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(z)||null,S(O,P,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case V:return P=P.get(X.key===null?z:X.key)||null,D(O,P,X,gt);case k:return P=P.get(X.key===null?z:X.key)||null,B(O,P,X,gt);case w:return X=sa(X),H(P,O,z,X,gt)}if(fe(X)||L(X))return P=P.get(z)||null,K(O,P,X,gt,null);if(typeof X.then=="function")return H(P,O,z,qc(X),gt);if(X.$$typeof===$)return H(P,O,z,zc(O,X),gt);Hc(O,X)}return null}function ft(P,O,z,X){for(var gt=null,Ft=null,mt=O,Vt=O=0,Pt=null;mt!==null&&Vt<z.length;Vt++){mt.index>Vt?(Pt=mt,mt=null):Pt=mt.sibling;var qt=F(P,mt,z[Vt],X);if(qt===null){mt===null&&(mt=Pt);break}i&&mt&&qt.alternate===null&&r(P,mt),O=m(qt,O,Vt),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt,mt=Pt}if(Vt===z.length)return a(P,mt),zt&&os(P,Vt),gt;if(mt===null){for(;Vt<z.length;Vt++)mt=Z(P,z[Vt],X),mt!==null&&(O=m(mt,O,Vt),Ft===null?gt=mt:Ft.sibling=mt,Ft=mt);return zt&&os(P,Vt),gt}for(mt=l(mt);Vt<z.length;Vt++)Pt=H(mt,P,Vt,z[Vt],X),Pt!==null&&(i&&Pt.alternate!==null&&mt.delete(Pt.key===null?Vt:Pt.key),O=m(Pt,O,Vt),Ft===null?gt=Pt:Ft.sibling=Pt,Ft=Pt);return i&&mt.forEach(function(ur){return r(P,ur)}),zt&&os(P,Vt),gt}function _t(P,O,z,X){if(z==null)throw Error(s(151));for(var gt=null,Ft=null,mt=O,Vt=O=0,Pt=null,qt=z.next();mt!==null&&!qt.done;Vt++,qt=z.next()){mt.index>Vt?(Pt=mt,mt=null):Pt=mt.sibling;var ur=F(P,mt,qt.value,X);if(ur===null){mt===null&&(mt=Pt);break}i&&mt&&ur.alternate===null&&r(P,mt),O=m(ur,O,Vt),Ft===null?gt=ur:Ft.sibling=ur,Ft=ur,mt=Pt}if(qt.done)return a(P,mt),zt&&os(P,Vt),gt;if(mt===null){for(;!qt.done;Vt++,qt=z.next())qt=Z(P,qt.value,X),qt!==null&&(O=m(qt,O,Vt),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt);return zt&&os(P,Vt),gt}for(mt=l(mt);!qt.done;Vt++,qt=z.next())qt=H(mt,P,Vt,qt.value,X),qt!==null&&(i&&qt.alternate!==null&&mt.delete(qt.key===null?Vt:qt.key),O=m(qt,O,Vt),Ft===null?gt=qt:Ft.sibling=qt,Ft=qt);return i&&mt.forEach(function(cD){return r(P,cD)}),zt&&os(P,Vt),gt}function Jt(P,O,z,X){if(typeof z=="object"&&z!==null&&z.type===G&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case V:t:{for(var gt=z.key;O!==null;){if(O.key===gt){if(gt=z.type,gt===G){if(O.tag===7){a(P,O.sibling),X=f(O,z.props.children),X.return=P,P=X;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&sa(gt)===O.type){a(P,O.sibling),X=f(O,z.props),kl(X,z),X.return=P,P=X;break t}a(P,O);break}else r(P,O);O=O.sibling}z.type===G?(X=Jr(z.props.children,P.mode,X,z.key),X.return=P,P=X):(X=Lc(z.type,z.key,z.props,null,P.mode,X),kl(X,z),X.return=P,P=X)}return v(P);case k:t:{for(gt=z.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),X=f(O,z.children||[]),X.return=P,P=X;break t}else{a(P,O);break}else r(P,O);O=O.sibling}X=Id(z,P.mode,X),X.return=P,P=X}return v(P);case w:return z=sa(z),Jt(P,O,z,X)}if(fe(z))return ft(P,O,z,X);if(L(z)){if(gt=L(z),typeof gt!="function")throw Error(s(150));return z=gt.call(z),_t(P,O,z,X)}if(typeof z.then=="function")return Jt(P,O,qc(z),X);if(z.$$typeof===$)return Jt(P,O,zc(P,z),X);Hc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),X=f(O,z),X.return=P,P=X):(a(P,O),X=Rd(z,P.mode,X),X.return=P,P=X),v(P)):a(P,O)}return function(P,O,z,X){try{Ll=0;var gt=Jt(P,O,z,X);return lo=null,gt}catch(mt){if(mt===oo||mt===jc)throw mt;var Ft=In(29,mt,null,P.mode);return Ft.lanes=X,Ft.return=P,Ft}}}var aa=rv(!0),av=rv(!1),Ks=!1;function zd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ys(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Qs(i,r,a){var l=i.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Pc(i),q_(i,null,a),r}return xc(i,l,r,a),Pc(i)}function Ul(i,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,hl(i,a)}}function jd(i,r){var a=i.updateQueue,l=i.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=v:m=m.next=v,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=r:i.next=r,a.lastBaseUpdate=r}var Fd=!1;function zl(){if(Fd){var i=ao;if(i!==null)throw i}}function Bl(i,r,a,l){Fd=!1;var f=i.updateQueue;Ks=!1;var m=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,B=D.next;D.next=null,v===null?m=B:v.next=B,v=D;var K=i.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==v&&(S===null?K.firstBaseUpdate=B:S.next=B,K.lastBaseUpdate=D))}if(m!==null){var Z=f.baseState;v=0,K=B=D=null,S=m;do{var F=S.lane&-536870913,H=F!==S.lane;if(H?(xt&F)===F:(l&F)===F){F!==0&&F===ro&&(Fd=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ft=i,_t=S;F=r;var Jt=a;switch(_t.tag){case 1:if(ft=_t.payload,typeof ft=="function"){Z=ft.call(Jt,Z,F);break t}Z=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=_t.payload,F=typeof ft=="function"?ft.call(Jt,Z,F):ft,F==null)break t;Z=E({},Z,F);break t;case 2:Ks=!0}}F=S.callback,F!==null&&(i.flags|=64,H&&(i.flags|=8192),H=f.callbacks,H===null?f.callbacks=[F]:H.push(F))}else H={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(B=K=H,D=Z):K=K.next=H,v|=F;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;H=S,S=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);K===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=B,f.lastBaseUpdate=K,m===null&&(f.shared.lanes=0),Js|=v,i.lanes=v,i.memoizedState=Z}}function ov(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function lv(i,r){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)ov(a[i],r)}var uo=N(null),Gc=N(0);function uv(i,r){i=_s,at(Gc,i),at(uo,r),_s=i|r.baseLanes}function qd(){at(Gc,_s),at(uo,uo.current)}function Hd(){_s=Gc.current,J(uo),J(Gc)}var Cn=N(null),Gn=null;function Xs(i){var r=i.alternate;at(ve,ve.current&1),at(Cn,i),Gn===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(Gn=i)}function Gd(i){at(ve,ve.current),at(Cn,i),Gn===null&&(Gn=i)}function cv(i){i.tag===22?(at(ve,ve.current),at(Cn,i),Gn===null&&(Gn=i)):$s()}function $s(){at(ve,ve.current),at(Cn,Cn.current)}function Dn(i){J(Cn),Gn===i&&(Gn=null),J(ve)}var ve=N(0);function Kc(i){for(var r=i;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wm(a)||Zm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cs=0,It=null,Wt=null,De=null,Yc=!1,co=!1,oa=!1,Qc=0,jl=0,ho=null,tC=0;function de(){throw Error(s(321))}function Kd(i,r){if(r===null)return!1;for(var a=0;a<r.length&&a<i.length;a++)if(!Rn(i[a],r[a]))return!1;return!0}function Yd(i,r,a,l,f,m){return cs=m,It=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=i===null||i.memoizedState===null?Yv:lm,oa=!1,m=a(l,f),oa=!1,co&&(m=fv(r,a,l,f)),hv(i),m}function hv(i){Y.H=Hl;var r=Wt!==null&&Wt.next!==null;if(cs=0,De=Wt=It=null,Yc=!1,jl=0,ho=null,r)throw Error(s(300));i===null||Ve||(i=i.dependencies,i!==null&&Uc(i)&&(Ve=!0))}function fv(i,r,a,l){It=i;var f=0;do{if(co&&(ho=null),jl=0,co=!1,25<=f)throw Error(s(301));if(f+=1,De=Wt=null,i.updateQueue!=null){var m=i.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Y.H=Qv,m=r(a,l)}while(co);return m}function eC(){var i=Y.H,r=i.useState()[0];return r=typeof r.then=="function"?Fl(r):r,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(It.flags|=1024),r}function Qd(){var i=Qc!==0;return Qc=0,i}function Xd(i,r,a){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~a}function $d(i){if(Yc){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Yc=!1}cs=0,De=Wt=It=null,co=!1,jl=Qc=0,ho=null}function cn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?It.memoizedState=De=i:De=De.next=i,De}function Te(){if(Wt===null){var i=It.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var r=De===null?It.memoizedState:De.next;if(r!==null)De=r,Wt=i;else{if(i===null)throw It.alternate===null?Error(s(467)):Error(s(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},De===null?It.memoizedState=De=i:De=De.next=i}return De}function Xc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(i){var r=jl;return jl+=1,ho===null&&(ho=[]),i=nv(ho,i,r),r=It,(De===null?r.memoizedState:De.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Yv:lm),i}function $c(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Fl(i);if(i.$$typeof===$)return Qe(i)}throw Error(s(438,String(i)))}function Wd(i){var r=null,a=It.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xc(),It.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(i),l=0;l<i;l++)a[l]=x;return r.index++,a}function hs(i,r){return typeof r=="function"?r(i):r}function Wc(i){var r=Te();return Zd(r,Wt,i)}function Zd(i,r,a){var l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=i.baseQueue,m=l.pending;if(m!==null){if(f!==null){var v=f.next;f.next=m.next,m.next=v}r.baseQueue=f=m,l.pending=null}if(m=i.baseState,f===null)i.memoizedState=m;else{r=f.next;var S=v=null,D=null,B=r,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(xt&Z)===Z:(cs&Z)===Z){var F=B.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ro&&(K=!0);else if((cs&F)===F){B=B.next,F===ro&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=Z,v=m):D=D.next=Z,It.lanes|=F,Js|=F;Z=B.action,oa&&a(m,Z),m=B.hasEagerState?B.eagerState:a(m,Z)}else F={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(S=D=F,v=m):D=D.next=F,It.lanes|=Z,Js|=Z;B=B.next}while(B!==null&&B!==r);if(D===null?v=m:D.next=S,!Rn(m,i.memoizedState)&&(Ve=!0,K&&(a=ao,a!==null)))throw a;i.memoizedState=m,i.baseState=v,i.baseQueue=D,l.lastRenderedState=m}return f===null&&(l.lanes=0),[i.memoizedState,l.dispatch]}function Jd(i){var r=Te(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do m=i(m,v.action),v=v.next;while(v!==f);Rn(m,r.memoizedState)||(Ve=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function dv(i,r,a){var l=It,f=Te(),m=zt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Rn((Wt||f).memoizedState,a);if(v&&(f.memoizedState=a,Ve=!0),f=f.queue,nm(gv.bind(null,l,f,i),[i]),f.getSnapshot!==r||v||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},pv.bind(null,l,f,a,r),null),ee===null)throw Error(s(349));m||(cs&127)!==0||mv(l,r,a)}return a}function mv(i,r,a){i.flags|=16384,i={getSnapshot:r,value:a},r=It.updateQueue,r===null?(r=Xc(),It.updateQueue=r,r.stores=[i]):(a=r.stores,a===null?r.stores=[i]:a.push(i))}function pv(i,r,a,l){r.value=a,r.getSnapshot=l,yv(r)&&_v(i)}function gv(i,r,a){return a(function(){yv(r)&&_v(i)})}function yv(i){var r=i.getSnapshot;i=i.value;try{var a=r();return!Rn(i,a)}catch{return!0}}function _v(i){var r=Zr(i,2);r!==null&&vn(r,i,2)}function tm(i){var r=cn();if(typeof i=="function"){var a=i;if(i=a(),oa){Pn(!0);try{a()}finally{Pn(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:i},r}function vv(i,r,a,l){return i.baseState=a,Zd(i,Wt,typeof l=="function"?l:hs)}function nC(i,r,a,l,f){if(th(i))throw Error(s(485));if(i=r.action,i!==null){var m={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};Y.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Tv(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Tv(i,r){var a=r.action,l=r.payload,f=i.state;if(r.isTransition){var m=Y.T,v={};Y.T=v;try{var S=a(f,l),D=Y.S;D!==null&&D(v,S),Ev(i,r,S)}catch(B){em(i,r,B)}finally{m!==null&&v.types!==null&&(m.types=v.types),Y.T=m}}else try{m=a(f,l),Ev(i,r,m)}catch(B){em(i,r,B)}}function Ev(i,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Av(i,r,l)},function(l){return em(i,r,l)}):Av(i,r,a)}function Av(i,r,a){r.status="fulfilled",r.value=a,Sv(r),i.state=a,r=i.pending,r!==null&&(a=r.next,a===r?i.pending=null:(a=a.next,r.next=a,Tv(i,a)))}function em(i,r,a){var l=i.pending;if(i.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Sv(r),r=r.next;while(r!==l)}i.action=null}function Sv(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function bv(i,r){return r}function wv(i,r){if(zt){var a=ee.formState;if(a!==null){t:{var l=It;if(zt){if(ie){e:{for(var f=ie,m=Hn;f.nodeType!==8;){if(!m){f=null;break e}if(f=Kn(f.nextSibling),f===null){f=null;break e}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){ie=Kn(f.nextSibling),l=f.data==="F!";break t}}Hs(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bv,lastRenderedState:r},a.queue=l,a=Hv.bind(null,It,l),l.dispatch=a,l=tm(!1),m=om.bind(null,It,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:i,pending:null},l.queue=f,a=nC.bind(null,It,f,m,a),f.dispatch=a,l.memoizedState=i,[r,a,!1]}function Rv(i){var r=Te();return Iv(r,Wt,i)}function Iv(i,r,a){if(r=Zd(i,r,bv)[0],i=Wc(hs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Fl(r)}catch(v){throw v===oo?jc:v}else l=r;r=Te();var f=r.queue,m=f.dispatch;return a!==r.memoizedState&&(It.flags|=2048,fo(9,{destroy:void 0},iC.bind(null,f,a),null)),[l,m,i]}function iC(i,r){i.action=r}function Cv(i){var r=Te(),a=Wt;if(a!==null)return Iv(r,a,i);Te(),r=r.memoizedState,a=Te();var l=a.queue.dispatch;return a.memoizedState=i,[r,l,!1]}function fo(i,r,a,l){return i={tag:i,create:a,deps:l,inst:r,next:null},r=It.updateQueue,r===null&&(r=Xc(),It.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=i.next=i:(l=a.next,a.next=i,i.next=l,r.lastEffect=i),i}function Dv(){return Te().memoizedState}function Zc(i,r,a,l){var f=cn();It.flags|=i,f.memoizedState=fo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Jc(i,r,a,l){var f=Te();l=l===void 0?null:l;var m=f.memoizedState.inst;Wt!==null&&l!==null&&Kd(l,Wt.memoizedState.deps)?f.memoizedState=fo(r,m,a,l):(It.flags|=i,f.memoizedState=fo(1|r,m,a,l))}function Vv(i,r){Zc(8390656,8,i,r)}function nm(i,r){Jc(2048,8,i,r)}function sC(i){It.flags|=4;var r=It.updateQueue;if(r===null)r=Xc(),It.updateQueue=r,r.events=[i];else{var a=r.events;a===null?r.events=[i]:a.push(i)}}function Mv(i){var r=Te().memoizedState;return sC({ref:r,nextImpl:i}),function(){if((Gt&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Ov(i,r){return Jc(4,2,i,r)}function Nv(i,r){return Jc(4,4,i,r)}function xv(i,r){if(typeof r=="function"){i=i();var a=r(i);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Pv(i,r,a){a=a!=null?a.concat([i]):null,Jc(4,4,xv.bind(null,r,i),a)}function im(){}function Lv(i,r){var a=Te();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Kd(r,l[1])?l[0]:(a.memoizedState=[i,r],i)}function kv(i,r){var a=Te();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Kd(r,l[1]))return l[0];if(l=i(),oa){Pn(!0);try{i()}finally{Pn(!1)}}return a.memoizedState=[l,r],l}function sm(i,r,a){return a===void 0||(cs&1073741824)!==0&&(xt&261930)===0?i.memoizedState=r:(i.memoizedState=a,i=UT(),It.lanes|=i,Js|=i,a)}function Uv(i,r,a,l){return Rn(a,r)?a:uo.current!==null?(i=sm(i,a,l),Rn(i,r)||(Ve=!0),i):(cs&42)===0||(cs&1073741824)!==0&&(xt&261930)===0?(Ve=!0,i.memoizedState=a):(i=UT(),It.lanes|=i,Js|=i,r)}function zv(i,r,a,l,f){var m=it.p;it.p=m!==0&&8>m?m:8;var v=Y.T,S={};Y.T=S,om(i,!1,r,a);try{var D=f(),B=Y.S;if(B!==null&&B(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=JI(D,l);ql(i,r,K,On(i))}else ql(i,r,l,On(i))}catch(Z){ql(i,r,{then:function(){},status:"rejected",reason:Z},On())}finally{it.p=m,v!==null&&S.types!==null&&(v.types=S.types),Y.T=v}}function rC(){}function rm(i,r,a,l){if(i.tag!==5)throw Error(s(476));var f=Bv(i).queue;zv(i,f,r,ht,a===null?rC:function(){return jv(i),a(l)})}function Bv(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:ht},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:a},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function jv(i){var r=Bv(i);r.next===null&&(r=i.alternate.memoizedState),ql(i,r.next.queue,{},On())}function am(){return Qe(au)}function Fv(){return Te().memoizedState}function qv(){return Te().memoizedState}function aC(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();i=Ys(a);var l=Qs(r,i,a);l!==null&&(vn(l,r,a),Ul(l,r,a)),r={cache:Pd()},i.payload=r;return}r=r.return}}function oC(i,r,a){var l=On();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},th(i)?Gv(r,a):(a=bd(i,r,a,l),a!==null&&(vn(a,i,l),Kv(a,r,l)))}function Hv(i,r,a){var l=On();ql(i,r,a,l)}function ql(i,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(th(i))Gv(r,f);else{var m=i.alternate;if(i.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,S=m(v,a);if(f.hasEagerState=!0,f.eagerState=S,Rn(S,v))return xc(i,r,f,0),ee===null&&Nc(),!1}catch{}if(a=bd(i,r,f,l),a!==null)return vn(a,i,l),Kv(a,r,l),!0}return!1}function om(i,r,a,l){if(l={lane:2,revertLane:zm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},th(i)){if(r)throw Error(s(479))}else r=bd(i,a,l,2),r!==null&&vn(r,i,2)}function th(i){var r=i.alternate;return i===It||r!==null&&r===It}function Gv(i,r){co=Yc=!0;var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}function Kv(i,r,a){if((a&4194048)!==0){var l=r.lanes;l&=i.pendingLanes,a|=l,r.lanes=a,hl(i,a)}}var Hl={readContext:Qe,use:$c,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Hl.useEffectEvent=de;var Yv={readContext:Qe,use:$c,useCallback:function(i,r){return cn().memoizedState=[i,r===void 0?null:r],i},useContext:Qe,useEffect:Vv,useImperativeHandle:function(i,r,a){a=a!=null?a.concat([i]):null,Zc(4194308,4,xv.bind(null,r,i),a)},useLayoutEffect:function(i,r){return Zc(4194308,4,i,r)},useInsertionEffect:function(i,r){Zc(4,2,i,r)},useMemo:function(i,r){var a=cn();r=r===void 0?null:r;var l=i();if(oa){Pn(!0);try{i()}finally{Pn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(i,r,a){var l=cn();if(a!==void 0){var f=a(r);if(oa){Pn(!0);try{a(r)}finally{Pn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},l.queue=i,i=i.dispatch=oC.bind(null,It,i),[l.memoizedState,i]},useRef:function(i){var r=cn();return i={current:i},r.memoizedState=i},useState:function(i){i=tm(i);var r=i.queue,a=Hv.bind(null,It,r);return r.dispatch=a,[i.memoizedState,a]},useDebugValue:im,useDeferredValue:function(i,r){var a=cn();return sm(a,i,r)},useTransition:function(){var i=tm(!1);return i=zv.bind(null,It,i.queue,!0,!1),cn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,a){var l=It,f=cn();if(zt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ee===null)throw Error(s(349));(xt&127)!==0||mv(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,Vv(gv.bind(null,l,m,i),[i]),l.flags|=2048,fo(9,{destroy:void 0},pv.bind(null,l,m,a,r),null),a},useId:function(){var i=cn(),r=ee.identifierPrefix;if(zt){var a=ji,l=Bi;a=(l&~(1<<32-ye(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Qc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=tC++,r="_"+r+"r_"+a.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:am,useFormState:wv,useActionState:wv,useOptimistic:function(i){var r=cn();r.memoizedState=r.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=om.bind(null,It,!0,a),a.dispatch=r,[i,r]},useMemoCache:Wd,useCacheRefresh:function(){return cn().memoizedState=aC.bind(null,It)},useEffectEvent:function(i){var r=cn(),a={impl:i};return r.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},lm={readContext:Qe,use:$c,useCallback:Lv,useContext:Qe,useEffect:nm,useImperativeHandle:Pv,useInsertionEffect:Ov,useLayoutEffect:Nv,useMemo:kv,useReducer:Wc,useRef:Dv,useState:function(){return Wc(hs)},useDebugValue:im,useDeferredValue:function(i,r){var a=Te();return Uv(a,Wt.memoizedState,i,r)},useTransition:function(){var i=Wc(hs)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:Fl(i),r]},useSyncExternalStore:dv,useId:Fv,useHostTransitionStatus:am,useFormState:Rv,useActionState:Rv,useOptimistic:function(i,r){var a=Te();return vv(a,Wt,i,r)},useMemoCache:Wd,useCacheRefresh:qv};lm.useEffectEvent=Mv;var Qv={readContext:Qe,use:$c,useCallback:Lv,useContext:Qe,useEffect:nm,useImperativeHandle:Pv,useInsertionEffect:Ov,useLayoutEffect:Nv,useMemo:kv,useReducer:Jd,useRef:Dv,useState:function(){return Jd(hs)},useDebugValue:im,useDeferredValue:function(i,r){var a=Te();return Wt===null?sm(a,i,r):Uv(a,Wt.memoizedState,i,r)},useTransition:function(){var i=Jd(hs)[0],r=Te().memoizedState;return[typeof i=="boolean"?i:Fl(i),r]},useSyncExternalStore:dv,useId:Fv,useHostTransitionStatus:am,useFormState:Cv,useActionState:Cv,useOptimistic:function(i,r){var a=Te();return Wt!==null?vv(a,Wt,i,r):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:qv};Qv.useEffectEvent=Mv;function um(i,r,a,l){r=i.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var cm={enqueueSetState:function(i,r,a){i=i._reactInternals;var l=On(),f=Ys(l);f.payload=r,a!=null&&(f.callback=a),r=Qs(i,f,l),r!==null&&(vn(r,i,l),Ul(r,i,l))},enqueueReplaceState:function(i,r,a){i=i._reactInternals;var l=On(),f=Ys(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Qs(i,f,l),r!==null&&(vn(r,i,l),Ul(r,i,l))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var a=On(),l=Ys(a);l.tag=2,r!=null&&(l.callback=r),r=Qs(i,l,a),r!==null&&(vn(r,i,a),Ul(r,i,a))}};function Xv(i,r,a,l,f,m,v){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!Vl(a,l)||!Vl(f,m):!0}function $v(i,r,a,l){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==i&&cm.enqueueReplaceState(r,r.state,null)}function la(i,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(i=i.defaultProps){a===r&&(a=E({},a));for(var f in i)a[f]===void 0&&(a[f]=i[f])}return a}function Wv(i){Oc(i)}function Zv(i){console.error(i)}function Jv(i){Oc(i)}function eh(i,r){try{var a=i.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function tT(i,r,a){try{var l=i.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function hm(i,r,a){return a=Ys(a),a.tag=3,a.payload={element:null},a.callback=function(){eh(i,r)},a}function eT(i){return i=Ys(i),i.tag=3,i}function nT(i,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;i.payload=function(){return f(m)},i.callback=function(){tT(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(i.callback=function(){tT(r,a,l),typeof f!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function lC(i,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&so(r,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?dh():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Fc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Lm(i,l,f)),!1;case 22:return a.flags|=65536,l===Fc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Lm(i,l,f)),!1}throw Error(s(435,a.tag))}return Lm(i,l,f),dh(),!1}if(zt)return r=Cn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Vd&&(i=Error(s(422),{cause:l}),Nl(jn(i,a)))):(l!==Vd&&(r=Error(s(423),{cause:l}),Nl(jn(r,a))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,l=jn(l,a),f=hm(i.stateNode,l,f),jd(i,f),me!==4&&(me=2)),!1;var m=Error(s(520),{cause:l});if(m=jn(m,a),Zl===null?Zl=[m]:Zl.push(m),me!==4&&(me=2),r===null)return!0;l=jn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,i=f&-f,a.lanes|=i,i=hm(a.stateNode,l,i),jd(a,i),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(tr===null||!tr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=eT(f),nT(f,i,a,l),jd(a,f),!1}a=a.return}while(a!==null);return!1}var fm=Error(s(461)),Ve=!1;function Xe(i,r,a,l){r.child=i===null?av(r,null,a,l):aa(r,i.child,a,l)}function iT(i,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return na(r),l=Yd(i,r,a,v,m,f),S=Qd(),i!==null&&!Ve?(Xd(i,r,f),fs(i,r,f)):(zt&&S&&Cd(r),r.flags|=1,Xe(i,r,l,f),r.child)}function sT(i,r,a,l,f){if(i===null){var m=a.type;return typeof m=="function"&&!wd(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,rT(i,r,m,l,f)):(i=Lc(a.type,null,l,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(m=i.child,!Tm(i,f)){var v=m.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(v,l)&&i.ref===r.ref)return fs(i,r,f)}return r.flags|=1,i=as(m,l),i.ref=r.ref,i.return=r,r.child=i}function rT(i,r,a,l,f){if(i!==null){var m=i.memoizedProps;if(Vl(m,l)&&i.ref===r.ref)if(Ve=!1,r.pendingProps=l=m,Tm(i,f))(i.flags&131072)!==0&&(Ve=!0);else return r.lanes=i.lanes,fs(i,r,f)}return dm(i,r,a,l,f)}function aT(i,r,a,l){var f=l.children,m=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,i!==null){for(l=r.child=i.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~m}else l=0,r.child=null;return oT(i,r,m,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&Bc(r,m!==null?m.cachePool:null),m!==null?uv(r,m):qd(),cv(r);else return l=r.lanes=536870912,oT(i,r,m!==null?m.baseLanes|a:a,a,l)}else m!==null?(Bc(r,m.cachePool),uv(r,m),$s(),r.memoizedState=null):(i!==null&&Bc(r,null),qd(),$s());return Xe(i,r,f,a),r.child}function Gl(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function oT(i,r,a,l,f){var m=kd();return m=m===null?null:{parent:Ce._currentValue,pool:m},r.memoizedState={baseLanes:a,cachePool:m},i!==null&&Bc(r,null),qd(),cv(r),i!==null&&so(i,r,l,!0),r.childLanes=f,null}function nh(i,r){return r=sh({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function lT(i,r,a){return aa(r,i.child,null,a),i=nh(r,r.pendingProps),i.flags|=2,Dn(r),r.memoizedState=null,i}function uC(i,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(zt){if(l.mode==="hidden")return i=nh(r,l),r.lanes=536870912,Gl(null,i);if(Gd(r),(i=ie)?(i=T0(i,Hn),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Fs!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=G_(i),a.return=r,r.child=a,Ye=r,ie=null)):i=null,i===null)throw Hs(r);return r.lanes=536870912,null}return nh(r,l)}var m=i.memoizedState;if(m!==null){var v=m.dehydrated;if(Gd(r),f)if(r.flags&256)r.flags&=-257,r=lT(i,r,a);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ve||so(i,r,a,!1),f=(a&i.childLanes)!==0,Ve||f){if(l=ee,l!==null&&(v=fl(l,a),v!==0&&v!==m.retryLane))throw m.retryLane=v,Zr(i,v),vn(l,i,v),fm;dh(),r=lT(i,r,a)}else i=m.treeContext,ie=Kn(v.nextSibling),Ye=r,zt=!0,qs=null,Hn=!1,i!==null&&Q_(r,i),r=nh(r,l),r.flags|=4096;return r}return i=as(i.child,{mode:l.mode,children:l.children}),i.ref=r.ref,r.child=i,i.return=r,i}function ih(i,r){var a=r.ref;if(a===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(r.flags|=4194816)}}function dm(i,r,a,l,f){return na(r),a=Yd(i,r,a,l,void 0,f),l=Qd(),i!==null&&!Ve?(Xd(i,r,f),fs(i,r,f)):(zt&&l&&Cd(r),r.flags|=1,Xe(i,r,a,f),r.child)}function uT(i,r,a,l,f,m){return na(r),r.updateQueue=null,a=fv(r,l,a,f),hv(i),l=Qd(),i!==null&&!Ve?(Xd(i,r,m),fs(i,r,m)):(zt&&l&&Cd(r),r.flags|=1,Xe(i,r,a,m),r.child)}function cT(i,r,a,l,f){if(na(r),r.stateNode===null){var m=to,v=a.contextType;typeof v=="object"&&v!==null&&(m=Qe(v)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=cm,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},zd(r),v=a.contextType,m.context=typeof v=="object"&&v!==null?Qe(v):to,m.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(um(r,a,v,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&cm.enqueueReplaceState(m,m.state,null),Bl(r,l,m,f),zl(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(i===null){m=r.stateNode;var S=r.memoizedProps,D=la(a,S);m.props=D;var B=m.context,K=a.contextType;v=to,typeof K=="object"&&K!==null&&(v=Qe(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof m.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,K||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S||B!==v)&&$v(r,m,l,v),Ks=!1;var F=r.memoizedState;m.state=F,Bl(r,l,m,f),zl(),B=r.memoizedState,S||F!==B||Ks?(typeof Z=="function"&&(um(r,a,Z,l),B=r.memoizedState),(D=Ks||Xv(r,a,D,l,F,B,v))?(K||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=B),m.props=l,m.state=B,m.context=v,l=D):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Bd(i,r),v=r.memoizedProps,K=la(a,v),m.props=K,Z=r.pendingProps,F=m.context,B=a.contextType,D=to,typeof B=="object"&&B!==null&&(D=Qe(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Z||F!==D)&&$v(r,m,l,D),Ks=!1,F=r.memoizedState,m.state=F,Bl(r,l,m,f),zl();var H=r.memoizedState;v!==Z||F!==H||Ks||i!==null&&i.dependencies!==null&&Uc(i.dependencies)?(typeof S=="function"&&(um(r,a,S,l),H=r.memoizedState),(K=Ks||Xv(r,a,K,l,F,H,D)||i!==null&&i.dependencies!==null&&Uc(i.dependencies))?(B||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,H,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,H,D)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=H),m.props=l,m.state=H,m.context=D,l=K):(typeof m.componentDidUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===i.memoizedProps&&F===i.memoizedState||(r.flags|=1024),l=!1)}return m=l,ih(i,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,i!==null&&l?(r.child=aa(r,i.child,null,f),r.child=aa(r,null,a,f)):Xe(i,r,a,f),r.memoizedState=m.state,i=r.child):i=fs(i,r,f),i}function hT(i,r,a,l){return ta(),r.flags|=256,Xe(i,r,a,l),r.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pm(i){return{baseLanes:i,cachePool:tv()}}function gm(i,r,a){return i=i!==null?i.childLanes&~a:0,r&&(i|=Mn),i}function fT(i,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=i!==null&&i.memoizedState===null?!1:(ve.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,i===null){if(zt){if(f?Xs(r):$s(),(i=ie)?(i=T0(i,Hn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:Fs!==null?{id:Bi,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},a=G_(i),a.return=r,r.child=a,Ye=r,ie=null)):i=null,i===null)throw Hs(r);return Zm(i)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?($s(),f=r.mode,S=sh({mode:"hidden",children:S},f),l=Jr(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=pm(a),l.childLanes=gm(i,v,a),r.memoizedState=mm,Gl(null,l)):(Xs(r),ym(r,S))}var D=i.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(m)r.flags&256?(Xs(r),r.flags&=-257,r=_m(i,r,a)):r.memoizedState!==null?($s(),r.child=i.child,r.flags|=128,r=null):($s(),S=l.fallback,f=r.mode,l=sh({mode:"visible",children:l.children},f),S=Jr(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,aa(r,i.child,null,a),l=r.child,l.memoizedState=pm(a),l.childLanes=gm(i,v,a),r.memoizedState=mm,r=Gl(null,l));else if(Xs(r),Zm(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,Nl({value:l,source:null,stack:null}),r=_m(i,r,a)}else if(Ve||so(i,r,a,!1),v=(a&i.childLanes)!==0,Ve||v){if(v=ee,v!==null&&(l=fl(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Zr(i,l),vn(v,i,l),fm;Wm(S)||dh(),r=_m(i,r,a)}else Wm(S)?(r.flags|=192,r.child=i.child,r=null):(i=D.treeContext,ie=Kn(S.nextSibling),Ye=r,zt=!0,qs=null,Hn=!1,i!==null&&Q_(r,i),r=ym(r,l.children),r.flags|=4096);return r}return f?($s(),S=l.fallback,f=r.mode,D=i.child,B=D.sibling,l=as(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?S=as(B,S):(S=Jr(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Gl(null,l),l=r.child,S=i.child.memoizedState,S===null?S=pm(a):(f=S.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=tv(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=gm(i,v,a),r.memoizedState=mm,Gl(i.child,l)):(Xs(r),a=i.child,i=a.sibling,a=as(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,i!==null&&(v=r.deletions,v===null?(r.deletions=[i],r.flags|=16):v.push(i)),r.child=a,r.memoizedState=null,a)}function ym(i,r){return r=sh({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function sh(i,r){return i=In(22,i,null,r),i.lanes=0,i}function _m(i,r,a){return aa(r,i.child,null,a),i=ym(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function dT(i,r,a){i.lanes|=r;var l=i.alternate;l!==null&&(l.lanes|=r),Nd(i.return,r,a)}function vm(i,r,a,l,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=m)}function mT(i,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;l=l.children;var v=ve.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,at(ve,v),Xe(i,r,l,a),l=zt?Ol:0,!S&&i!==null&&(i.flags&128)!==0)t:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&dT(i,a,r);else if(i.tag===19)dT(i,a,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break t;for(;i.sibling===null;){if(i.return===null||i.return===r)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)i=a.alternate,i!==null&&Kc(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vm(r,!1,f,a,m,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Kc(i)===null){r.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}vm(r,!0,a,null,m,l);break;case"together":vm(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function fs(i,r,a){if(i!==null&&(r.dependencies=i.dependencies),Js|=r.lanes,(a&r.childLanes)===0)if(i!==null){if(so(i,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,a=as(i,i.pendingProps),r.child=a,a.return=r;i.sibling!==null;)i=i.sibling,a=a.sibling=as(i,i.pendingProps),a.return=r;a.sibling=null}return r.child}function Tm(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&Uc(i)))}function cC(i,r,a){switch(r.tag){case 3:Le(r,r.stateNode.containerInfo),Gs(r,Ce,i.memoizedState.cache),ta();break;case 27:case 5:xr(r);break;case 4:Le(r,r.stateNode.containerInfo);break;case 10:Gs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Gd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Xs(r),r.flags|=128,null):(a&r.child.childLanes)!==0?fT(i,r,a):(Xs(r),i=fs(i,r,a),i!==null?i.sibling:null);Xs(r);break;case 19:var f=(i.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(so(i,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return mT(i,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ve,ve.current),l)break;return null;case 22:return r.lanes=0,aT(i,r,a,r.pendingProps);case 24:Gs(r,Ce,i.memoizedState.cache)}return fs(i,r,a)}function pT(i,r,a){if(i!==null)if(i.memoizedProps!==r.pendingProps)Ve=!0;else{if(!Tm(i,a)&&(r.flags&128)===0)return Ve=!1,cC(i,r,a);Ve=(i.flags&131072)!==0}else Ve=!1,zt&&(r.flags&1048576)!==0&&Y_(r,Ol,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(i=sa(r.elementType),r.type=i,typeof i=="function")wd(i)?(l=la(i,l),r.tag=1,r=cT(null,r,i,l,a)):(r.tag=0,r=dm(null,r,i,l,a));else{if(i!=null){var f=i.$$typeof;if(f===et){r.tag=11,r=iT(null,r,i,l,a);break t}else if(f===R){r.tag=14,r=sT(null,r,i,l,a);break t}}throw r=te(i)||i,Error(s(306,r,""))}}return r;case 0:return dm(i,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=la(l,r.pendingProps),cT(i,r,l,f,a);case 3:t:{if(Le(r,r.stateNode.containerInfo),i===null)throw Error(s(387));l=r.pendingProps;var m=r.memoizedState;f=m.element,Bd(i,r),Bl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,Gs(r,Ce,l),l!==m.cache&&xd(r,[Ce],a,!0),zl(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=hT(i,r,l,a);break t}else if(l!==f){f=jn(Error(s(424)),r),Nl(f),r=hT(i,r,l,a);break t}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,ie=Kn(i.firstChild),Ye=r,zt=!0,qs=null,Hn=!0,a=av(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ta(),l===f){r=fs(i,r,a);break t}Xe(i,r,l,a)}r=r.child}return r;case 26:return ih(i,r),i===null?(a=R0(r.type,null,r.pendingProps,null))?r.memoizedState=a:zt||(a=r.type,i=r.pendingProps,l=Th(Dt.current).createElement(a),l[we]=r,l[je]=i,$e(l,a,i),Re(l),r.stateNode=l):r.memoizedState=R0(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return xr(r),i===null&&zt&&(l=r.stateNode=S0(r.type,r.pendingProps,Dt.current),Ye=r,Hn=!0,f=ie,sr(r.type)?(Jm=f,ie=Kn(l.firstChild)):ie=f),Xe(i,r,r.pendingProps.children,a),ih(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&zt&&((f=l=ie)&&(l=BC(l,r.type,r.pendingProps,Hn),l!==null?(r.stateNode=l,Ye=r,ie=Kn(l.firstChild),Hn=!1,f=!0):f=!1),f||Hs(r)),xr(r),f=r.type,m=r.pendingProps,v=i!==null?i.memoizedProps:null,l=m.children,Qm(f,m)?l=null:v!==null&&Qm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Yd(i,r,eC,null,null,a),au._currentValue=f),ih(i,r),Xe(i,r,l,a),r.child;case 6:return i===null&&zt&&((i=a=ie)&&(a=jC(a,r.pendingProps,Hn),a!==null?(r.stateNode=a,Ye=r,ie=null,i=!0):i=!1),i||Hs(r)),null;case 13:return fT(i,r,a);case 4:return Le(r,r.stateNode.containerInfo),l=r.pendingProps,i===null?r.child=aa(r,null,l,a):Xe(i,r,l,a),r.child;case 11:return iT(i,r,r.type,r.pendingProps,a);case 7:return Xe(i,r,r.pendingProps,a),r.child;case 8:return Xe(i,r,r.pendingProps.children,a),r.child;case 12:return Xe(i,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Gs(r,r.type,l.value),Xe(i,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,na(r),f=Qe(f),l=l(f),r.flags|=1,Xe(i,r,l,a),r.child;case 14:return sT(i,r,r.type,r.pendingProps,a);case 15:return rT(i,r,r.type,r.pendingProps,a);case 19:return mT(i,r,a);case 31:return uC(i,r,a);case 22:return aT(i,r,a,r.pendingProps);case 24:return na(r),l=Qe(Ce),i===null?(f=kd(),f===null&&(f=ee,m=Pd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},zd(r),Gs(r,Ce,f)):((i.lanes&a)!==0&&(Bd(i,r),Bl(r,null,null,a),zl()),f=i.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Gs(r,Ce,l)):(l=m.cache,Gs(r,Ce,l),l!==f.cache&&xd(r,[Ce],a,!0))),Xe(i,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ds(i){i.flags|=4}function Em(i,r,a,l,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(FT())i.flags|=8192;else throw ra=Fc,Ud}else i.flags&=-16777217}function gT(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!M0(r))if(FT())i.flags|=8192;else throw ra=Fc,Ud}function rh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?hc():536870912,i.lanes|=r,yo|=r)}function Kl(i,r){if(!zt)switch(i.tailMode){case"hidden":r=i.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:l.sibling=null}}function se(i){var r=i.alternate!==null&&i.alternate.child===i.child,a=0,l=0;if(r)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=l,i.childLanes=a,r}function hC(i,r,a){var l=r.pendingProps;switch(Dd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(r),null;case 1:return se(r),null;case 3:return a=r.stateNode,l=null,i!==null&&(l=i.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),us(Ce),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(io(r)?ds(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Md())),se(r),null;case 26:var f=r.type,m=r.memoizedState;return i===null?(ds(r),m!==null?(se(r),gT(r,m)):(se(r),Em(r,f,null,l,a))):m?m!==i.memoizedState?(ds(r),se(r),gT(r,m)):(se(r),r.flags&=-16777217):(i=i.memoizedProps,i!==l&&ds(r),se(r),Em(r,f,i,l,a)),null;case 27:if(Pa(r),a=Dt.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ds(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}i=ct.current,io(r)?X_(r):(i=S0(f,l,a),r.stateNode=i,ds(r))}return se(r),null;case 5:if(Pa(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==l&&ds(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return se(r),null}if(m=ct.current,io(r))X_(r);else{var v=Th(Dt.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}m[we]=r,m[je]=l;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;t:switch($e(m,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ds(r)}}return se(r),Em(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,a),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==l&&ds(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(i=Dt.current,io(r)){if(i=r.stateNode,a=r.memoizedProps,l=null,f=Ye,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}i[we]=r,i=!!(i.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||f0(i.nodeValue,a)),i||Hs(r,!0)}else i=Th(i).createTextNode(l),i[we]=r,r.stateNode=i}return se(r),null;case 31:if(a=r.memoizedState,i===null||i.memoizedState!==null){if(l=io(r),a!==null){if(i===null){if(!l)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[we]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),i=!1}else a=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return r.flags&256?(Dn(r),r):(Dn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return se(r),null;case 13:if(l=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=io(r),l!==null&&l.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[we]=r}else ta(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;se(r),f=!1}else f=Md(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Dn(r),r):(Dn(r),null)}return Dn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,i=i!==null&&i.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)),a!==i&&a&&(r.child.flags|=8192),rh(r,r.updateQueue),se(r),null);case 4:return ae(),i===null&&qm(r.stateNode.containerInfo),se(r),null;case 10:return us(r.type),se(r),null;case 19:if(J(ve),l=r.memoizedState,l===null)return se(r),null;if(f=(r.flags&128)!==0,m=l.rendering,m===null)if(f)Kl(l,!1);else{if(me!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(m=Kc(i),m!==null){for(r.flags|=128,Kl(l,!1),i=m.updateQueue,r.updateQueue=i,rh(r,i),r.subtreeFlags=0,i=a,a=r.child;a!==null;)H_(a,i),a=a.sibling;return at(ve,ve.current&1|2),zt&&os(r,l.treeForkCount),r.child}i=i.sibling}l.tail!==null&&ln()>ch&&(r.flags|=128,f=!0,Kl(l,!1),r.lanes=4194304)}else{if(!f)if(i=Kc(m),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,rh(r,i),Kl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!zt)return se(r),null}else 2*ln()-l.renderingStartTime>ch&&a!==536870912&&(r.flags|=128,f=!0,Kl(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(i=l.last,i!==null?i.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(i=l.tail,l.rendering=i,l.tail=i.sibling,l.renderingStartTime=ln(),i.sibling=null,a=ve.current,at(ve,f?a&1|2:a&1),zt&&os(r,l.treeForkCount),i):(se(r),null);case 22:case 23:return Dn(r),Hd(),l=r.memoizedState!==null,i!==null?i.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(se(r),r.subtreeFlags&6&&(r.flags|=8192)):se(r),a=r.updateQueue,a!==null&&rh(r,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),i!==null&&J(ia),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),us(Ce),se(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function fC(i,r){switch(Dd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return us(Ce),ae(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Pa(r),null;case 31:if(r.memoizedState!==null){if(Dn(r),r.alternate===null)throw Error(s(340));ta()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Dn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ta()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return J(ve),null;case 4:return ae(),null;case 10:return us(r.type),null;case 22:case 23:return Dn(r),Hd(),i!==null&&J(ia),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return us(Ce),null;case 25:return null;default:return null}}function yT(i,r){switch(Dd(r),r.tag){case 3:us(Ce),ae();break;case 26:case 27:case 5:Pa(r);break;case 4:ae();break;case 31:r.memoizedState!==null&&Dn(r);break;case 13:Dn(r);break;case 19:J(ve);break;case 10:us(r.type);break;case 22:case 23:Dn(r),Hd(),i!==null&&J(ia);break;case 24:us(Ce)}}function Yl(i,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&i)===i){l=void 0;var m=a.create,v=a.inst;l=m(),v.destroy=l}a=a.next}while(a!==f)}}catch(S){Xt(r,r.return,S)}}function Ws(i,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&i)===i){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,f=r;var D=a,B=S;try{B()}catch(K){Xt(f,D,K)}}}l=l.next}while(l!==m)}}catch(K){Xt(r,r.return,K)}}function _T(i){var r=i.updateQueue;if(r!==null){var a=i.stateNode;try{lv(r,a)}catch(l){Xt(i,i.return,l)}}}function vT(i,r,a){a.props=la(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(l){Xt(i,r,l)}}function Ql(i,r){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var l=i.stateNode;break;case 30:l=i.stateNode;break;default:l=i.stateNode}typeof a=="function"?i.refCleanup=a(l):a.current=l}}catch(f){Xt(i,r,f)}}function Fi(i,r){var a=i.ref,l=i.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Xt(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Xt(i,r,f)}else a.current=null}function TT(i){var r=i.type,a=i.memoizedProps,l=i.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Xt(i,i.return,f)}}function Am(i,r,a){try{var l=i.stateNode;xC(l,i.type,a,r),l[je]=r}catch(f){Xt(i,i.return,f)}}function ET(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&sr(i.type)||i.tag===4}function Sm(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||ET(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&sr(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bm(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(i),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=ri));else if(l!==4&&(l===27&&sr(i.type)&&(a=i.stateNode,r=null),i=i.child,i!==null))for(bm(i,r,a),i=i.sibling;i!==null;)bm(i,r,a),i=i.sibling}function ah(i,r,a){var l=i.tag;if(l===5||l===6)i=i.stateNode,r?a.insertBefore(i,r):a.appendChild(i);else if(l!==4&&(l===27&&sr(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(ah(i,r,a),i=i.sibling;i!==null;)ah(i,r,a),i=i.sibling}function AT(i){var r=i.stateNode,a=i.memoizedProps;try{for(var l=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$e(r,l,a),r[we]=i,r[je]=a}catch(m){Xt(i,i.return,m)}}var ms=!1,Me=!1,wm=!1,ST=typeof WeakSet=="function"?WeakSet:Set,qe=null;function dC(i,r){if(i=i.containerInfo,Km=Ih,i=P_(i),_d(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else t:{a=(a=i.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var v=0,S=-1,D=-1,B=0,K=0,Z=i,F=null;e:for(;;){for(var H;Z!==a||f!==0&&Z.nodeType!==3||(S=v+f),Z!==m||l!==0&&Z.nodeType!==3||(D=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)F=Z,Z=H;for(;;){if(Z===i)break e;if(F===a&&++B===f&&(S=v),F===m&&++K===l&&(D=v),(H=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=H}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ym={focusedElem:i,selectionRange:a},Ih=!1,qe=r;qe!==null;)if(r=qe,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,qe=i;else for(;qe!==null;){switch(r=qe,m=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)f=i[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&m!==null){i=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var ft=la(a.type,f);i=l.getSnapshotBeforeUpdate(ft,m),l.__reactInternalSnapshotBeforeUpdate=i}catch(_t){Xt(a,a.return,_t)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,a=i.nodeType,a===9)$m(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$m(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,qe=i;break}qe=r.return}}function bT(i,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:gs(i,a),l&4&&Yl(5,a);break;case 1:if(gs(i,a),l&4)if(i=a.stateNode,r===null)try{i.componentDidMount()}catch(v){Xt(a,a.return,v)}else{var f=la(a.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(a,a.return,v)}}l&64&&_T(a),l&512&&Ql(a,a.return);break;case 3:if(gs(i,a),l&64&&(i=a.updateQueue,i!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{lv(i,r)}catch(v){Xt(a,a.return,v)}}break;case 27:r===null&&l&4&&AT(a);case 26:case 5:gs(i,a),r===null&&l&4&&TT(a),l&512&&Ql(a,a.return);break;case 12:gs(i,a);break;case 31:gs(i,a),l&4&&IT(i,a);break;case 13:gs(i,a),l&4&&CT(i,a),l&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=AC.bind(null,a),FC(i,a))));break;case 22:if(l=a.memoizedState!==null||ms,!l){r=r!==null&&r.memoizedState!==null||Me,f=ms;var m=Me;ms=l,(Me=r)&&!m?ys(i,a,(a.subtreeFlags&8772)!==0):gs(i,a),ms=f,Me=m}break;case 30:break;default:gs(i,a)}}function wT(i){var r=i.alternate;r!==null&&(i.alternate=null,wT(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Ba(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var le=null,pn=!1;function ps(i,r,a){for(a=a.child;a!==null;)RT(i,r,a),a=a.sibling}function RT(i,r,a){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(ei,a)}catch{}switch(a.tag){case 26:Me||Fi(a,r),ps(i,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Me||Fi(a,r);var l=le,f=pn;sr(a.type)&&(le=a.stateNode,pn=!1),ps(i,r,a),iu(a.stateNode),le=l,pn=f;break;case 5:Me||Fi(a,r);case 6:if(l=le,f=pn,le=null,ps(i,r,a),le=l,pn=f,le!==null)if(pn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(m){Xt(a,r,m)}else try{le.removeChild(a.stateNode)}catch(m){Xt(a,r,m)}break;case 18:le!==null&&(pn?(i=le,_0(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),wo(i)):_0(le,a.stateNode));break;case 4:l=le,f=pn,le=a.stateNode.containerInfo,pn=!0,ps(i,r,a),le=l,pn=f;break;case 0:case 11:case 14:case 15:Ws(2,a,r),Me||Ws(4,a,r),ps(i,r,a);break;case 1:Me||(Fi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vT(a,r,l)),ps(i,r,a);break;case 21:ps(i,r,a);break;case 22:Me=(l=Me)||a.memoizedState!==null,ps(i,r,a),Me=l;break;default:ps(i,r,a)}}function IT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{wo(i)}catch(a){Xt(r,r.return,a)}}}function CT(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{wo(i)}catch(a){Xt(r,r.return,a)}}function mC(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new ST),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new ST),r;default:throw Error(s(435,i.tag))}}function oh(i,r){var a=mC(i);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=SC.bind(null,i,l);l.then(f,f)}})}function gn(i,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=i,v=r,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(sr(S.type)){le=S.stateNode,pn=!1;break t}break;case 5:le=S.stateNode,pn=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,pn=!0;break t}S=S.return}if(le===null)throw Error(s(160));RT(m,v,f),le=null,pn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)DT(r,i),r=r.sibling}var hi=null;function DT(i,r){var a=i.alternate,l=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gn(r,i),yn(i),l&4&&(Ws(3,i,i.return),Yl(3,i),Ws(5,i,i.return));break;case 1:gn(r,i),yn(i),l&512&&(Me||a===null||Fi(a,a.return)),l&64&&ms&&(i=i.updateQueue,i!==null&&(l=i.callbacks,l!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=hi;if(gn(r,i),yn(i),l&512&&(Me||a===null||Fi(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=i.memoizedState,a===null)if(l===null)if(i.stateNode===null){t:{l=i.type,a=i.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ci]||m[we]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),$e(m,l,a),m[we]=i,Re(m),l=m;break t;case"link":var v=D0("link","href",f).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(m=v[S],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break e}}m=f.createElement(l),$e(m,l,a),f.head.appendChild(m);break;case"meta":if(v=D0("meta","content",f).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(m=v[S],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break e}}m=f.createElement(l),$e(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[we]=i,Re(m),l=m}i.stateNode=l}else V0(f,i.type,i.stateNode);else i.stateNode=C0(f,l,i.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?V0(f,i.type,i.stateNode):C0(f,l,i.memoizedProps)):l===null&&i.stateNode!==null&&Am(i,i.memoizedProps,a.memoizedProps)}break;case 27:gn(r,i),yn(i),l&512&&(Me||a===null||Fi(a,a.return)),a!==null&&l&4&&Am(i,i.memoizedProps,a.memoizedProps);break;case 5:if(gn(r,i),yn(i),l&512&&(Me||a===null||Fi(a,a.return)),i.flags&32){f=i.stateNode;try{mn(f,"")}catch(ft){Xt(i,i.return,ft)}}l&4&&i.stateNode!=null&&(f=i.memoizedProps,Am(i,f,a!==null?a.memoizedProps:f)),l&1024&&(wm=!0);break;case 6:if(gn(r,i),yn(i),l&4){if(i.stateNode===null)throw Error(s(162));l=i.memoizedProps,a=i.stateNode;try{a.nodeValue=l}catch(ft){Xt(i,i.return,ft)}}break;case 3:if(Sh=null,f=hi,hi=Eh(r.containerInfo),gn(r,i),hi=f,yn(i),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wo(r.containerInfo)}catch(ft){Xt(i,i.return,ft)}wm&&(wm=!1,VT(i));break;case 4:l=hi,hi=Eh(i.stateNode.containerInfo),gn(r,i),yn(i),hi=l;break;case 12:gn(r,i),yn(i);break;case 31:gn(r,i),yn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,oh(i,l)));break;case 13:gn(r,i),yn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uh=ln()),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,oh(i,l)));break;case 22:f=i.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=ms,K=Me;if(ms=B||f,Me=K||D,gn(r,i),Me=K,ms=B,yn(i),l&8192)t:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||ms||Me||ua(i)),a=null,r=i;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(m=D.stateNode,f)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=D.stateNode;var Z=D.memoizedProps.style,F=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(ft){Xt(D,D.return,ft)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ft){Xt(D,D.return,ft)}}}else if(r.tag===18){if(a===null){D=r;try{var H=D.stateNode;f?v0(H,!0):v0(D.stateNode,!1)}catch(ft){Xt(D,D.return,ft)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break t;for(;r.sibling===null;){if(r.return===null||r.return===i)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=i.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,oh(i,a))));break;case 19:gn(r,i),yn(i),l&4&&(l=i.updateQueue,l!==null&&(i.updateQueue=null,oh(i,l)));break;case 30:break;case 21:break;default:gn(r,i),yn(i)}}function yn(i){var r=i.flags;if(r&2){try{for(var a,l=i.return;l!==null;){if(ET(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,m=Sm(i);ah(i,m,f);break;case 5:var v=a.stateNode;a.flags&32&&(mn(v,""),a.flags&=-33);var S=Sm(i);ah(i,S,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Sm(i);bm(i,B,D);break;default:throw Error(s(161))}}catch(K){Xt(i,i.return,K)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function VT(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;VT(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function gs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)bT(i,r.alternate,r),r=r.sibling}function ua(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ws(4,r,r.return),ua(r);break;case 1:Fi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&vT(r,r.return,a),ua(r);break;case 27:iu(r.stateNode);case 26:case 5:Fi(r,r.return),ua(r);break;case 22:r.memoizedState===null&&ua(r);break;case 30:ua(r);break;default:ua(r)}i=i.sibling}}function ys(i,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=i,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:ys(f,m,a),Yl(4,m);break;case 1:if(ys(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=m,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ov(D[f],S)}catch(B){Xt(l,l.return,B)}}a&&v&64&&_T(m),Ql(m,m.return);break;case 27:AT(m);case 26:case 5:ys(f,m,a),a&&l===null&&v&4&&TT(m),Ql(m,m.return);break;case 12:ys(f,m,a);break;case 31:ys(f,m,a),a&&v&4&&IT(f,m);break;case 13:ys(f,m,a),a&&v&4&&CT(f,m);break;case 22:m.memoizedState===null&&ys(f,m,a),Ql(m,m.return);break;case 30:break;default:ys(f,m,a)}r=r.sibling}}function Rm(i,r){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&xl(a))}function Im(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xl(i))}function fi(i,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)MT(i,r,a,l),r=r.sibling}function MT(i,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:fi(i,r,a,l),f&2048&&Yl(9,r);break;case 1:fi(i,r,a,l);break;case 3:fi(i,r,a,l),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&xl(i)));break;case 12:if(f&2048){fi(i,r,a,l),i=r.stateNode;try{var m=r.memoizedProps,v=m.id,S=m.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){Xt(r,r.return,D)}}else fi(i,r,a,l);break;case 31:fi(i,r,a,l);break;case 13:fi(i,r,a,l);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?fi(i,r,a,l):Xl(i,r):m._visibility&2?fi(i,r,a,l):(m._visibility|=2,mo(i,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Rm(v,r);break;case 24:fi(i,r,a,l),f&2048&&Im(r.alternate,r);break;default:fi(i,r,a,l)}}function mo(i,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=i,v=r,S=a,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:mo(m,v,S,D,f),Yl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?mo(m,v,S,D,f):Xl(m,v):(K._visibility|=2,mo(m,v,S,D,f)),f&&B&2048&&Rm(v.alternate,v);break;case 24:mo(m,v,S,D,f),f&&B&2048&&Im(v.alternate,v);break;default:mo(m,v,S,D,f)}r=r.sibling}}function Xl(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=i,l=r,f=l.flags;switch(l.tag){case 22:Xl(a,l),f&2048&&Rm(l.alternate,l);break;case 24:Xl(a,l),f&2048&&Im(l.alternate,l);break;default:Xl(a,l)}r=r.sibling}}var $l=8192;function po(i,r,a){if(i.subtreeFlags&$l)for(i=i.child;i!==null;)OT(i,r,a),i=i.sibling}function OT(i,r,a){switch(i.tag){case 26:po(i,r,a),i.flags&$l&&i.memoizedState!==null&&tD(a,hi,i.memoizedState,i.memoizedProps);break;case 5:po(i,r,a);break;case 3:case 4:var l=hi;hi=Eh(i.stateNode.containerInfo),po(i,r,a),hi=l;break;case 22:i.memoizedState===null&&(l=i.alternate,l!==null&&l.memoizedState!==null?(l=$l,$l=16777216,po(i,r,a),$l=l):po(i,r,a));break;default:po(i,r,a)}}function NT(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Wl(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qe=l,PT(l,i)}NT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xT(i),i=i.sibling}function xT(i){switch(i.tag){case 0:case 11:case 15:Wl(i),i.flags&2048&&Ws(9,i,i.return);break;case 3:Wl(i);break;case 12:Wl(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,lh(i)):Wl(i);break;default:Wl(i)}}function lh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];qe=l,PT(l,i)}NT(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ws(8,r,r.return),lh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,lh(r));break;default:lh(r)}i=i.sibling}}function PT(i,r){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:Ws(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,qe=l;else t:for(a=i;qe!==null;){l=qe;var f=l.sibling,m=l.return;if(wT(l),l===a){qe=null;break t}if(f!==null){f.return=m,qe=f;break t}qe=m}}}var pC={getCacheForType:function(i){var r=Qe(Ce),a=r.data.get(i);return a===void 0&&(a=i(),r.data.set(i,a)),a},cacheSignal:function(){return Qe(Ce).controller.signal}},gC=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Mt=null,xt=0,Qt=0,Vn=null,Zs=!1,go=!1,Cm=!1,_s=0,me=0,Js=0,ca=0,Dm=0,Mn=0,yo=0,Zl=null,_n=null,Vm=!1,uh=0,LT=0,ch=1/0,hh=null,tr=null,Ue=0,er=null,_o=null,vs=0,Mm=0,Om=null,kT=null,Jl=0,Nm=null;function On(){return(Gt&2)!==0&&xt!==0?xt&-xt:Y.T!==null?zm():fc()}function UT(){if(Mn===0)if((xt&536870912)===0||zt){var i=kr;kr<<=1,(kr&3932160)===0&&(kr=262144),Mn=i}else Mn=536870912;return i=Cn.current,i!==null&&(i.flags|=32),Mn}function vn(i,r,a){(i===ee&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)&&(vo(i,0),nr(i,xt,Mn,!1)),Ur(i,a),((Gt&2)===0||i!==ee)&&(i===ee&&((Gt&2)===0&&(ca|=a),me===4&&nr(i,xt,Mn,!1)),qi(i))}function zT(i,r,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&i.expiredLanes)===0||ni(i,r),f=l?vC(i,r):Pm(i,r,!0),m=l;do{if(f===0){go&&!l&&nr(i,r,0,!1);break}else{if(a=i.current.alternate,m&&!yC(a)){f=Pm(i,r,!1),m=!1;continue}if(f===2){if(m=r,i.errorRecoveryDisabledLanes&m)var v=0;else v=i.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var S=i;f=Zl;var D=S.current.memoizedState.isDehydrated;if(D&&(vo(S,v).flags|=256),v=Pm(S,v,!1),v!==2){if(Cm&&!D){S.errorRecoveryDisabledLanes|=m,ca|=m,f=4;break t}m=_n,_n=f,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}f=v}if(m=!1,f!==2)continue}}if(f===1){vo(i,0),nr(i,r,0,!0);break}t:{switch(l=i,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:nr(l,r,Mn,!Zs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=uh+300-ln(),10<f)){if(nr(l,r,Mn,!Zs),wi(l,0,!0)!==0)break t;vs=r,l.timeoutHandle=g0(BT.bind(null,l,a,_n,hh,Vm,r,Mn,ca,yo,Zs,m,"Throttled",-0,0),f);break t}BT(l,a,_n,hh,Vm,r,Mn,ca,yo,Zs,m,null,-0,0)}}break}while(!0);qi(i)}function BT(i,r,a,l,f,m,v,S,D,B,K,Z,F,H){if(i.timeoutHandle=-1,Z=r.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ri},OT(r,m,Z);var ft=(m&62914560)===m?uh-ln():(m&4194048)===m?LT-ln():0;if(ft=eD(Z,ft),ft!==null){vs=m,i.cancelPendingCommit=ft(QT.bind(null,i,r,m,a,l,f,v,S,D,K,Z,null,F,H)),nr(i,m,v,!B);return}}QT(i,r,m,a,l,f,v,S,D)}function yC(i){for(var r=i;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!Rn(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function nr(i,r,a,l){r&=~Dm,r&=~ca,i.suspendedLanes|=r,i.pingedLanes&=~r,l&&(i.warmLanes|=r),l=i.expirationTimes;for(var f=r;0<f;){var m=31-ye(f),v=1<<m;l[m]=-1,f&=~v}a!==0&&zr(i,a,r)}function fh(){return(Gt&6)===0?(tu(0),!1):!0}function xm(){if(Mt!==null){if(Qt===0)var i=Mt.return;else i=Mt,ls=ea=null,$d(i),lo=null,Ll=0,i=Mt;for(;i!==null;)yT(i.alternate,i),i=i.return;Mt=null}}function vo(i,r){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,kC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),vs=0,xm(),ee=i,Mt=a=as(i.current,null),xt=r,Qt=0,Vn=null,Zs=!1,go=ni(i,r),Cm=!1,yo=Mn=Dm=ca=Js=me=0,_n=Zl=null,Vm=!1,(r&8)!==0&&(r|=r&32);var l=i.entangledLanes;if(l!==0)for(i=i.entanglements,l&=r;0<l;){var f=31-ye(l),m=1<<f;r|=i[f],l&=~m}return _s=r,Nc(),a}function jT(i,r){It=null,Y.H=Hl,r===oo||r===jc?(r=iv(),Qt=3):r===Ud?(r=iv(),Qt=4):Qt=r===fm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Vn=r,Mt===null&&(me=1,eh(i,jn(r,i.current)))}function FT(){var i=Cn.current;return i===null?!0:(xt&4194048)===xt?Gn===null:(xt&62914560)===xt||(xt&536870912)!==0?i===Gn:!1}function qT(){var i=Y.H;return Y.H=Hl,i===null?Hl:i}function HT(){var i=Y.A;return Y.A=pC,i}function dh(){me=4,Zs||(xt&4194048)!==xt&&Cn.current!==null||(go=!0),(Js&134217727)===0&&(ca&134217727)===0||ee===null||nr(ee,xt,Mn,!1)}function Pm(i,r,a){var l=Gt;Gt|=2;var f=qT(),m=HT();(ee!==i||xt!==r)&&(hh=null,vo(i,r)),r=!1;var v=me;t:do try{if(Qt!==0&&Mt!==null){var S=Mt,D=Vn;switch(Qt){case 8:xm(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(r=!0);var B=Qt;if(Qt=0,Vn=null,To(i,S,D,B),a&&go){v=0;break t}break;default:B=Qt,Qt=0,Vn=null,To(i,S,D,B)}}_C(),v=me;break}catch(K){jT(i,K)}while(!0);return r&&i.shellSuspendCounter++,ls=ea=null,Gt=l,Y.H=f,Y.A=m,Mt===null&&(ee=null,xt=0,Nc()),v}function _C(){for(;Mt!==null;)GT(Mt)}function vC(i,r){var a=Gt;Gt|=2;var l=qT(),f=HT();ee!==i||xt!==r?(hh=null,ch=ln()+500,vo(i,r)):go=ni(i,r);t:do try{if(Qt!==0&&Mt!==null){r=Mt;var m=Vn;e:switch(Qt){case 1:Qt=0,Vn=null,To(i,r,m,1);break;case 2:case 9:if(ev(m)){Qt=0,Vn=null,KT(r);break}r=function(){Qt!==2&&Qt!==9||ee!==i||(Qt=7),qi(i)},m.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ev(m)?(Qt=0,Vn=null,KT(r)):(Qt=0,Vn=null,To(i,r,m,7));break;case 5:var v=null;switch(Mt.tag){case 26:v=Mt.memoizedState;case 5:case 27:var S=Mt;if(v?M0(v):S.stateNode.complete){Qt=0,Vn=null;var D=S.sibling;if(D!==null)Mt=D;else{var B=S.return;B!==null?(Mt=B,mh(B)):Mt=null}break e}}Qt=0,Vn=null,To(i,r,m,5);break;case 6:Qt=0,Vn=null,To(i,r,m,6);break;case 8:xm(),me=6;break t;default:throw Error(s(462))}}TC();break}catch(K){jT(i,K)}while(!0);return ls=ea=null,Y.H=l,Y.A=f,Gt=a,Mt!==null?0:(ee=null,xt=0,Nc(),me)}function TC(){for(;Mt!==null&&!hd();)GT(Mt)}function GT(i){var r=pT(i.alternate,i,_s);i.memoizedProps=i.pendingProps,r===null?mh(i):Mt=r}function KT(i){var r=i,a=r.alternate;switch(r.tag){case 15:case 0:r=uT(a,r,r.pendingProps,r.type,void 0,xt);break;case 11:r=uT(a,r,r.pendingProps,r.type.render,r.ref,xt);break;case 5:$d(r);default:yT(a,r),r=Mt=H_(r,_s),r=pT(a,r,_s)}i.memoizedProps=i.pendingProps,r===null?mh(i):Mt=r}function To(i,r,a,l){ls=ea=null,$d(r),lo=null,Ll=0;var f=r.return;try{if(lC(i,f,r,a,xt)){me=1,eh(i,jn(a,i.current)),Mt=null;return}}catch(m){if(f!==null)throw Mt=f,m;me=1,eh(i,jn(a,i.current)),Mt=null;return}r.flags&32768?(zt||l===1?i=!0:go||(xt&536870912)!==0?i=!1:(Zs=i=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),YT(r,i)):mh(r)}function mh(i){var r=i;do{if((r.flags&32768)!==0){YT(r,Zs);return}i=r.return;var a=hC(r.alternate,r,_s);if(a!==null){Mt=a;return}if(r=r.sibling,r!==null){Mt=r;return}Mt=r=i}while(r!==null);me===0&&(me=5)}function YT(i,r){do{var a=fC(i.alternate,i);if(a!==null){a.flags&=32767,Mt=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(i=i.sibling,i!==null)){Mt=i;return}Mt=i=a}while(i!==null);me=6,Mt=null}function QT(i,r,a,l,f,m,v,S,D){i.cancelPendingCommit=null;do ph();while(Ue!==0);if((Gt&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=Sd,md(i,a,m,v,S,D),i===ee&&(Mt=ee=null,xt=0),_o=r,er=i,vs=a,Mm=m,Om=f,kT=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,bC(Os,function(){return JT(),null})):(i.callbackNode=null,i.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=it.p,it.p=2,v=Gt,Gt|=4;try{dC(i,r,a)}finally{Gt=v,it.p=f,Y.T=l}}Ue=1,XT(),$T(),WT()}}function XT(){if(Ue===1){Ue=0;var i=er,r=_o,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=it.p;it.p=2;var f=Gt;Gt|=4;try{DT(r,i);var m=Ym,v=P_(i.containerInfo),S=m.focusedElem,D=m.selectionRange;if(v!==S&&S&&S.ownerDocument&&x_(S.ownerDocument.documentElement,S)){if(D!==null&&_d(S)){var B=D.start,K=D.end;if(K===void 0&&(K=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(K,S.value.length);else{var Z=S.ownerDocument||document,F=Z&&Z.defaultView||window;if(F.getSelection){var H=F.getSelection(),ft=S.textContent.length,_t=Math.min(D.start,ft),Jt=D.end===void 0?_t:Math.min(D.end,ft);!H.extend&&_t>Jt&&(v=Jt,Jt=_t,_t=v);var P=N_(S,_t),O=N_(S,Jt);if(P&&O&&(H.rangeCount!==1||H.anchorNode!==P.node||H.anchorOffset!==P.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=Z.createRange();z.setStart(P.node,P.offset),H.removeAllRanges(),_t>Jt?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(Z=[],H=S;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var X=Z[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ih=!!Km,Ym=Km=null}finally{Gt=f,it.p=l,Y.T=a}}i.current=r,Ue=2}}function $T(){if(Ue===2){Ue=0;var i=er,r=_o,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=it.p;it.p=2;var f=Gt;Gt|=4;try{bT(i,r.alternate,r)}finally{Gt=f,it.p=l,Y.T=a}}Ue=3}}function WT(){if(Ue===4||Ue===3){Ue=0,rc();var i=er,r=_o,a=vs,l=kT;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,_o=er=null,ZT(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(tr=null),ns(a),r=r.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,f=it.p,it.p=2,Y.T=null;try{for(var m=i.onRecoverableError,v=0;v<l.length;v++){var S=l[v];m(S.value,{componentStack:S.stack})}}finally{Y.T=r,it.p=f}}(vs&3)!==0&&ph(),qi(i),f=i.pendingLanes,(a&261930)!==0&&(f&42)!==0?i===Nm?Jl++:(Jl=0,Nm=i):Jl=0,tu(0)}}function ZT(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,xl(r)))}function ph(){return XT(),$T(),WT(),JT()}function JT(){if(Ue!==5)return!1;var i=er,r=Mm;Mm=0;var a=ns(vs),l=Y.T,f=it.p;try{it.p=32>a?32:a,Y.T=null,a=Om,Om=null;var m=er,v=vs;if(Ue=0,_o=er=null,vs=0,(Gt&6)!==0)throw Error(s(331));var S=Gt;if(Gt|=4,xT(m.current),MT(m,m.current,v,a),Gt=S,tu(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(ei,m)}catch{}return!0}finally{it.p=f,Y.T=l,ZT(i,r)}}function t0(i,r,a){r=jn(a,r),r=hm(i.stateNode,r,2),i=Qs(i,r,2),i!==null&&(Ur(i,2),qi(i))}function Xt(i,r,a){if(i.tag===3)t0(i,i,a);else for(;r!==null;){if(r.tag===3){t0(r,i,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(tr===null||!tr.has(l))){i=jn(a,i),a=eT(2),l=Qs(r,a,2),l!==null&&(nT(a,l,r,i),Ur(l,2),qi(l));break}}r=r.return}}function Lm(i,r,a){var l=i.pingCache;if(l===null){l=i.pingCache=new gC;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Cm=!0,f.add(a),i=EC.bind(null,i,r,a),r.then(i,i))}function EC(i,r,a){var l=i.pingCache;l!==null&&l.delete(r),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ee===i&&(xt&a)===a&&(me===4||me===3&&(xt&62914560)===xt&&300>ln()-uh?(Gt&2)===0&&vo(i,0):Dm|=a,yo===xt&&(yo=0)),qi(i)}function e0(i,r){r===0&&(r=hc()),i=Zr(i,r),i!==null&&(Ur(i,r),qi(i))}function AC(i){var r=i.memoizedState,a=0;r!==null&&(a=r.retryLane),e0(i,a)}function SC(i,r){var a=0;switch(i.tag){case 31:case 13:var l=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=i.stateNode;break;case 22:l=i.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),e0(i,a)}function bC(i,r){return ke(i,r)}var gh=null,Eo=null,km=!1,yh=!1,Um=!1,ir=0;function qi(i){i!==Eo&&i.next===null&&(Eo===null?gh=Eo=i:Eo=Eo.next=i),yh=!0,km||(km=!0,RC())}function tu(i,r){if(!Um&&yh){Um=!0;do for(var a=!1,l=gh;l!==null;){if(i!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var v=l.suspendedLanes,S=l.pingedLanes;m=(1<<31-ye(42|i)+1)-1,m&=f&~(v&~S),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,r0(l,m))}else m=xt,m=wi(l,l===ee?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ni(l,m)||(a=!0,r0(l,m));l=l.next}while(a);Um=!1}}function wC(){n0()}function n0(){yh=km=!1;var i=0;ir!==0&&LC()&&(i=ir);for(var r=ln(),a=null,l=gh;l!==null;){var f=l.next,m=i0(l,r);m===0?(l.next=null,a===null?gh=f:a.next=f,f===null&&(Eo=a)):(a=l,(i!==0||(m&3)!==0)&&(yh=!0)),l=f}Ue!==0&&Ue!==5||tu(i),ir!==0&&(ir=0)}function i0(i,r){for(var a=i.suspendedLanes,l=i.pingedLanes,f=i.expirationTimes,m=i.pendingLanes&-62914561;0<m;){var v=31-ye(m),S=1<<v,D=f[v];D===-1?((S&a)===0||(S&l)!==0)&&(f[v]=dd(S,r)):D<=r&&(i.expiredLanes|=S),m&=~S}if(r=ee,a=xt,a=wi(i,i===r?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l=i.callbackNode,a===0||i===r&&(Qt===2||Qt===9)||i.cancelPendingCommit!==null)return l!==null&&l!==null&&Ms(l),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||ni(i,a)){if(r=a&-a,r===i.callbackPriority)return r;switch(l!==null&&Ms(l),ns(a)){case 2:case 8:a=cl;break;case 32:a=Os;break;case 268435456:a=ac;break;default:a=Os}return l=s0.bind(null,i),a=ke(a,l),i.callbackPriority=r,i.callbackNode=a,r}return l!==null&&l!==null&&Ms(l),i.callbackPriority=2,i.callbackNode=null,2}function s0(i,r){if(Ue!==0&&Ue!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(ph()&&i.callbackNode!==a)return null;var l=xt;return l=wi(i,i===ee?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),l===0?null:(zT(i,l,r),i0(i,ln()),i.callbackNode!=null&&i.callbackNode===a?s0.bind(null,i):null)}function r0(i,r){if(ph())return null;zT(i,r,!0)}function RC(){UC(function(){(Gt&6)!==0?ke(ul,wC):n0()})}function zm(){if(ir===0){var i=ro;i===0&&(i=Si,Si<<=1,(Si&261888)===0&&(Si=256)),ir=i}return ir}function a0(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ha(""+i)}function o0(i,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,i.id&&a.setAttribute("form",i.id),r.parentNode.insertBefore(a,r),i=new FormData(i),a.parentNode.removeChild(a),i}function IC(i,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=a0((f[je]||null).action),v=l.submitter;v&&(r=(r=v[je]||null)?a0(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var S=new Li("action","action",null,l,f);i.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ir!==0){var D=v?o0(f,v):new FormData(f);rm(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(S.preventDefault(),D=v?o0(f,v):new FormData(f),rm(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Bm=0;Bm<Ad.length;Bm++){var jm=Ad[Bm],CC=jm.toLowerCase(),DC=jm[0].toUpperCase()+jm.slice(1);ci(CC,"on"+DC)}ci(U_,"onAnimationEnd"),ci(z_,"onAnimationIteration"),ci(B_,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(GI,"onTransitionRun"),ci(KI,"onTransitionStart"),ci(YI,"onTransitionCancel"),ci(j_,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eu));function l0(i,r){r=(r&4)!==0;for(var a=0;a<i.length;a++){var l=i[a],f=l.event;l=l.listeners;t:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var S=l[v],D=S.instance,B=S.currentTarget;if(S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=B;try{m(f)}catch(K){Oc(K)}f.currentTarget=null,m=D}else for(v=0;v<l.length;v++){if(S=l[v],D=S.instance,B=S.currentTarget,S=S.listener,D!==m&&f.isPropagationStopped())break t;m=S,f.currentTarget=B;try{m(f)}catch(K){Oc(K)}f.currentTarget=null,m=D}}}}function Ot(i,r){var a=r[za];a===void 0&&(a=r[za]=new Set);var l=i+"__bubble";a.has(l)||(u0(r,i,2,!1),a.add(l))}function Fm(i,r,a){var l=0;r&&(l|=4),u0(a,i,l,r)}var _h="_reactListening"+Math.random().toString(36).slice(2);function qm(i){if(!i[_h]){i[_h]=!0,dl.forEach(function(a){a!=="selectionchange"&&(VC.has(a)||Fm(a,!1,i),Fm(a,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[_h]||(r[_h]=!0,Fm("selectionchange",!1,r))}}function u0(i,r,a,l){switch(U0(r)){case 2:var f=sD;break;case 8:f=rD;break;default:f=sp}a=f.bind(null,r,a,i),f=void 0,!Hr||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?i.addEventListener(r,a,{capture:!0,passive:f}):i.addEventListener(r,a,!0):f!==void 0?i.addEventListener(r,a,{passive:f}):i.addEventListener(r,a,!1)}function Hm(i,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;S!==null;){if(v=Di(S),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=m=v;continue t}S=S.parentNode}}l=l.return}Us(function(){var B=m,K=kn(a),Z=[];t:{var F=F_.get(i);if(F!==void 0){var H=Li,ft=i;switch(i){case"keypress":if(Kr(a)===0)break t;case"keydown":case"keyup":H=Dc;break;case"focusin":ft="focus",H=Qr;break;case"focusout":ft="blur",H=Qr;break;case"beforeblur":case"afterblur":H=Qr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Rl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=y;break;case U_:case z_:case B_:H=Ac;break;case j_:H=b;break;case"scroll":case"scrollend":H=wl;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=Sc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=rs;break;case"toggle":case"beforetoggle":H=Rt}var _t=(r&4)!==0,Jt=!_t&&(i==="scroll"||i==="scrollend"),P=_t?F!==null?F+"Capture":null:F;_t=[];for(var O=B,z;O!==null;){var X=O;if(z=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||z===null||P===null||(X=ai(O,P),X!=null&&_t.push(nu(O,X,z))),Jt)break;O=O.return}0<_t.length&&(F=new H(F,ft,null,a,K),Z.push({event:F,listeners:_t}))}}if((r&7)===0){t:{if(F=i==="mouseover"||i==="pointerover",H=i==="mouseout"||i==="pointerout",F&&a!==Al&&(ft=a.relatedTarget||a.fromElement)&&(Di(ft)||ft[Ii]))break t;if((H||F)&&(F=K.window===K?K:(F=K.ownerDocument)?F.defaultView||F.parentWindow:window,H?(ft=a.relatedTarget||a.toElement,H=B,ft=ft?Di(ft):null,ft!==null&&(Jt=u(ft),_t=ft.tag,ft!==Jt||_t!==5&&_t!==27&&_t!==6)&&(ft=null)):(H=null,ft=B),H!==ft)){if(_t=Rl,X="onMouseLeave",P="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(_t=rs,X="onPointerLeave",P="onPointerEnter",O="pointer"),Jt=H==null?F:bn(H),z=ft==null?F:bn(ft),F=new _t(X,O+"leave",H,a,K),F.target=Jt,F.relatedTarget=z,X=null,Di(K)===B&&(_t=new _t(P,O+"enter",ft,a,K),_t.target=z,_t.relatedTarget=Jt,X=_t),Jt=X,H&&ft)e:{for(_t=MC,P=H,O=ft,z=0,X=P;X;X=_t(X))z++;X=0;for(var gt=O;gt;gt=_t(gt))X++;for(;0<z-X;)P=_t(P),z--;for(;0<X-z;)O=_t(O),X--;for(;z--;){if(P===O||O!==null&&P===O.alternate){_t=P;break e}P=_t(P),O=_t(O)}_t=null}else _t=null;H!==null&&c0(Z,F,H,_t,!1),ft!==null&&Jt!==null&&c0(Z,Jt,ft,_t,!0)}}t:{if(F=B?bn(B):window,H=F.nodeName&&F.nodeName.toLowerCase(),H==="select"||H==="input"&&F.type==="file")var Ft=I_;else if(w_(F))if(C_)Ft=FI;else{Ft=BI;var mt=zI}else H=F.nodeName,!H||H.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?B&&qa(B.elementType)&&(Ft=I_):Ft=jI;if(Ft&&(Ft=Ft(i,B))){R_(Z,Ft,a,K);break t}mt&&mt(i,F,B),i==="focusout"&&B&&F.type==="number"&&B.memoizedProps.value!=null&&vl(F,"number",F.value)}switch(mt=B?bn(B):window,i){case"focusin":(w_(mt)||mt.contentEditable==="true")&&(Wa=mt,vd=B,Ml=null);break;case"focusout":Ml=vd=Wa=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,L_(Z,a,K);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":L_(Z,a,K)}var Vt;if(Ht)t:{switch(i){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else $a?Xr(i,a)&&(Pt="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pt="onCompositionStart");Pt&&(zi&&a.locale!=="ko"&&($a||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&$a&&(Vt=bl()):(Pi=K,Sl="value"in Pi?Pi.value:Pi.textContent,$a=!0)),mt=vh(B,Pt),0<mt.length&&(Pt=new Ui(Pt,i,null,a,K),Z.push({event:Pt,listeners:mt}),Vt?Pt.data=Vt:(Vt=Xa(a),Vt!==null&&(Pt.data=Vt)))),(Vt=zn?PI(i,a):LI(i,a))&&(Pt=vh(B,"onBeforeInput"),0<Pt.length&&(mt=new Ui("onBeforeInput","beforeinput",null,a,K),Z.push({event:mt,listeners:Pt}),mt.data=Vt)),IC(Z,i,B,a,K)}l0(Z,r)})}function nu(i,r,a){return{instance:i,listener:r,currentTarget:a}}function vh(i,r){for(var a=r+"Capture",l=[];i!==null;){var f=i,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ai(i,a),f!=null&&l.unshift(nu(i,f,m)),f=ai(i,r),f!=null&&l.push(nu(i,f,m))),i.tag===3)return l;i=i.return}return[]}function MC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function c0(i,r,a,l,f){for(var m=r._reactName,v=[];a!==null&&a!==l;){var S=a,D=S.alternate,B=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||B===null||(D=B,f?(B=ai(a,m),B!=null&&v.unshift(nu(a,B,D))):f||(B=ai(a,m),B!=null&&v.push(nu(a,B,D)))),a=a.return}v.length!==0&&i.push({event:r,listeners:v})}var OC=/\r\n?/g,NC=/\u0000|\uFFFD/g;function h0(i){return(typeof i=="string"?i:""+i).replace(OC,`
`).replace(NC,"")}function f0(i,r){return r=h0(r),h0(i)===r}function Zt(i,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||mn(i,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&mn(i,""+l);break;case"className":wn(i,"class",l);break;case"tabIndex":wn(i,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(i,a,l);break;case"style":El(i,l,m);break;case"data":if(r!=="object"){wn(i,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){i.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ha(""+l),i.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Zt(i,r,"name",f.name,f,null),Zt(i,r,"formEncType",f.formEncType,f,null),Zt(i,r,"formMethod",f.formMethod,f,null),Zt(i,r,"formTarget",f.formTarget,f,null)):(Zt(i,r,"encType",f.encType,f,null),Zt(i,r,"method",f.method,f,null),Zt(i,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){i.removeAttribute(a);break}l=Ha(""+l),i.setAttribute(a,l);break;case"onClick":l!=null&&(i.onclick=ri);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":i.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){i.removeAttribute("xlink:href");break}a=Ha(""+l),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""+l):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":l===!0?i.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?i.setAttribute(a,l):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?i.setAttribute(a,l):i.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?i.removeAttribute(a):i.setAttribute(a,l);break;case"popover":Ot("beforetoggle",i),Ot("toggle",i),ja(i,"popover",l);break;case"xlinkActuate":Ie(i,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(i,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(i,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(i,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(i,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(i,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(i,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ja(i,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=vc.get(a)||a,ja(i,a,l))}}function Gm(i,r,a,l,f,m){switch(a){case"style":El(i,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof l=="string"?mn(i,l):(typeof l=="number"||typeof l=="bigint")&&mn(i,""+l);break;case"onScroll":l!=null&&Ot("scroll",i);break;case"onScrollEnd":l!=null&&Ot("scrollend",i);break;case"onClick":l!=null&&(i.onclick=ri);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ml.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=i[je]||null,m=m!=null?m[a]:null,typeof m=="function"&&i.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(r,l,f);break t}a in i?i[a]=l:l===!0?i.setAttribute(a,""):ja(i,a,l)}}}function $e(i,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",i),Ot("load",i);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var v=a[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,m,v,a,null)}}f&&Zt(i,r,"srcSet",a.srcSet,a,null),l&&Zt(i,r,"src",a.src,a,null);return;case"input":Ot("invalid",i);var S=m=v=f=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":f=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":B=K;break;case"value":m=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Zt(i,r,l,K,a,null)}}gc(i,m,S,D,B,v,f,!1);return;case"select":Ot("invalid",i),l=v=m=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":m=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:Zt(i,r,f,S,a,null)}r=m,a=v,i.multiple=!!l,r!=null?xs(i,!!l,r,!1):a!=null&&xs(i,!!l,a,!0);return;case"textarea":Ot("invalid",i),m=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":f=S;break;case"children":m=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Zt(i,r,v,S,a,null)}Ps(i,l,f,m);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?i.selected=l&&typeof l!="function"&&typeof l!="symbol":Zt(i,r,D,l,a,null));return;case"dialog":Ot("beforetoggle",i),Ot("toggle",i),Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":Ot("load",i);break;case"video":case"audio":for(l=0;l<eu.length;l++)Ot(eu[l],i);break;case"image":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"embed":case"source":case"link":Ot("error",i),Ot("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Zt(i,r,B,l,a,null)}return;default:if(qa(r)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Gm(i,r,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Zt(i,r,S,l,a,null))}function xC(i,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,v=null,S=null,D=null,B=null,K=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(H)||Zt(i,r,H,null,l,Z)}}for(var F in l){var H=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(H!=null||Z!=null))switch(F){case"type":m=H;break;case"name":f=H;break;case"checked":B=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":S=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:H!==Z&&Zt(i,r,F,H,l,Z)}}Fa(i,v,S,D,B,K,m,f);return;case"select":H=v=S=F=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":H=D;default:l.hasOwnProperty(m)||Zt(i,r,m,null,l,D)}for(f in l)if(m=l[f],D=a[f],l.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":F=m;break;case"defaultValue":S=m;break;case"multiple":v=m;default:m!==D&&Zt(i,r,f,m,l,D)}r=S,a=v,l=H,F!=null?xs(i,!!a,F,!1):!!l!=!!a&&(r!=null?xs(i,!!a,r,!0):xs(i,!!a,a?[]:"",!1));return;case"textarea":H=F=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Zt(i,r,S,null,l,f)}for(v in l)if(f=l[v],m=a[v],l.hasOwnProperty(v)&&(f!=null||m!=null))switch(v){case"value":F=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Zt(i,r,v,f,l,m)}yc(i,F,H);return;case"option":for(var ft in a)F=a[ft],a.hasOwnProperty(ft)&&F!=null&&!l.hasOwnProperty(ft)&&(ft==="selected"?i.selected=!1:Zt(i,r,ft,null,l,F));for(D in l)F=l[D],H=a[D],l.hasOwnProperty(D)&&F!==H&&(F!=null||H!=null)&&(D==="selected"?i.selected=F&&typeof F!="function"&&typeof F!="symbol":Zt(i,r,D,F,l,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)F=a[_t],a.hasOwnProperty(_t)&&F!=null&&!l.hasOwnProperty(_t)&&Zt(i,r,_t,null,l,F);for(B in l)if(F=l[B],H=a[B],l.hasOwnProperty(B)&&F!==H&&(F!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Zt(i,r,B,F,l,H)}return;default:if(qa(r)){for(var Jt in a)F=a[Jt],a.hasOwnProperty(Jt)&&F!==void 0&&!l.hasOwnProperty(Jt)&&Gm(i,r,Jt,void 0,l,F);for(K in l)F=l[K],H=a[K],!l.hasOwnProperty(K)||F===H||F===void 0&&H===void 0||Gm(i,r,K,F,l,H);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&Zt(i,r,P,null,l,F);for(Z in l)F=l[Z],H=a[Z],!l.hasOwnProperty(Z)||F===H||F==null&&H==null||Zt(i,r,Z,F,l,H)}function d0(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],m=f.transferSize,v=f.initiatorType,S=f.duration;if(m&&S&&d0(v)){for(v=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>S)break;var K=D.transferSize,Z=D.initiatorType;K&&d0(Z)&&(D=D.responseEnd,v+=K*(D<S?1:(S-B)/(D-B)))}if(--l,r+=8*(m+v)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Km=null,Ym=null;function Th(i){return i.nodeType===9?i:i.ownerDocument}function m0(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p0(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Qm(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xm=null;function LC(){var i=window.event;return i&&i.type==="popstate"?i===Xm?!1:(Xm=i,!0):(Xm=null,!1)}var g0=typeof setTimeout=="function"?setTimeout:void 0,kC=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(i){return y0.resolve(null).then(i).catch(zC)}:g0;function zC(i){setTimeout(function(){throw i})}function sr(i){return i==="head"}function _0(i,r){var a=r,l=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){i.removeChild(f),wo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")iu(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,iu(a);for(var m=a.firstChild;m;){var v=m.nextSibling,S=m.nodeName;m[Ci]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=v}}else a==="body"&&iu(i.ownerDocument.body);a=f}while(a);wo(r)}function v0(i,r){var a=i;i=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=l}while(a)}function $m(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$m(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function BC(i,r,a,l){for(;i.nodeType===1;){var f=a;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(l){if(!i[Ci])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(m=i.getAttribute("rel"),m==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(m!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(m=i.getAttribute("src"),(m!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===m)return i}else return i;if(i=Kn(i.nextSibling),i===null)break}return null}function jC(i,r,a){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Kn(i.nextSibling),i===null))return null;return i}function T0(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=Kn(i.nextSibling),i===null))return null;return i}function Wm(i){return i.data==="$?"||i.data==="$~"}function Zm(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function FC(i,r){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),i._reactRetry=l}}function Kn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Jm=null;function E0(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(r===0)return Kn(i.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}i=i.nextSibling}return null}function A0(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return i;r--}else a!=="/$"&&a!=="/&"||r++}i=i.previousSibling}return null}function S0(i,r,a){switch(r=Th(a),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function iu(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Ba(i)}var Yn=new Map,b0=new Set;function Eh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ts=it.d;it.d={f:qC,r:HC,D:GC,C:KC,L:YC,m:QC,X:$C,S:XC,M:WC};function qC(){var i=Ts.f(),r=fh();return i||r}function HC(i){var r=Ln(i);r!==null&&r.tag===5&&r.type==="form"?jv(r):Ts.r(i)}var Ao=typeof document>"u"?null:document;function w0(i,r,a){var l=Ao;if(l&&typeof r=="string"&&r){var f=dn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),b0.has(f)||(b0.add(f),i={rel:i,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$e(r,"link",i),Re(r),l.head.appendChild(r)))}}function GC(i){Ts.D(i),w0("dns-prefetch",i,null)}function KC(i,r){Ts.C(i,r),w0("preconnect",i,r)}function YC(i,r,a){Ts.L(i,r,a);var l=Ao;if(l&&i&&r){var f='link[rel="preload"][as="'+dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dn(a.imageSizes)+'"]')):f+='[href="'+dn(i)+'"]';var m=f;switch(r){case"style":m=So(i);break;case"script":m=bo(i)}Yn.has(m)||(i=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:i,as:r},a),Yn.set(m,i),l.querySelector(f)!==null||r==="style"&&l.querySelector(su(m))||r==="script"&&l.querySelector(ru(m))||(r=l.createElement("link"),$e(r,"link",i),Re(r),l.head.appendChild(r)))}}function QC(i,r){Ts.m(i,r);var a=Ao;if(a&&i){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(i)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=bo(i)}if(!Yn.has(m)&&(i=E({rel:"modulepreload",href:i},r),Yn.set(m,i),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ru(m)))return}l=a.createElement("link"),$e(l,"link",i),Re(l),a.head.appendChild(l)}}}function XC(i,r,a){Ts.S(i,r,a);var l=Ao;if(l&&i){var f=Vi(l).hoistableStyles,m=So(i);r=r||"default";var v=f.get(m);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(su(m)))S.loading=5;else{i=E({rel:"stylesheet",href:i,"data-precedence":r},a),(a=Yn.get(m))&&tp(i,a);var D=v=l.createElement("link");Re(D),$e(D,"link",i),D._p=new Promise(function(B,K){D.onload=B,D.onerror=K}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ah(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:S},f.set(m,v)}}}function $C(i,r){Ts.X(i,r);var a=Ao;if(a&&i){var l=Vi(a).hoistableScripts,f=bo(i),m=l.get(f);m||(m=a.querySelector(ru(f)),m||(i=E({src:i,async:!0},r),(r=Yn.get(f))&&ep(i,r),m=a.createElement("script"),Re(m),$e(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function WC(i,r){Ts.M(i,r);var a=Ao;if(a&&i){var l=Vi(a).hoistableScripts,f=bo(i),m=l.get(f);m||(m=a.querySelector(ru(f)),m||(i=E({src:i,async:!0,type:"module"},r),(r=Yn.get(f))&&ep(i,r),m=a.createElement("script"),Re(m),$e(m,"link",i),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function R0(i,r,a,l){var f=(f=Dt.current)?Eh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=Vi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=So(a.href);var m=Vi(f).hoistableStyles,v=m.get(i);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(i,v),(m=f.querySelector(su(i)))&&!m._p&&(v.instance=m,v.state.loading=5),Yn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(i,a),m||ZC(f,i,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=bo(a),a=Vi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function So(i){return'href="'+dn(i)+'"'}function su(i){return'link[rel="stylesheet"]['+i+"]"}function I0(i){return E({},i,{"data-precedence":i.precedence,precedence:null})}function ZC(i,r,a,l){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=i.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$e(r,"link",a),Re(r),i.head.appendChild(r))}function bo(i){return'[src="'+dn(i)+'"]'}function ru(i){return"script[async]"+i}function C0(i,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=i.querySelector('style[data-href~="'+dn(a.href)+'"]');if(l)return r.instance=l,Re(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(i.ownerDocument||i).createElement("style"),Re(l),$e(l,"style",f),Ah(l,a.precedence,i),r.instance=l;case"stylesheet":f=So(a.href);var m=i.querySelector(su(f));if(m)return r.state.loading|=4,r.instance=m,Re(m),m;l=I0(a),(f=Yn.get(f))&&tp(l,f),m=(i.ownerDocument||i).createElement("link"),Re(m);var v=m;return v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),$e(m,"link",l),r.state.loading|=4,Ah(m,a.precedence,i),r.instance=m;case"script":return m=bo(a.src),(f=i.querySelector(ru(m)))?(r.instance=f,Re(f),f):(l=a,(f=Yn.get(m))&&(l=E({},a),ep(l,f)),i=i.ownerDocument||i,f=i.createElement("script"),Re(f),$e(f,"link",l),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Ah(l,a.precedence,i));return r.instance}function Ah(i,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===r)m=S;else if(m!==f)break}m?m.parentNode.insertBefore(i,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(i,r.firstChild))}function tp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function ep(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Sh=null;function D0(i,r,a){if(Sh===null){var l=new Map,f=Sh=new Map;f.set(a,l)}else f=Sh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(i))return l;for(l.set(i,null),a=a.getElementsByTagName(i),f=0;f<a.length;f++){var m=a[f];if(!(m[Ci]||m[we]||i==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=i+v;var S=l.get(v);S?S.push(m):l.set(v,[m])}}return l}function V0(i,r,a){i=i.ownerDocument||i,i.head.insertBefore(a,r==="title"?i.querySelector("head > title"):null)}function JC(i,r,a){if(a===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function M0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function tD(i,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=So(l.href),m=r.querySelector(su(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=bh.bind(i),r.then(i,i)),a.state.loading|=4,a.instance=m,Re(m);return}m=r.ownerDocument||r,l=I0(l),(f=Yn.get(f))&&tp(l,f),m=m.createElement("link"),Re(m);var v=m;v._p=new Promise(function(S,D){v.onload=S,v.onerror=D}),$e(m,"link",l),a.instance=m}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=bh.bind(i),r.addEventListener("load",a),r.addEventListener("error",a))}}var np=0;function eD(i,r){return i.stylesheets&&i.count===0&&Rh(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var l=setTimeout(function(){if(i.stylesheets&&Rh(i,i.stylesheets),i.unsuspend){var m=i.unsuspend;i.unsuspend=null,m()}},6e4+r);0<i.imgBytes&&np===0&&(np=62500*PC());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Rh(i,i.stylesheets),i.unsuspend)){var m=i.unsuspend;i.unsuspend=null,m()}},(i.imgBytes>np?50:800)+r);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rh(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var wh=null;function Rh(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,wh=new Map,r.forEach(nD,i),wh=null,bh.call(i))}function nD(i,r){if(!(r.state.loading&4)){var a=wh.get(i);if(a)var l=a.get(null);else{a=new Map,wh.set(i,a);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var v=f[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),m=a.get(v)||l,m===l&&a.set(null,f),a.set(v,f),this.count++,l=bh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var au={$$typeof:$,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function iD(i,r,a,l,f,m,v,S,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function O0(i,r,a,l,f,m,v,S,D,B,K,Z){return i=new iD(i,r,a,v,D,B,K,Z,S),r=1,m===!0&&(r|=24),m=In(3,null,null,r),i.current=m,m.stateNode=i,r=Pd(),r.refCount++,i.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},zd(m),i}function N0(i){return i?(i=to,i):to}function x0(i,r,a,l,f,m){f=N0(f),l.context===null?l.context=f:l.pendingContext=f,l=Ys(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Qs(i,l,r),a!==null&&(vn(a,i,r),Ul(a,i,r))}function P0(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<r?a:r}}function ip(i,r){P0(i,r),(i=i.alternate)&&P0(i,r)}function L0(i){if(i.tag===13||i.tag===31){var r=Zr(i,67108864);r!==null&&vn(r,i,67108864),ip(i,67108864)}}function k0(i){if(i.tag===13||i.tag===31){var r=On();r=Br(r);var a=Zr(i,r);a!==null&&vn(a,i,r),ip(i,r)}}var Ih=!0;function sD(i,r,a,l){var f=Y.T;Y.T=null;var m=it.p;try{it.p=2,sp(i,r,a,l)}finally{it.p=m,Y.T=f}}function rD(i,r,a,l){var f=Y.T;Y.T=null;var m=it.p;try{it.p=8,sp(i,r,a,l)}finally{it.p=m,Y.T=f}}function sp(i,r,a,l){if(Ih){var f=rp(l);if(f===null)Hm(i,r,l,Ch,a),z0(i,l);else if(oD(f,i,r,a,l))l.stopPropagation();else if(z0(i,l),r&4&&-1<aD.indexOf(i)){for(;f!==null;){var m=Ln(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=bi(m.pendingLanes);if(v!==0){var S=m;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var D=1<<31-ye(v);S.entanglements[1]|=D,v&=~D}qi(m),(Gt&6)===0&&(ch=ln()+500,tu(0))}}break;case 31:case 13:S=Zr(m,2),S!==null&&vn(S,m,2),fh(),ip(m,2)}if(m=rp(l),m===null&&Hm(i,r,l,Ch,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else Hm(i,r,l,null,a)}}function rp(i){return i=kn(i),ap(i)}var Ch=null;function ap(i){if(Ch=null,i=Di(i),i!==null){var r=u(i);if(r===null)i=null;else{var a=r.tag;if(a===13){if(i=c(r),i!==null)return i;i=null}else if(a===31){if(i=d(r),i!==null)return i;i=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ch=i,null}function U0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lr()){case ul:return 2;case cl:return 8;case Os:case fd:return 32;case ac:return 268435456;default:return 32}default:return 32}}var op=!1,rr=null,ar=null,or=null,ou=new Map,lu=new Map,lr=[],aD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z0(i,r){switch(i){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":ou.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(r.pointerId)}}function uu(i,r,a,l,f,m){return i===null||i.nativeEvent!==m?(i={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Ln(r),r!==null&&L0(r)),i):(i.eventSystemFlags|=l,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function oD(i,r,a,l,f){switch(r){case"focusin":return rr=uu(rr,i,r,a,l,f),!0;case"dragenter":return ar=uu(ar,i,r,a,l,f),!0;case"mouseover":return or=uu(or,i,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return ou.set(m,uu(ou.get(m)||null,i,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,lu.set(m,uu(lu.get(m)||null,i,r,a,l,f)),!0}return!1}function B0(i){var r=Di(i.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){i.blockedOn=r,ii(i.priority,function(){k0(a)});return}}else if(r===31){if(r=d(a),r!==null){i.blockedOn=r,ii(i.priority,function(){k0(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Dh(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var a=rp(i.nativeEvent);if(a===null){a=i.nativeEvent;var l=new a.constructor(a.type,a);Al=l,a.target.dispatchEvent(l),Al=null}else return r=Ln(a),r!==null&&L0(r),i.blockedOn=a,!1;r.shift()}return!0}function j0(i,r,a){Dh(i)&&a.delete(r)}function lD(){op=!1,rr!==null&&Dh(rr)&&(rr=null),ar!==null&&Dh(ar)&&(ar=null),or!==null&&Dh(or)&&(or=null),ou.forEach(j0),lu.forEach(j0)}function Vh(i,r){i.blockedOn===r&&(i.blockedOn=null,op||(op=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,lD)))}var Mh=null;function F0(i){Mh!==i&&(Mh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Mh===i&&(Mh=null);for(var r=0;r<i.length;r+=3){var a=i[r],l=i[r+1],f=i[r+2];if(typeof l!="function"){if(ap(l||a)===null)continue;break}var m=Ln(a);m!==null&&(i.splice(r,3),r-=3,rm(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function wo(i){function r(D){return Vh(D,i)}rr!==null&&Vh(rr,i),ar!==null&&Vh(ar,i),or!==null&&Vh(or,i),ou.forEach(r),lu.forEach(r);for(var a=0;a<lr.length;a++){var l=lr[a];l.blockedOn===i&&(l.blockedOn=null)}for(;0<lr.length&&(a=lr[0],a.blockedOn===null);)B0(a),a.blockedOn===null&&lr.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],v=f[je]||null;if(typeof m=="function")v||F0(a);else if(v){var S=null;if(m&&m.hasAttribute("formAction")){if(f=m,v=m[je]||null)S=v.formAction;else if(ap(f)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),F0(a)}}}function q0(){function i(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function lp(i){this._internalRoot=i}Oh.prototype.render=lp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();x0(a,l,i,r,null,null)},Oh.prototype.unmount=lp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;x0(i.current,2,null,i,null,null),fh(),r[Ii]=null}};function Oh(i){this._internalRoot=i}Oh.prototype.unstable_scheduleHydration=function(i){if(i){var r=fc();i={blockedOn:null,target:i,priority:r};for(var a=0;a<lr.length&&r!==0&&r<lr[a].priority;a++);lr.splice(a,0,i),a===0&&B0(i)}};var H0=t.version;if(H0!=="19.2.3")throw Error(s(527,H0,"19.2.3"));it.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=g(r),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var uD={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{ei=Nh.inject(uD),Ge=Nh}catch{}}return hu.createRoot=function(i,r){if(!o(i))throw Error(s(299));var a=!1,l="",f=Wv,m=Zv,v=Jv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=O0(i,1,!1,null,null,a,l,null,f,m,v,q0),i[Ii]=r.current,qm(i),new lp(r)},hu.hydrateRoot=function(i,r,a){if(!o(i))throw Error(s(299));var l=!1,f="",m=Wv,v=Zv,S=Jv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=O0(i,1,!0,r,a??null,l,f,D,m,v,S,q0),r.context=N0(null),a=r.current,l=On(),l=Br(l),f=Ys(l),f.callback=null,Qs(a,f,l),a=l,r.current.lanes=a,Ur(r,a),qi(r),i[Ii]=r.current,qm(i),new Oh(r)},hu.version="19.2.3",hu}var tE;function TD(){if(tE)return hp.exports;tE=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hp.exports=vD(),hp.exports}var ED=TD();const AD=eb(ED),SD=()=>{};var eE={};const nb=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let o=e.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},bD=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const o=e[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=e[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=e[n++],c=e[n++],d=e[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=e[n++],c=e[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return t.join("")},ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<e.length;o+=3){const u=e[o],c=o+1<e.length,d=c?e[o+1]:0,p=o+2<e.length,g=p?e[o+2]:0,_=u>>2,E=(u&3)<<4|d>>4;let A=(d&15)<<2|g>>6,V=g&63;p||(V=64,c||(A=64)),s.push(n[_],n[E],n[A],n[V])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nb(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):bD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<e.length;){const u=n[e.charAt(o++)],d=o<e.length?n[e.charAt(o)]:0;++o;const g=o<e.length?n[e.charAt(o)]:64;++o;const E=o<e.length?n[e.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new wD;const A=u<<2|d>>4;if(s.push(A),g!==64){const V=d<<4&240|g>>2;if(s.push(V),E!==64){const k=g<<6&192|E;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class wD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RD=function(e){const t=nb(e);return ib.encodeByteArray(t,!0)},rf=function(e){return RD(e).replace(/\./g,"")},sb=function(e){try{return ib.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ID(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const CD=()=>ID().__FIREBASE_DEFAULTS__,DD=()=>{if(typeof process>"u"||typeof eE>"u")return;const e=eE.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},VD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sb(e[1]);return t&&JSON.parse(t)},Nf=()=>{try{return SD()||CD()||DD()||VD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},rb=e=>Nf()?.emulatorHosts?.[e],ab=e=>{const t=rb(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},ob=()=>Nf()?.config,lb=e=>Nf()?.[`_${e}`];class MD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Da(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Xg(e){return(await fetch(e,{credentials:"include"})).ok}function ub(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...e};return[rf(JSON.stringify(n)),rf(JSON.stringify(c)),""].join(".")}const _u={};function OD(){const e={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?e.emulator.push(t):e.prod.push(t);return e}function ND(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let nE=!1;function $g(e,t){if(typeof window>"u"||typeof document>"u"||!Da(window.location.host)||_u[e]===t||_u[e]||nE)return;_u[e]=t;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=OD().prod.length>0;function c(){const A=document.getElementById(s);A&&A.remove()}function d(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,V){A.setAttribute("width","24"),A.setAttribute("id",V),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{nE=!0,c()},A}function _(A,V){A.setAttribute("id",V),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function E(){const A=ND(s),V=n("text"),k=document.getElementById(V)||document.createElement("span"),G=n("learnmore"),j=document.getElementById(G)||document.createElement("a"),Q=n("preprendIcon"),nt=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const $=A.element;d($),_(j,G);const et=g();p(nt,Q),$.append(nt,k,j,et),document.body.appendChild($)}u?(k.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function PD(){const e=Nf()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cb(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function kD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UD(){const e=on();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function zD(){return!PD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hb(){try{return typeof indexedDB=="object"}catch{return!1}}function fb(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}function BD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const jD="FirebaseError";class ti extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=jD,Object.setPrototypeOf(this,ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Va.prototype.create)}}class Va{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],c=u?FD(u,s):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new ti(o,d,s)}}function FD(e,t){return e.replace(qD,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const qD=/\{\$([^}]+)}/g;function HD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Er(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=e[o],c=t[o];if(iE(u)&&iE(c)){if(!Er(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function iE(e){return e!==null&&typeof e=="object"}function Gu(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function GD(e,t){const n=new KD(e,t);return n.subscribe.bind(n)}class KD{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YD(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=pp),o.error===void 0&&(o.error=pp),o.complete===void 0&&(o.complete=pp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YD(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function pp(){}const QD=1e3,XD=2,$D=14400*1e3,WD=.5;function sE(e,t=QD,n=XD){const s=t*Math.pow(n,e),o=Math.round(WD*s*(Math.random()-.5)*2);return Math.min($D,s+o)}function Ae(e){return e&&e._delegate?e._delegate:e}class Jn{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const fa="[DEFAULT]";class ZD{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new MD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(t2(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&c.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JD(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JD(e){return e===fa?void 0:e}function t2(e){return e.instantiationMode==="EAGER"}class e2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new ZD(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Lt||(Lt={}));const n2={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},i2=Lt.INFO,s2={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},r2=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),o=s2[t];if(o)console[o](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xf{constructor(t){this.name=t,this._logLevel=i2,this._logHandler=r2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?n2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const a2=(e,t)=>t.some(n=>e instanceof n);let rE,aE;function o2(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function l2(){return aE||(aE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const db=new WeakMap,Qp=new WeakMap,mb=new WeakMap,gp=new WeakMap,Wg=new WeakMap;function u2(e){const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("success",u),e.removeEventListener("error",c)},u=()=>{n(gr(e.result)),o()},c=()=>{s(e.error),o()};e.addEventListener("success",u),e.addEventListener("error",c)});return t.then(n=>{n instanceof IDBCursor&&db.set(n,e)}).catch(()=>{}),Wg.set(t,e),t}function c2(e){if(Qp.has(e))return;const t=new Promise((n,s)=>{const o=()=>{e.removeEventListener("complete",u),e.removeEventListener("error",c),e.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(e.error||new DOMException("AbortError","AbortError")),o()};e.addEventListener("complete",u),e.addEventListener("error",c),e.addEventListener("abort",c)});Qp.set(e,t)}let Xp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Qp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||mb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function h2(e){Xp=e(Xp)}function f2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(yp(this),t,...n);return mb.set(s,t.sort?t.sort():[t]),gr(s)}:l2().includes(e)?function(...t){return e.apply(yp(this),t),gr(db.get(this))}:function(...t){return gr(e.apply(yp(this),t))}}function d2(e){return typeof e=="function"?f2(e):(e instanceof IDBTransaction&&c2(e),a2(e,o2())?new Proxy(e,Xp):e)}function gr(e){if(e instanceof IDBRequest)return u2(e);if(gp.has(e))return gp.get(e);const t=d2(e);return t!==e&&(gp.set(e,t),Wg.set(t,e)),t}const yp=e=>Wg.get(e);function pb(e,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(e,t),d=gr(c);return s&&c.addEventListener("upgradeneeded",p=>{s(gr(c.result),p.oldVersion,p.newVersion,gr(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const m2=["get","getKey","getAll","getAllKeys","count"],p2=["put","add","delete","clear"],_p=new Map;function oE(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(_p.get(t))return _p.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=p2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||m2.includes(n)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return _p.set(t,u),u}h2(e=>({...e,get:(t,n,s)=>oE(t,n)||e.get(t,n,s),has:(t,n)=>!!oE(t,n)||e.has(t,n)}));class g2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function y2(e){return e.getComponent()?.type==="VERSION"}const $p="@firebase/app",lE="0.14.6";const ws=new xf("@firebase/app"),_2="@firebase/app-compat",v2="@firebase/analytics-compat",T2="@firebase/analytics",E2="@firebase/app-check-compat",A2="@firebase/app-check",S2="@firebase/auth",b2="@firebase/auth-compat",w2="@firebase/database",R2="@firebase/data-connect",I2="@firebase/database-compat",C2="@firebase/functions",D2="@firebase/functions-compat",V2="@firebase/installations",M2="@firebase/installations-compat",O2="@firebase/messaging",N2="@firebase/messaging-compat",x2="@firebase/performance",P2="@firebase/performance-compat",L2="@firebase/remote-config",k2="@firebase/remote-config-compat",U2="@firebase/storage",z2="@firebase/storage-compat",B2="@firebase/firestore",j2="@firebase/ai",F2="@firebase/firestore-compat",q2="firebase",H2="12.6.0";const Wp="[DEFAULT]",G2={[$p]:"fire-core",[_2]:"fire-core-compat",[T2]:"fire-analytics",[v2]:"fire-analytics-compat",[A2]:"fire-app-check",[E2]:"fire-app-check-compat",[S2]:"fire-auth",[b2]:"fire-auth-compat",[w2]:"fire-rtdb",[R2]:"fire-data-connect",[I2]:"fire-rtdb-compat",[C2]:"fire-fn",[D2]:"fire-fn-compat",[V2]:"fire-iid",[M2]:"fire-iid-compat",[O2]:"fire-fcm",[N2]:"fire-fcm-compat",[x2]:"fire-perf",[P2]:"fire-perf-compat",[L2]:"fire-rc",[k2]:"fire-rc-compat",[U2]:"fire-gcs",[z2]:"fire-gcs-compat",[B2]:"fire-fst",[F2]:"fire-fst-compat",[j2]:"fire-vertex","fire-js":"fire-js",[q2]:"fire-js-all"};const af=new Map,K2=new Map,Zp=new Map;function uE(e,t){try{e.container.addComponent(t)}catch(n){ws.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ti(e){const t=e.name;if(Zp.has(t))return ws.debug(`There were multiple attempts to register component ${t}.`),!1;Zp.set(t,e);for(const n of af.values())uE(n,e);for(const n of K2.values())uE(n,e);return!0}function Vr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xn(e){return e==null?!1:e.settings!==void 0}const Y2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new Va("app","Firebase",Y2);class Q2{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Ma=H2;function gb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:Wp,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw yr.create("bad-app-name",{appName:String(o)});if(n||(n=ob()),!n)throw yr.create("no-options");const u=af.get(o);if(u){if(Er(n,u.options)&&Er(s,u.config))return u;throw yr.create("duplicate-app",{appName:o})}const c=new e2(o);for(const p of Zp.values())c.addComponent(p);const d=new Q2(n,s,c);return af.set(o,d),d}function Pf(e=Wp){const t=af.get(e);if(!t&&e===Wp&&ob())return gb();if(!t)throw yr.create("no-app",{appName:e});return t}function Sn(e,t,n){let s=G2[e]??e;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${t}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ws.warn(c.join(" "));return}Ti(new Jn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const X2="firebase-heartbeat-database",$2=1,Vu="firebase-heartbeat-store";let vp=null;function yb(){return vp||(vp=pb(X2,$2,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Vu)}catch(n){console.warn(n)}}}}).catch(e=>{throw yr.create("idb-open",{originalErrorMessage:e.message})})),vp}async function W2(e){try{const n=(await yb()).transaction(Vu),s=await n.objectStore(Vu).get(_b(e));return await n.done,s}catch(t){if(t instanceof ti)ws.warn(t.message);else{const n=yr.create("idb-get",{originalErrorMessage:t?.message});ws.warn(n.message)}}}async function cE(e,t){try{const s=(await yb()).transaction(Vu,"readwrite");await s.objectStore(Vu).put(t,_b(e)),await s.done}catch(n){if(n instanceof ti)ws.warn(n.message);else{const s=yr.create("idb-set",{originalErrorMessage:n?.message});ws.warn(s.message)}}}function _b(e){return`${e.name}!${e.options.appId}`}const Z2=1024,J2=30;class tV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nV(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>J2){const o=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ws.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hE(),{heartbeatsToSend:n,unsentEntries:s}=eV(this._heartbeatsCache.heartbeats),o=rf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ws.warn(t),""}}}function hE(){return new Date().toISOString().substring(0,10)}function eV(e,t=Z2){const n=[];let s=e.slice();for(const o of e){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),fE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),fE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class nV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hb()?fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await W2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return cE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function fE(e){return rf(JSON.stringify({version:2,heartbeats:e})).length}function iV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}function sV(e){Ti(new Jn("platform-logger",t=>new g2(t),"PRIVATE")),Ti(new Jn("heartbeat",t=>new tV(t),"PRIVATE")),Sn($p,lE,e),Sn($p,lE,"esm2020"),Sn("fire-js","")}sV("");function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rV=vb,Tb=new Va("auth","Firebase",vb());const of=new xf("@firebase/auth");function aV(e,...t){of.logLevel<=Lt.WARN&&of.warn(`Auth (${Ma}): ${e}`,...t)}function Hh(e,...t){of.logLevel<=Lt.ERROR&&of.error(`Auth (${Ma}): ${e}`,...t)}function Zi(e,...t){throw Jg(e,...t)}function yi(e,...t){return Jg(e,...t)}function Zg(e,t,n){const s={...rV(),[t]:n};return new Va("auth","Firebase",s).create(t,{appName:e.name})}function va(e){return Zg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oV(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Zi(e,"argument-error"),Zg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jg(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Tb.create(e,...t)}function Et(e,t,...n){if(!e)throw Jg(t,...n)}function Ss(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hh(t),new Error(t)}function Rs(e,t){e||Ss(t)}function Jp(){return typeof self<"u"&&self.location?.href||""}function lV(){return dE()==="http:"||dE()==="https:"}function dE(){return typeof self<"u"&&self.location?.protocol||null}function uV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lV()||cb()||"connection"in navigator)?navigator.onLine:!0}function cV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}class Ku{constructor(t,n){this.shortDelay=t,this.longDelay=n,Rs(n>t,"Short delay should be less than long delay!"),this.isMobile=xD()||kD()}get(){return uV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ty(e,t){Rs(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Eb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const hV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dV=new Ku(3e4,6e4);function ey(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Wo(e,t,n,s,o={}){return Ab(e,o,async()=>{let u={},c={};s&&(t==="GET"?c=s:u={body:JSON.stringify(s)});const d=Gu({key:e.config.apiKey,...c}).slice(1),p=await e._getAdditionalHeaders();p["Content-Type"]="application/json",e.languageCode&&(p["X-Firebase-Locale"]=e.languageCode);const g={method:t,headers:p,...u};return LD()||(g.referrerPolicy="no-referrer"),e.emulatorConfig&&Da(e.emulatorConfig.host)&&(g.credentials="include"),Eb.fetch()(await Sb(e,e.config.apiHost,n,d),g)})}async function Ab(e,t,n){e._canInitEmulator=!1;const s={...hV,...t};try{const o=new pV(e),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw xh(e,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(e,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw xh(e,"email-already-in-use",c);if(p==="USER_DISABLED")throw xh(e,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Zg(e,_,g);Zi(e,_)}}catch(o){if(o instanceof ti)throw o;Zi(e,"network-request-failed",{message:String(o)})}}async function mV(e,t,n,s,o={}){const u=await Wo(e,t,n,s,o);return"mfaPendingCredential"in u&&Zi(e,"multi-factor-auth-required",{_serverResponse:u}),u}async function Sb(e,t,n,s){const o=`${t}${n}?${s}`,u=e,c=u.config.emulator?ty(e.config,o):`${e.config.apiScheme}://${o}`;return fV.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}class pV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yi(this.auth,"network-request-failed")),dV.get())})}}function xh(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=yi(e,t,s);return o.customData._tokenResponse=n,o}async function gV(e,t){return Wo(e,"POST","/v1/accounts:delete",t)}async function lf(e,t){return Wo(e,"POST","/v1/accounts:lookup",t)}function vu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function yV(e,t=!1){const n=Ae(e),s=await n.getIdToken(t),o=ny(s);Et(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:vu(Tp(o.auth_time)),issuedAtTime:vu(Tp(o.iat)),expirationTime:vu(Tp(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Tp(e){return Number(e)*1e3}function ny(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return Hh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sb(n);return o?JSON.parse(o):(Hh("Failed to decode base64 JWT payload"),null)}catch(o){return Hh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function mE(e){const t=ny(e);return Et(t,"internal-error"),Et(typeof t.exp<"u","internal-error"),Et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ti&&_V(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function _V({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}class vV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tg{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function uf(e){const t=e.auth,n=await e.getIdToken(),s=await Mu(e,lf(t,{idToken:n}));Et(s?.users.length,t,"internal-error");const o=s.users[0];e._notifyReloadListener(o);const u=o.providerUserInfo?.length?bb(o.providerUserInfo):[],c=EV(e.providerData,u),d=e.isAnonymous,p=!(e.email&&o.passwordHash)&&!c?.length,g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(e,_)}async function TV(e){const t=Ae(e);await uf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function EV(e,t){return[...e.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function bb(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function AV(e,t){const n=await Ab(e,{},async()=>{const s=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=e.config,c=await Sb(e,o,"/v1/token",`key=${u}`),d=await e._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:s};return e.emulatorConfig&&Da(e.emulatorConfig.host)&&(p.credentials="include"),Eb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SV(e,t){return Wo(e,"POST","/v2/accounts:revokeToken",ey(e,t))}class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Et(t.idToken,"internal-error"),Et(typeof t.idToken<"u","internal-error"),Et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Et(t.length!==0,"internal-error");const n=mE(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await AV(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Po;return s&&(Et(typeof s=="string","internal-error",{appName:t}),c.refreshToken=s),o&&(Et(typeof o=="string","internal-error",{appName:t}),c.accessToken=o),u&&(Et(typeof u=="number","internal-error",{appName:t}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Ss("not implemented")}}function cr(e,t){Et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class pi{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tg(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await Mu(this,this.stsTokenManager.getToken(this.auth,t));return Et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return yV(this,t)}reload(){return TV(this)}_assign(t){this!==t&&(Et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new pi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await uf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(va(this.auth));const t=await this.getIdToken();return await Mu(this,gV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,d=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:E,emailVerified:A,isAnonymous:V,providerData:k,stsTokenManager:G}=n;Et(E&&G,t,"internal-error");const j=Po.fromJSON(this.name,G);Et(typeof E=="string",t,"internal-error"),cr(s,t.name),cr(o,t.name),Et(typeof A=="boolean",t,"internal-error"),Et(typeof V=="boolean",t,"internal-error"),cr(u,t.name),cr(c,t.name),cr(d,t.name),cr(p,t.name),cr(g,t.name),cr(_,t.name);const Q=new pi({uid:E,auth:t,email:o,emailVerified:A,displayName:s,isAnonymous:V,photoURL:c,phoneNumber:u,tenantId:d,stsTokenManager:j,createdAt:g,lastLoginAt:_});return k&&Array.isArray(k)&&(Q.providerData=k.map(nt=>({...nt}))),p&&(Q._redirectEventId=p),Q}static async _fromIdTokenResponse(t,n,s=!1){const o=new Po;o.updateFromServerResponse(n);const u=new pi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await uf(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Et(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,d=new Po;d.updateFromIdToken(s);const p=new pi({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const pE=new Map;function bs(e){Rs(e instanceof Function,"Expected a class definition");let t=pE.get(e);return t?(Rs(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,pE.set(e,t),t)}class wb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}wb.type="NONE";const gE=wb;function Gh(e,t,n){return`firebase:${e}:${t}:${n}`}class Lo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await lf(this.auth,{idToken:t}).catch(()=>{});return n?pi._fromGetAccountInfoResponse(this.auth,n,t):null}return pi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Lo(bs(gE),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||bs(gE);const c=Gh(s,t.config.apiKey,t.name);let d=null;for(const g of n)try{const _=await g._get(c);if(_){let E;if(typeof _=="string"){const A=await lf(t,{idToken:_}).catch(()=>{});if(!A)break;E=await pi._fromGetAccountInfoResponse(t,A,_)}else E=pi._fromJSON(t,_);g!==u&&(d=E),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Lo(u,t,s):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Lo(u,t,s))}}function yE(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Db(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Rb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mb(t))return"Blackberry";if(Ob(t))return"Webos";if(Ib(t))return"Safari";if((t.includes("chrome/")||Cb(t))&&!t.includes("edge/"))return"Chrome";if(Vb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function Rb(e=on()){return/firefox\//i.test(e)}function Ib(e=on()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Cb(e=on()){return/crios\//i.test(e)}function Db(e=on()){return/iemobile/i.test(e)}function Vb(e=on()){return/android/i.test(e)}function Mb(e=on()){return/blackberry/i.test(e)}function Ob(e=on()){return/webos/i.test(e)}function iy(e=on()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function bV(e=on()){return iy(e)&&!!window.navigator?.standalone}function wV(){return UD()&&document.documentMode===10}function Nb(e=on()){return iy(e)||Vb(e)||Ob(e)||Mb(e)||/windows phone/i.test(e)||Db(e)}function xb(e,t=[]){let n;switch(e){case"Browser":n=yE(on());break;case"Worker":n=`${yE(on())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ma}/${s}`}class RV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((c,d)=>{try{const p=t(u);c(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function IV(e,t={}){return Wo(e,"GET","/v2/passwordPolicy",ey(e,t))}const CV=6;class DV{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class VV{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _E(this),this.idTokenSubscription=new _E(this),this.beforeStateQueue=new RV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=bs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Lo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await lf(this,{idToken:t}),s=await pi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,d=await this.tryRedirectSignIn(t);(!u||u===c)&&d?.user&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await uf(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(va(this));const n=t?Ae(t):null;return n&&Et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(va(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(va(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await IV(this),n=new DV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Va("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SV(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&bs(t)||this._popupRedirectResolver;Et(n,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[bs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=t.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aV(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lf(e){return Ae(e)}class _E{constructor(t){this.auth=t,this.observer=null,this.addObserver=GD(n=>this.observer=n)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MV(e){sy=e}function OV(e){return sy.loadJS(e)}function NV(){return sy.gapiScript}function xV(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function PV(e,t){const n=Vr(e,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Er(u,t??{}))return o;Zi(o,"already-initialized")}return n.initialize({options:t})}function LV(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(bs);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function kV(e,t,n){const s=Lf(e);Et(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=Pb(t),{host:c,port:d}=UV(t),p=d===null?"":`:${d}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Et(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Et(Er(g,s.config.emulator)&&Er(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Da(c)?(Xg(`${u}//${c}${p}`),$g("Auth",!0)):zV()}function Pb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function UV(e){const t=Pb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:vE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:vE(c)}}}function vE(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function zV(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}class Lb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(t){return Ss("not implemented")}_linkToIdToken(t,n){return Ss("not implemented")}_getReauthenticationResolver(t){return Ss("not implemented")}}async function ko(e,t){return mV(e,"POST","/v1/accounts:signInWithIdp",ey(e,t))}const BV="http://localhost";class Sa extends Lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new Sa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(t){const n=this.buildRequest();return ko(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,ko(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,ko(t,n)}buildRequest(){const t={requestUri:BV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gu(n)}return t}}class ry{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yu extends ry{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class fr extends Yu{constructor(){super("facebook.com")}static credential(t){return Sa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return fr.credentialFromTaggedObject(t)}static credentialFromError(t){return fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return fr.credential(t.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";class As extends Yu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Sa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return As.credential(n,s)}catch{return null}}}As.GOOGLE_SIGN_IN_METHOD="google.com";As.PROVIDER_ID="google.com";class dr extends Yu{constructor(){super("github.com")}static credential(t){return Sa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return dr.credentialFromTaggedObject(t)}static credentialFromError(t){return dr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return dr.credential(t.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";class mr extends Yu{constructor(){super("twitter.com")}static credential(t,n){return Sa._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return mr.credentialFromTaggedObject(t)}static credentialFromError(t){return mr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return mr.credential(n,s)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";class Fo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await pi._fromIdTokenResponse(t,s,o),c=TE(s);return new Fo({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=TE(s);return new Fo({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function TE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class cf extends ti{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,cf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new cf(t,n,s,o)}}function kb(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?cf._fromErrorAndOperation(e,u,t,s):u})}async function jV(e,t,n=!1){const s=await Mu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Fo._forOperation(e,"link",s)}async function FV(e,t,n=!1){const{auth:s}=e;if(Xn(s.app))return Promise.reject(va(s));const o="reauthenticate";try{const u=await Mu(e,kb(s,o,t,e),n);Et(u.idToken,s,"internal-error");const c=ny(u.idToken);Et(c,s,"internal-error");const{sub:d}=c;return Et(e.uid===d,s,"user-mismatch"),Fo._forOperation(e,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Zi(s,"user-mismatch"),u}}async function qV(e,t,n=!1){if(Xn(e.app))return Promise.reject(va(e));const s="signIn",o=await kb(e,s,t),u=await Fo._fromIdTokenResponse(e,s,o);return n||await e._updateCurrentUser(u.user),u}function HV(e,t,n,s){return Ae(e).onIdTokenChanged(t,n,s)}function GV(e,t,n){return Ae(e).beforeAuthStateChanged(t,n)}function KV(e,t,n,s){return Ae(e).onAuthStateChanged(t,n,s)}const hf="__sak";class Ub{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hf,"1"),this.storage.removeItem(hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const YV=1e3,QV=10;class zb extends Ub{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);wV()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,QV):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},YV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}zb.type="LOCAL";const XV=zb;class Bb extends Ub{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Bb.type="SESSION";const jb=Bb;function $V(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class kf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new kf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,u)),p=await $V(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];function ay(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}class WV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const g=ay("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(E){const A=E;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(A.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Gi(){return window}function ZV(e){Gi().location.href=e}function Fb(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function JV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tM(){return navigator?.serviceWorker?.controller||null}function eM(){return Fb()?self:null}const qb="firebaseLocalStorageDb",nM=1,ff="firebaseLocalStorage",Hb="fbase_key";class Qu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uf(e,t){return e.transaction([ff],t?"readwrite":"readonly").objectStore(ff)}function iM(){const e=indexedDB.deleteDatabase(qb);return new Qu(e).toPromise()}function eg(){const e=indexedDB.open(qb,nM);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(ff,{keyPath:Hb})}catch(o){n(o)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(ff)?t(s):(s.close(),await iM(),t(await eg()))})})}async function EE(e,t,n){const s=Uf(e,!0).put({[Hb]:t,value:n});return new Qu(s).toPromise()}async function sM(e,t){const n=Uf(e,!1).get(t),s=await new Qu(n).toPromise();return s===void 0?null:s.value}function AE(e,t){const n=Uf(e,!0).delete(t);return new Qu(n).toPromise()}const rM=800,aM=3;class Gb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>aM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(eM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await JV(),!this.activeServiceWorker)return;this.sender=new WV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await eg();return await EE(t,hf,"1"),await AE(t,hf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>EE(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>sM(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new Qu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Gb.type="LOCAL";const oM=Gb;new Ku(3e4,6e4);function Kb(e,t){return t?bs(t):(Et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class oy extends Lb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ko(t,this._buildIdpRequest())}_linkToIdToken(t,n){return ko(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return ko(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function lM(e){return qV(e.auth,new oy(e),e.bypassAuthState)}function uM(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),FV(n,new oy(e),e.bypassAuthState)}async function cM(e){const{auth:t,user:n}=e;return Et(n,t,"internal-error"),jV(n,new oy(e),e.bypassAuthState)}class Yb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:d}=t;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lM;case"linkViaPopup":case"linkViaRedirect":return cM;case"reauthViaPopup":case"reauthViaRedirect":return uM;default:Zi(this.auth,"internal-error")}}resolve(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hM=new Ku(2e3,1e4);async function fM(e,t,n){if(Xn(e.app))return Promise.reject(yi(e,"operation-not-supported-in-this-environment"));const s=Lf(e);oV(e,t,ry);const o=Kb(s,n);return new ma(s,"signInViaPopup",t,o).executeNotNull()}class ma extends Yb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ma.currentPopupAction&&ma.currentPopupAction.cancel(),ma.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Et(t,this.auth,"internal-error"),t}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const t=ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ma.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hM.get())};t()}}ma.currentPopupAction=null;const dM="pendingRedirect",Kh=new Map;class mM extends Yb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Kh.get(this.auth._key());if(!t){try{const s=await pM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Kh.set(this.auth._key(),t)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pM(e,t){const n=_M(t),s=yM(e);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function gM(e,t){Kh.set(e._key(),t)}function yM(e){return bs(e._redirectPersistence)}function _M(e){return Gh(dM,e.config.apiKey,e.name)}async function vM(e,t,n=!1){if(Xn(e.app))return Promise.reject(va(e));const s=Lf(e),o=Kb(s,t),c=await new mM(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,t)),c}const TM=600*1e3;class EM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!AM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Qb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(yi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=TM&&this.cachedEventUids.clear(),this.cachedEventUids.has(SE(t))}saveEventToCache(t){this.cachedEventUids.add(SE(t)),this.lastProcessedEventTime=Date.now()}}function SE(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Qb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function AM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qb(e);default:return!1}}async function SM(e,t={}){return Wo(e,"GET","/v1/projects",t)}const bM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wM=/^https?/;async function RM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await SM(e);for(const n of t)try{if(IM(n))return}catch{}Zi(e,"unauthorized-domain")}function IM(e){const t=Jp(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const c=new URL(e);return c.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!wM.test(n))return!1;if(bM.test(e))return s===e;const o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const CM=new Ku(3e4,6e4);function bE(){const e=Gi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function DM(e){return new Promise((t,n)=>{function s(){bE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(yi(e,"network-request-failed"))},timeout:CM.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)s();else{const o=xV("iframefcb");return Gi()[o]=()=>{gapi.load?s():n(yi(e,"network-request-failed"))},OV(`${NV()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Yh=null,t})}let Yh=null;function VM(e){return Yh=Yh||DM(e),Yh}const MM=new Ku(5e3,15e3),OM="__/auth/iframe",NM="emulator/auth/iframe",xM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LM(e){const t=e.config;Et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ty(t,NM):`https://${e.config.authDomain}/${OM}`,s={apiKey:t.apiKey,appName:e.name,v:Ma},o=PM.get(e.config.apiHost);o&&(s.eid=o);const u=e._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Gu(s).slice(1)}`}async function kM(e){const t=await VM(e),n=Gi().gapi;return Et(n,e,"internal-error"),t.open({where:document.body,url:LM(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xM,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=yi(e,"network-request-failed"),d=Gi().setTimeout(()=>{u(c)},MM.get());function p(){Gi().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const UM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zM=500,BM=600,jM="_blank",FM="http://localhost";class wE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qM(e,t,n,s=zM,o=BM){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p={...UM,width:s.toString(),height:o.toString(),top:u,left:c},g=on().toLowerCase();n&&(d=Cb(g)?jM:n),Rb(g)&&(t=t||FM,p.scrollbars="yes");const _=Object.entries(p).reduce((A,[V,k])=>`${A}${V}=${k},`,"");if(bV(g)&&d!=="_self")return HM(t||"",d),new wE(null);const E=window.open(t||"",d,_);Et(E,e,"popup-blocked");try{E.focus()}catch{}return new wE(E)}function HM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const GM="__/auth/handler",KM="emulator/auth/handler",YM=encodeURIComponent("fac");async function RE(e,t,n,s,o,u){Et(e.config.authDomain,e,"auth-domain-config-required"),Et(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:Ma,eventId:o};if(t instanceof ry){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",HD(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(t instanceof Yu){const _=t.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}e.tenantId&&(c.tid=e.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await e._getAppCheckToken(),g=p?`#${YM}=${encodeURIComponent(p)}`:"";return`${QM(e)}?${Gu(d).slice(1)}${g}`}function QM({config:e}){return e.emulator?ty(e,KM):`https://${e.authDomain}/${GM}`}const Ep="webStorageSupport";class XM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=vM,this._overrideRedirectResult=gM}async _openPopup(t,n,s,o){Rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await RE(t,n,s,Jp(),o);return qM(t,u,ay())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await RE(t,n,s,Jp(),o);return ZV(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Rs(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await kM(t),s=new EM(t);return n.register("authEvent",o=>(Et(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ep,{type:Ep},o=>{const u=o?.[0]?.[Ep];u!==void 0&&n(!!u),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nb()||Ib()||iy()}}const $M=XM;var IE="@firebase/auth",CE="1.12.0";class WM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JM(e){Ti(new Jn("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;Et(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xb(e)},g=new VV(s,o,u,p);return LV(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ti(new Jn("auth-internal",t=>{const n=Lf(t.getProvider("auth").getImmediate());return(s=>new WM(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(IE,CE,ZM(e)),Sn(IE,CE,"esm2020")}const tO=300,eO=lb("authIdTokenMaxAge")||tO;let DE=null;const nO=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>eO)return;const o=n?.token;DE!==o&&(DE=o,await fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iO(e=Pf()){const t=Vr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=PV(e,{popupRedirectResolver:$M,persistence:[oM,XV,jb]}),s=lb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=nO(u.toString());GV(n,c,()=>c(n.currentUser)),HV(n,d=>c(d))}}const o=rb("auth");return o&&kV(n,`http://${o}`),n}function sO(){return document.getElementsByTagName("head")?.[0]??document}MV({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=o=>{const u=yi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",sO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JM("Browser");var rO="firebase",aO="12.7.0";Sn(rO,aO,"app");const Xb="@firebase/installations",ly="0.6.19";const $b=1e4,Wb=`w:${ly}`,Zb="FIS_v2",oO="https://firebaseinstallations.googleapis.com/v1",lO=3600*1e3,uO="installations",cO="Installations";const hO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ba=new Va(uO,cO,hO);function Jb(e){return e instanceof ti&&e.code.includes("request-failed")}function tw({projectId:e}){return`${oO}/projects/${e}/installations`}function ew(e){return{token:e.token,requestStatus:2,expiresIn:dO(e.expiresIn),creationTime:Date.now()}}async function nw(e,t){const s=(await t.json()).error;return ba.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function iw({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function fO(e,{refreshToken:t}){const n=iw(e);return n.append("Authorization",mO(t)),n}async function sw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function dO(e){return Number(e.replace("s","000"))}function mO(e){return`${Zb} ${e}`}async function pO({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=tw(e),o=iw(e),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={fid:n,authVersion:Zb,appId:e.appId,sdkVersion:Wb},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await sw(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:ew(g.authToken)}}else throw await nw("Create Installation",p)}function rw(e){return new Promise(t=>{setTimeout(t,e)})}function gO(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const yO=/^[cdef][\w-]{21}$/,ng="";function _O(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=vO(e);return yO.test(n)?n:ng}catch{return ng}}function vO(e){return gO(e).substr(0,22)}function zf(e){return`${e.appName}!${e.appId}`}const aw=new Map;function ow(e,t){const n=zf(e);lw(n,t),TO(n,t)}function lw(e,t){const n=aw.get(e);if(n)for(const s of n)s(t)}function TO(e,t){const n=EO();n&&n.postMessage({key:e,fid:t}),AO()}let pa=null;function EO(){return!pa&&"BroadcastChannel"in self&&(pa=new BroadcastChannel("[Firebase] FID Change"),pa.onmessage=e=>{lw(e.data.key,e.data.fid)}),pa}function AO(){aw.size===0&&pa&&(pa.close(),pa=null)}const SO="firebase-installations-database",bO=1,wa="firebase-installations-store";let Ap=null;function uy(){return Ap||(Ap=pb(SO,bO,{upgrade:(e,t)=>{t===0&&e.createObjectStore(wa)}})),Ap}async function df(e,t){const n=zf(e),o=(await uy()).transaction(wa,"readwrite"),u=o.objectStore(wa),c=await u.get(n);return await u.put(t,n),await o.done,(!c||c.fid!==t.fid)&&ow(e,t.fid),t}async function uw(e){const t=zf(e),s=(await uy()).transaction(wa,"readwrite");await s.objectStore(wa).delete(t),await s.done}async function Bf(e,t){const n=zf(e),o=(await uy()).transaction(wa,"readwrite"),u=o.objectStore(wa),c=await u.get(n),d=t(c);return d===void 0?await u.delete(n):await u.put(d,n),await o.done,d&&(!c||c.fid!==d.fid)&&ow(e,d.fid),d}async function cy(e){let t;const n=await Bf(e.appConfig,s=>{const o=wO(s),u=RO(e,o);return t=u.registrationPromise,u.installationEntry});return n.fid===ng?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function wO(e){const t=e||{fid:_O(),registrationStatus:0};return cw(t)}function RO(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ba.create("app-offline"));return{installationEntry:t,registrationPromise:o}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=IO(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:CO(e)}:{installationEntry:t}}async function IO(e,t){try{const n=await pO(e,t);return df(e.appConfig,n)}catch(n){throw Jb(n)&&n.customData.serverCode===409?await uw(e.appConfig):await df(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function CO(e){let t=await VE(e.appConfig);for(;t.registrationStatus===1;)await rw(100),t=await VE(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await cy(e);return s||n}return t}function VE(e){return Bf(e,t=>{if(!t)throw ba.create("installation-not-found");return cw(t)})}function cw(e){return DO(e)?{fid:e.fid,registrationStatus:0}:e}function DO(e){return e.registrationStatus===1&&e.registrationTime+$b<Date.now()}async function VO({appConfig:e,heartbeatServiceProvider:t},n){const s=MO(e,n),o=fO(e,n),u=t.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const c={installation:{sdkVersion:Wb,appId:e.appId}},d={method:"POST",headers:o,body:JSON.stringify(c)},p=await sw(()=>fetch(s,d));if(p.ok){const g=await p.json();return ew(g)}else throw await nw("Generate Auth Token",p)}function MO(e,{fid:t}){return`${tw(e)}/${t}/authTokens:generate`}async function hy(e,t=!1){let n;const s=await Bf(e.appConfig,u=>{if(!hw(u))throw ba.create("not-registered");const c=u.authToken;if(!t&&xO(c))return u;if(c.requestStatus===1)return n=OO(e,t),u;{if(!navigator.onLine)throw ba.create("app-offline");const d=LO(u);return n=NO(e,d),d}});return n?await n:s.authToken}async function OO(e,t){let n=await ME(e.appConfig);for(;n.authToken.requestStatus===1;)await rw(100),n=await ME(e.appConfig);const s=n.authToken;return s.requestStatus===0?hy(e,t):s}function ME(e){return Bf(e,t=>{if(!hw(t))throw ba.create("not-registered");const n=t.authToken;return kO(n)?{...t,authToken:{requestStatus:0}}:t})}async function NO(e,t){try{const n=await VO(e,t),s={...t,authToken:n};return await df(e.appConfig,s),n}catch(n){if(Jb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await uw(e.appConfig);else{const s={...t,authToken:{requestStatus:0}};await df(e.appConfig,s)}throw n}}function hw(e){return e!==void 0&&e.registrationStatus===2}function xO(e){return e.requestStatus===2&&!PO(e)}function PO(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+lO}function LO(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function kO(e){return e.requestStatus===1&&e.requestTime+$b<Date.now()}async function UO(e){const t=e,{installationEntry:n,registrationPromise:s}=await cy(t);return s?s.catch(console.error):hy(t).catch(console.error),n.fid}async function zO(e,t=!1){const n=e;return await BO(n),(await hy(n,t)).token}async function BO(e){const{registrationPromise:t}=await cy(e);t&&await t}function jO(e){if(!e||!e.options)throw Sp("App Configuration");if(!e.name)throw Sp("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Sp(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Sp(e){return ba.create("missing-app-config-values",{valueName:e})}const fw="installations",FO="installations-internal",qO=e=>{const t=e.getProvider("app").getImmediate(),n=jO(t),s=Vr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},HO=e=>{const t=e.getProvider("app").getImmediate(),n=Vr(t,fw).getImmediate();return{getId:()=>UO(n),getToken:o=>zO(n,o)}};function GO(){Ti(new Jn(fw,qO,"PUBLIC")),Ti(new Jn(FO,HO,"PRIVATE"))}GO();Sn(Xb,ly);Sn(Xb,ly,"esm2020");const mf="analytics",KO="firebase_id",YO="origin",QO=60*1e3,XO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fy="https://www.googletagmanager.com/gtag/js";const fn=new xf("@firebase/analytics");const $O={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},xn=new Va("analytics","Analytics",$O);function WO(e){if(!e.startsWith(fy)){const t=xn.create("invalid-gtag-resource",{gtagURL:e});return fn.warn(t.message),""}return e}function dw(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function ZO(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function JO(e,t){const n=ZO("firebase-js-sdk-policy",{createScriptURL:WO}),s=document.createElement("script"),o=`${fy}?l=${e}&id=${t}`;s.src=n?n?.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function tN(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function eN(e,t,n,s,o,u){const c=s[o];try{if(c)await t[c];else{const p=(await dw(n)).find(g=>g.measurementId===o);p&&await t[p.appId]}}catch(d){fn.error(d)}e("config",o,u)}async function nN(e,t,n,s,o){try{let u=[];if(o&&o.send_to){let c=o.send_to;Array.isArray(c)||(c=[c]);const d=await dw(n);for(const p of c){const g=d.find(E=>E.measurementId===p),_=g&&t[g.appId];if(_)u.push(_);else{u=[];break}}}u.length===0&&(u=Object.values(t)),await Promise.all(u),e("event",s,o||{})}catch(u){fn.error(u)}}function iN(e,t,n,s){async function o(u,...c){try{if(u==="event"){const[d,p]=c;await nN(e,t,n,d,p)}else if(u==="config"){const[d,p]=c;await eN(e,t,n,s,d,p)}else if(u==="consent"){const[d,p]=c;e("consent",d,p)}else if(u==="get"){const[d,p,g]=c;e("get",d,p,g)}else if(u==="set"){const[d]=c;e("set",d)}else e(u,...c)}catch(d){fn.error(d)}}return o}function sN(e,t,n,s,o){let u=function(...c){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=iN(u,e,t,n),{gtagCore:u,wrappedGtag:window[o]}}function rN(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(fy)&&n.src.includes(e))return n;return null}const aN=30,oN=1e3;class lN{constructor(t={},n=oN){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const mw=new lN;function uN(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function cN(e){const{appId:t,apiKey:n}=e,s={method:"GET",headers:uN(n)},o=XO.replace("{app-id}",t),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let c="";try{const d=await u.json();d.error?.message&&(c=d.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c})}return u.json()}async function hN(e,t=mw,n){const{appId:s,apiKey:o,measurementId:u}=e.options;if(!s)throw xn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw xn.create("no-api-key")}const c=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new mN;return setTimeout(async()=>{d.abort()},QO),pw({appId:s,apiKey:o,measurementId:u},c,d,t)}async function pw(e,{throttleEndTimeMillis:t,backoffCount:n},s,o=mw){const{appId:u,measurementId:c}=e;try{await fN(s,t)}catch(d){if(c)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:u,measurementId:c};throw d}try{const d=await cN(e);return o.deleteThrottleMetadata(u),d}catch(d){const p=d;if(!dN(p)){if(o.deleteThrottleMetadata(u),c)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:c};throw d}const g=Number(p?.customData?.httpStatus)===503?sE(n,o.intervalMillis,aN):sE(n,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(u,_),fn.debug(`Calling attemptFetch again in ${g} millis`),pw(e,_,s,o)}}function fN(e,t){return new Promise((n,s)=>{const o=Math.max(t-Date.now(),0),u=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(u),s(xn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function dN(e){if(!(e instanceof ti)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class mN{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function pN(e,t,n,s,o){if(o&&o.global){e("event",n,s);return}else{const u=await t,c={...s,send_to:u};e("event",n,c)}}async function gN(e,t,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return e("set",o),Promise.resolve()}else{const o=await t;e("config",o,{update:!0,user_properties:n})}}async function yN(){if(hb())try{await fb()}catch(e){return fn.warn(xn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return fn.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function _N(e,t,n,s,o,u,c){const d=hN(e);d.then(A=>{n[A.measurementId]=A.appId,e.options.measurementId&&A.measurementId!==e.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${A.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(A=>fn.error(A)),t.push(d);const p=yN().then(A=>{if(A)return s.getId()}),[g,_]=await Promise.all([d,p]);rN(u)||JO(u,g.measurementId),o("js",new Date);const E=c?.config??{};return E[YO]="firebase",E.update=!0,_!=null&&(E[KO]=_),o("config",g.measurementId,E),g.measurementId}class vN{constructor(t){this.app=t}_delete(){return delete Uo[this.app.options.appId],Promise.resolve()}}let Uo={},OE=[];const NE={};let bp="dataLayer",TN="gtag",xE,dy,PE=!1;function EN(){const e=[];if(cb()&&e.push("This is a browser extension environment."),BD()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=xn.create("invalid-analytics-context",{errorInfo:t});fn.warn(n.message)}}function AN(e,t,n){EN();const s=e.options.appId;if(!s)throw xn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw xn.create("no-api-key");if(Uo[s]!=null)throw xn.create("already-exists",{id:s});if(!PE){tN(bp);const{wrappedGtag:u,gtagCore:c}=sN(Uo,OE,NE,bp,TN);dy=u,xE=c,PE=!0}return Uo[s]=_N(e,OE,NE,t,xE,bp,n),new vN(e)}function SN(e=Pf()){e=Ae(e);const t=Vr(e,mf);return t.isInitialized()?t.getImmediate():bN(e)}function bN(e,t={}){const n=Vr(e,mf);if(n.isInitialized()){const o=n.getImmediate();if(Er(t,n.getOptions()))return o;throw xn.create("already-initialized")}return n.initialize({options:t})}function wN(e,t,n){e=Ae(e),gN(dy,Uo[e.app.options.appId],t,n).catch(s=>fn.error(s))}function RN(e,t,n,s){e=Ae(e),pN(dy,Uo[e.app.options.appId],t,n,s).catch(o=>fn.error(o))}const LE="@firebase/analytics",kE="0.10.19";function IN(){Ti(new Jn(mf,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("installations-internal").getImmediate();return AN(s,o,n)},"PUBLIC")),Ti(new Jn("analytics-internal",e,"PRIVATE")),Sn(LE,kE),Sn(LE,kE,"esm2020");function e(t){try{const n=t.getProvider(mf).getImmediate();return{logEvent:(s,o,u)=>RN(n,s,o,u),setUserProperties:(s,o)=>wN(n,s,o)}}catch(n){throw xn.create("interop-component-reg-failed",{reason:n})}}}IN();var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,gw;(function(){var e;function t(R,w){function I(){}I.prototype=w.prototype,R.F=w.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(x,M,L){for(var C=Array(arguments.length-2),te=2;te<arguments.length;te++)C[te-2]=arguments[te];return w.prototype[M].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,w,I){I||(I=0);const x=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)x[M]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(M=0;M<16;++M)x[M]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=R.g[0],I=R.g[1],M=R.g[2];let L=R.g[3],C;C=w+(L^I&(M^L))+x[0]+3614090360&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(M^w&(I^M))+x[1]+3905402710&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(I^L&(w^I))+x[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(w^M&(L^w))+x[3]+3250441966&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(L^I&(M^L))+x[4]+4118548399&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(M^w&(I^M))+x[5]+1200080426&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(I^L&(w^I))+x[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(w^M&(L^w))+x[7]+4249261313&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(L^I&(M^L))+x[8]+1770035416&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(M^w&(I^M))+x[9]+2336552879&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(I^L&(w^I))+x[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(w^M&(L^w))+x[11]+2304563134&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(L^I&(M^L))+x[12]+1804603682&4294967295,w=I+(C<<7&4294967295|C>>>25),C=L+(M^w&(I^M))+x[13]+4254626195&4294967295,L=w+(C<<12&4294967295|C>>>20),C=M+(I^L&(w^I))+x[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=I+(w^M&(L^w))+x[15]+1236535329&4294967295,I=M+(C<<22&4294967295|C>>>10),C=w+(M^L&(I^M))+x[1]+4129170786&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(w^I))+x[6]+3225465664&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(L^w))+x[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(M^L))+x[0]+3921069994&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(I^M))+x[5]+3593408605&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(w^I))+x[10]+38016083&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(L^w))+x[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(M^L))+x[4]+3889429448&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(I^M))+x[9]+568446438&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(w^I))+x[14]+3275163606&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(L^w))+x[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(M^L))+x[8]+1163531501&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(M^L&(I^M))+x[13]+2850285829&4294967295,w=I+(C<<5&4294967295|C>>>27),C=L+(I^M&(w^I))+x[2]+4243563512&4294967295,L=w+(C<<9&4294967295|C>>>23),C=M+(w^I&(L^w))+x[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=I+(L^w&(M^L))+x[12]+2368359562&4294967295,I=M+(C<<20&4294967295|C>>>12),C=w+(I^M^L)+x[5]+4294588738&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^M)+x[8]+2272392833&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^I)+x[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^w)+x[14]+4259657740&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^L)+x[1]+2763975236&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^M)+x[4]+1272893353&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^I)+x[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^w)+x[10]+3200236656&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^L)+x[13]+681279174&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^M)+x[0]+3936430074&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^I)+x[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^w)+x[6]+76029189&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(I^M^L)+x[9]+3654602809&4294967295,w=I+(C<<4&4294967295|C>>>28),C=L+(w^I^M)+x[12]+3873151461&4294967295,L=w+(C<<11&4294967295|C>>>21),C=M+(L^w^I)+x[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=I+(M^L^w)+x[2]+3299628645&4294967295,I=M+(C<<23&4294967295|C>>>9),C=w+(M^(I|~L))+x[0]+4096336452&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~M))+x[7]+1126891415&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~I))+x[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~w))+x[5]+4237533241&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~L))+x[12]+1700485571&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~M))+x[3]+2399980690&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~I))+x[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~w))+x[1]+2240044497&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~L))+x[8]+1873313359&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~M))+x[15]+4264355552&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~I))+x[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~w))+x[13]+1309151649&4294967295,I=M+(C<<21&4294967295|C>>>11),C=w+(M^(I|~L))+x[4]+4149444226&4294967295,w=I+(C<<6&4294967295|C>>>26),C=L+(I^(w|~M))+x[11]+3174756917&4294967295,L=w+(C<<10&4294967295|C>>>22),C=M+(w^(L|~I))+x[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=I+(L^(M|~w))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+L&4294967295}s.prototype.v=function(R,w){w===void 0&&(w=R.length);const I=w-this.blockSize,x=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=I;)o(this,R,L),L+=this.blockSize;if(typeof R=="string"){for(;L<w;)if(x[M++]=R.charCodeAt(L++),M==this.blockSize){o(this,x),M=0;break}}else for(;L<w;)if(x[M++]=R[L++],M==this.blockSize){o(this,x),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,I=0;I<4;++I)for(let x=0;x<32;x+=8)R[w++]=this.g[I]>>>x&255;return R};function u(R,w){var I=d;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=w(R)}function c(R,w){this.h=w;const I=[];let x=!0;for(let M=R.length-1;M>=0;M--){const L=R[M]|0;x&&L==w||(I[M]=L,x=!1)}this.g=I}var d={};function p(R){return-128<=R&&R<128?u(R,function(w){return new c([w|0],w<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return E;if(R<0)return j(g(-R));const w=[];let I=1;for(let x=0;R>=I;x++)w[x]=R/I|0,I*=4294967296;return new c(w,0)}function _(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return j(_(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(w,8));let x=E;for(let L=0;L<R.length;L+=8){var M=Math.min(8,R.length-L);const C=parseInt(R.substring(L,L+M),w);M<8?(M=g(Math.pow(w,M)),x=x.j(M).add(g(C))):(x=x.j(I),x=x.add(g(C)))}return x}var E=p(0),A=p(1),V=p(16777216);e=c.prototype,e.m=function(){if(G(this))return-j(this).m();let R=0,w=1;for(let I=0;I<this.g.length;I++){const x=this.i(I);R+=(x>=0?x:4294967296+x)*w,w*=4294967296}return R},e.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(k(this))return"0";if(G(this))return"-"+j(this).toString(R);const w=g(Math.pow(R,6));var I=this;let x="";for(;;){const M=et(I,w).g;I=Q(I,M.j(w));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=M,k(I))return L+x;for(;L.length<6;)L="0"+L;x=L+x}},e.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function k(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function G(R){return R.h==-1}e.l=function(R){return R=Q(this,R),G(R)?-1:k(R)?0:1};function j(R){const w=R.g.length,I=[];for(let x=0;x<w;x++)I[x]=~R.g[x];return new c(I,~R.h).add(A)}e.abs=function(){return G(this)?j(this):this},e.add=function(R){const w=Math.max(this.g.length,R.g.length),I=[];let x=0;for(let M=0;M<=w;M++){let L=x+(this.i(M)&65535)+(R.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);x=C>>>16,L&=65535,C&=65535,I[M]=C<<16|L}return new c(I,I[I.length-1]&-2147483648?-1:0)};function Q(R,w){return R.add(j(w))}e.j=function(R){if(k(this)||k(R))return E;if(G(this))return G(R)?j(this).j(j(R)):j(j(this).j(R));if(G(R))return j(this.j(j(R)));if(this.l(V)<0&&R.l(V)<0)return g(this.m()*R.m());const w=this.g.length+R.g.length,I=[];for(var x=0;x<2*w;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(let M=0;M<R.g.length;M++){const L=this.i(x)>>>16,C=this.i(x)&65535,te=R.i(M)>>>16,fe=R.i(M)&65535;I[2*x+2*M]+=C*fe,nt(I,2*x+2*M),I[2*x+2*M+1]+=L*fe,nt(I,2*x+2*M+1),I[2*x+2*M+1]+=C*te,nt(I,2*x+2*M+1),I[2*x+2*M+2]+=L*te,nt(I,2*x+2*M+2)}for(R=0;R<w;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=w;R<2*w;R++)I[R]=0;return new c(I,0)};function nt(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function $(R,w){this.g=R,this.h=w}function et(R,w){if(k(w))throw Error("division by zero");if(k(R))return new $(E,E);if(G(R))return w=et(j(R),w),new $(j(w.g),j(w.h));if(G(w))return w=et(R,j(w)),new $(j(w.g),w.h);if(R.g.length>30){if(G(R)||G(w))throw Error("slowDivide_ only works with positive integers.");for(var I=A,x=w;x.l(R)<=0;)I=st(I),x=st(x);var M=ot(I,1),L=ot(x,1);for(x=ot(x,2),I=ot(I,2);!k(x);){var C=L.add(x);C.l(R)<=0&&(M=M.add(I),L=C),x=ot(x,1),I=ot(I,1)}return w=Q(R,M.j(w)),new $(M,w)}for(M=E;R.l(w)>=0;){for(I=Math.max(1,Math.floor(R.m()/w.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),L=g(I),C=L.j(w);G(C)||C.l(R)>0;)I-=x,L=g(I),C=L.j(w);k(L)&&(L=A),M=M.add(L),R=Q(R,C)}return new $(M,R)}e.B=function(R){return et(this,R).h},e.and=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)&R.i(x);return new c(I,this.h&R.h)},e.or=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)|R.i(x);return new c(I,this.h|R.h)},e.xor=function(R){const w=Math.max(this.g.length,R.g.length),I=[];for(let x=0;x<w;x++)I[x]=this.i(x)^R.i(x);return new c(I,this.h^R.h)};function st(R){const w=R.g.length+1,I=[];for(let x=0;x<w;x++)I[x]=R.i(x)<<1|R.i(x-1)>>>31;return new c(I,R.h)}function ot(R,w){const I=w>>5;w%=32;const x=R.g.length-I,M=[];for(let L=0;L<x;L++)M[L]=w>0?R.i(L+I)>>>w|R.i(L+I+1)<<32-w:R.i(L+I);return new c(M,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,gw=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,_r=c}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var yw,du,_w,Qh,ig,vw,Tw,Ew;(function(){var e,t=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ph=="object"&&Ph];for(var y=0;y<h.length;++y){var T=h[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)t:{var T=s;h=h.split(".");for(var b=0;b<h.length-1;b++){var U=h[b];if(!(U in T))break t;T=T[U]}h=h[h.length-1],b=T[h],y=y(b),y!=b&&y!=null&&t(T,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var T=[],b;for(b in y)Object.prototype.hasOwnProperty.call(y,b)&&T.push([b,y[b]]);return T}});var u=u||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,T){return h.call.apply(h.bind,arguments)}function g(h,y,T){return g=p,g.apply(null,arguments)}function _(h,y){var T=Array.prototype.slice.call(arguments,1);return function(){var b=T.slice();return b.push.apply(b,arguments),h.apply(this,b)}}function E(h,y){function T(){}T.prototype=y.prototype,h.Z=y.prototype,h.prototype=new T,h.prototype.constructor=h,h.Ob=function(b,U,q){for(var rt=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)rt[Rt-2]=arguments[Rt];return y.prototype[U].apply(b,rt)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function V(h){const y=h.length;if(y>0){const T=Array(y);for(let b=0;b<y;b++)T[b]=h[b];return T}return[]}function k(h,y){for(let b=1;b<arguments.length;b++){const U=arguments[b];var T=typeof U;if(T=T!="object"?T:U?Array.isArray(U)?"array":T:"null",T=="array"||T=="object"&&typeof U.length=="number"){T=h.length||0;const q=U.length||0;h.length=T+q;for(let rt=0;rt<q;rt++)h[T+rt]=U[rt]}else h.push(U)}}class G{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function j(h){c.setTimeout(()=>{throw h},0)}function Q(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class nt{constructor(){this.h=this.g=null}add(y,T){const b=$.get();b.set(y,T),this.h?this.h.next=b:this.g=b,this.h=b}}var $=new G(()=>new et,h=>h.reset());class et{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let st,ot=!1,R=new nt,w=()=>{const h=Promise.resolve(void 0);st=()=>{h.then(I)}};function I(){for(var h;h=Q();){try{h.h.call(h.g)}catch(T){j(T)}var y=$;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ot=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function te(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}E(te,M),te.prototype.init=function(h,y){const T=this.type=h.type,b=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(T=="mouseover"?y=h.fromElement:T=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function it(h,y,T,b,U){this.listener=h,this.proxy=null,this.src=y,this.type=T,this.capture=!!b,this.ha=U,this.key=++Y,this.da=this.fa=!1}function ht(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ct(h,y,T){for(const b in h)y.call(T,h[b],b,h)}function Nt(h,y){for(const T in h)y.call(void 0,h[T],T,h)}function N(h){const y={};for(const T in h)y[T]=h[T];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(h,y){let T,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(T in b)h[T]=b[T];for(let q=0;q<J.length;q++)T=J[q],Object.prototype.hasOwnProperty.call(b,T)&&(h[T]=b[T])}}function ct(h){this.src=h,this.g={},this.h=0}ct.prototype.add=function(h,y,T,b,U){const q=h.toString();h=this.g[q],h||(h=this.g[q]=[],this.h++);const rt=Dt(h,y,b,U);return rt>-1?(y=h[rt],T||(y.fa=!1)):(y=new it(y,this.src,q,!!b,U),y.fa=T,h.push(y)),y};function At(h,y){const T=y.type;if(T in h.g){var b=h.g[T],U=Array.prototype.indexOf.call(b,y,void 0),q;(q=U>=0)&&Array.prototype.splice.call(b,U,1),q&&(ht(y),h.g[T].length==0&&(delete h.g[T],h.h--))}}function Dt(h,y,T,b){for(let U=0;U<h.length;++U){const q=h[U];if(!q.da&&q.listener==y&&q.capture==!!T&&q.ha==b)return U}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Le={};function ae(h,y,T,b,U){if(Array.isArray(y)){for(let q=0;q<y.length;q++)ae(h,y[q],T,b,U);return null}return T=ll(T),h&&h[fe]?h.J(y,T,d(b)?!!b.capture:!1,U):xr(h,y,T,!1,b,U)}function xr(h,y,T,b,U,q){if(!y)throw Error("Invalid event type");const rt=d(U)?!!U.capture:!!U;let Rt=Pr(h);if(Rt||(h[Bt]=Rt=new ct(h)),T=Rt.add(y,T,b,rt,q),T.proxy)return T;if(b=Pa(),T.proxy=b,b.src=h,b.listener=T,h.addEventListener)L||(U=rt),U===void 0&&(U=!1),h.addEventListener(y.toString(),b,U);else if(h.attachEvent)h.attachEvent(Ai(y.toString()),b);else if(h.addListener&&h.removeListener)h.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pa(){function h(T){return y.call(h.src,h.listener,T)}const y=al;return h}function La(h,y,T,b,U){if(Array.isArray(y))for(var q=0;q<y.length;q++)La(h,y[q],T,b,U);else b=d(b)?!!b.capture:!!b,T=ll(T),h&&h[fe]?(h=h.i,q=String(y).toString(),q in h.g&&(y=h.g[q],T=Dt(y,T,b,U),T>-1&&(ht(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete h.g[q],h.h--)))):h&&(h=Pr(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Dt(y,T,b,U)),(T=h>-1?y[h]:null)&&ka(T))}function ka(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[fe])At(y.i,h);else{var T=h.type,b=h.proxy;y.removeEventListener?y.removeEventListener(T,b,h.capture):y.detachEvent?y.detachEvent(Ai(T),b):y.addListener&&y.removeListener&&y.removeListener(b),(T=Pr(y))?(At(T,h),T.h==0&&(T.src=null,y[Bt]=null)):ht(h)}}}function Ai(h){return h in Le?Le[h]:Le[h]="on"+h}function al(h,y){if(h.da)h=!0;else{y=new te(y,this);const T=h.listener,b=h.ha||h.src;h.fa&&ka(h),h=T.call(b,y)}return h}function Pr(h){return h=h[Bt],h instanceof ct?h:null}var ol="__closure_events_fn_"+(Math.random()*1e9>>>0);function ll(h){return typeof h=="function"?h:(h[ol]||(h[ol]=function(y){return h.handleEvent(y)}),h[ol])}function Se(){x.call(this),this.i=new ct(this),this.M=this,this.G=null}E(Se,x),Se.prototype[fe]=!0,Se.prototype.removeEventListener=function(h,y,T,b){La(this,h,y,T,b)};function ke(h,y){var T,b=h.G;if(b)for(T=[];b;b=b.G)T.push(b);if(h=h.M,b=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var U=y;y=new M(b,h),at(y,U)}U=!0;let q,rt;if(T)for(rt=T.length-1;rt>=0;rt--)q=y.g=T[rt],U=Ms(q,b,!0,y)&&U;if(q=y.g=h,U=Ms(q,b,!0,y)&&U,U=Ms(q,b,!1,y)&&U,T)for(rt=0;rt<T.length;rt++)q=y.g=T[rt],U=Ms(q,b,!1,y)&&U}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const T=h.g[y];for(let b=0;b<T.length;b++)ht(T[b]);delete h.g[y],h.h--}}this.G=null},Se.prototype.J=function(h,y,T,b){return this.i.add(String(h),y,!1,T,b)},Se.prototype.K=function(h,y,T,b){return this.i.add(String(h),y,!0,T,b)};function Ms(h,y,T,b){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let q=0;q<y.length;++q){const rt=y[q];if(rt&&!rt.da&&rt.capture==T){const Rt=rt.listener,_e=rt.ha||rt.src;rt.fa&&At(h.i,rt),U=Rt.call(_e,b)!==!1&&U}}return U&&!b.defaultPrevented}function hd(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function rc(h){h.g=hd(()=>{h.g=null,h.i&&(h.i=!1,rc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class ln extends x{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:rc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(h){x.call(this),this.h=h,this.g={}}E(Lr,x);var ul=[];function cl(h){Ct(h.g,function(y,T){this.g.hasOwnProperty(T)&&ka(y)},h),h.g={}}Lr.prototype.N=function(){Lr.Z.N.call(this),cl(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=c.JSON.stringify,fd=c.JSON.parse,ac=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function oc(){}function lc(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){M.call(this,"d")}E(Ge,M);function Pn(){M.call(this,"c")}E(Pn,M);var ye={},uc=null;function Ua(){return uc=uc||new Se}ye.Ia="serverreachability";function cc(h){M.call(this,ye.Ia,h)}E(cc,M);function Si(h){const y=Ua();ke(y,new cc(y))}ye.STAT_EVENT="statevent";function kr(h,y){M.call(this,ye.STAT_EVENT,h),this.stat=y}E(kr,M);function be(h){const y=Ua();ke(y,new kr(y,h))}ye.Ja="timingevent";function bi(h,y){M.call(this,ye.Ja,h),this.size=y}E(bi,M);function wi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function dd(h,y,T,b,U,q){h.info(function(){if(h.g)if(q){var rt="",Rt=q.split("&");for(let Ht=0;Ht<Rt.length;Ht++){var _e=Rt[Ht].split("=");if(_e.length>1){const oe=_e[0];_e=_e[1];const zn=oe.split("_");rt=zn.length>=2&&zn[1]=="type"?rt+(oe+"="+_e+"&"):rt+(oe+"=redacted&")}}}else rt=null;else rt=q;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+y+`
`+T+`
`+rt})}function hc(h,y,T,b,U,q,rt){h.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+y+`
`+T+`
`+q+" "+rt})}function Ri(h,y,T,b){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+md(h,T)+(b?" "+b:"")})}function Ur(h,y){h.info(function(){return"TIMEOUT: "+y})}ni.prototype.info=function(){};function md(h,y){if(!h.g)return y;if(!y)return null;try{const q=JSON.parse(y);if(q){for(h=0;h<q.length;h++)if(Array.isArray(q[h])){var T=q[h];if(!(T.length<2)){var b=T[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let rt=1;rt<b.length;rt++)b[rt]=""}}}}return Os(q)}catch{return y}}var zr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},fl;function Br(){}E(Br,oc),Br.prototype.g=function(){return new XMLHttpRequest},fl=new Br;function ns(h){return encodeURIComponent(String(h))}function fc(h){var y=1;h=h.split(":");const T=[];for(;y>0&&h.length;)T.push(h.shift()),y--;return h.length&&T.push(h.join(":")),T}function ii(h,y,T,b){this.j=h,this.i=y,this.l=T,this.S=b||1,this.V=new Lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var we={},je={};function Ii(h,y,T){h.M=1,h.A=jr(Ie(y)),h.u=T,h.R=!0,za(h,null)}function za(h,y){h.F=Date.now(),Ci(h),h.B=Ie(h.A);var T=h.B,b=h.S;Array.isArray(b)||(b=[String(b)]),qa(T.i,"t",b),h.C=0,T=h.j.L,h.h=new si,h.g=Ic(h.j,T?y:null,!h.u),h.P>0&&(h.O=new ln(g(h.Y,h,h.g),h.P)),y=h.V,T=h.g,b=h.ba;var U="readystatechange";Array.isArray(U)||(U&&(ul[0]=U.toString()),U=ul);for(let q=0;q<U.length;q++){const rt=ae(T,U[q],b||y.handleEvent,!1,y.h||y);if(!rt)break;y.g[rt.key]=rt}y=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Si(),dd(h.i,h.v,h.B,h.l,h.S,h.u)}ii.prototype.ba=function(h){h=h.target;const y=this.O;y&&oi(h)==3?y.j():this.Y(h)},ii.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=oi(this.g),_e=this.g.ya(),Ht=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||Rt!=4||_e==7||(_e==8||Ht<=0?Si(3):Si(2)),Di(this);var y=this.g.ca();this.X=y;var T=pd(this);if(this.o=y==200,hc(this.i,this.v,this.B,this.l,this.S,Rt,y),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var q=b;break e}}q=null}if(h=q)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vi(this,h);else{this.o=!1,this.m=3,be(12),bn(this),Ln(this);break t}}if(this.R){h=!0;let oe;for(;!this.K&&this.C<T.length;)if(oe=mc(this,T),oe==je){Rt==4&&(this.m=4,be(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==we){this.m=4,be(15),Ri(this.i,this.l,T,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,oe,null),Vi(this,oe);if(dc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||T.length!=0||this.h.h||(this.m=1,be(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,T,"[Invalid Chunked Response]"),bn(this),Ln(this);else if(T.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Il(rt),rt.P=!0,be(11))}}else Ri(this.i,this.l,T,null),Vi(this,T);Rt==4&&bn(this),this.o&&!this.K&&(Rt==4?Sc(this.j,this):(this.o=!1,Ci(this)))}else ss(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),bn(this),Ln(this)}}}catch{}};function pd(h){if(!dc(h))return h.g.la();const y=Ke(h.g);if(y==="")return"";let T="";const b=y.length,U=oi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Ln(h),"";h.h.i=new c.TextDecoder}for(let q=0;q<b;q++)h.h.h=!0,T+=h.h.i.decode(y[q],{stream:!(U&&q==b-1)});return y.length=0,h.h.g+=T,h.C=0,h.h.g}function dc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function mc(h,y){var T=h.C,b=y.indexOf(`
`,T);return b==-1?je:(T=Number(y.substring(T,b)),isNaN(T)?we:(b+=1,b+T>y.length?je:(y=y.slice(b,b+T),h.C=b+T,y)))}ii.prototype.cancel=function(){this.K=!0,bn(this)};function Ci(h){h.T=Date.now()+h.H,Ba(h,h.H)}function Ba(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=wi(g(h.aa,h),y)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ii.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ur(this.i,this.B),this.M!=2&&(Si(),be(17)),bn(this),this.m=2,Ln(this)):Ba(this,this.T-h)};function Ln(h){h.j.I==0||h.K||Sc(h.j,h)}function bn(h){Di(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,cl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Vi(h,y){try{var T=h.j;if(T.I!=0&&(T.g==h||Oi(T.h,h))){if(!h.L&&Oi(T.h,h)&&T.I==3){try{var b=T.Ba.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<h.F)Qa(T),Bs(T);else break t;Qr(T),be(18)}}else T.xa=U[1],0<T.xa-T.K&&U[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=wi(g(T.Va,T),6e3));Mi(T.h)<=1&&T.ta&&(T.ta=void 0)}else Ui(T,11)}else if((h.L||T.g==h)&&Qa(T),!C(y))for(U=T.Ba.g.parse(y),y=0;y<U.length;y++){let Ht=U[y];const oe=Ht[0];if(!(oe<=T.K))if(T.K=oe,Ht=Ht[1],T.I==2)if(Ht[0]=="c"){T.M=Ht[1],T.ba=Ht[2];const zn=Ht[3];zn!=null&&(T.ka=zn,T.j.info("VER="+T.ka));const zi=Ht[4];zi!=null&&(T.za=zi,T.j.info("SVER="+T.za));const li=Ht[5];li!=null&&typeof li=="number"&&li>0&&(b=1.5*li,T.O=b,T.j.info("backChannelRequestTimeoutMs_="+b)),b=T;const ui=h.g;if(ui){const Xr=ui.g?ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xr){var q=b.h;q.g||Xr.indexOf("spdy")==-1&&Xr.indexOf("quic")==-1&&Xr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(pl(q,q.h),q.h=null))}if(b.G){const Xa=ui.g?ui.g.getResponseHeader("X-HTTP-Session-Id"):null;Xa&&(b.wa=Xa,Yt(b.J,b.G,Xa))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-h.F,T.j.info("Handshake RTT: "+T.T+"ms")),b=T;var rt=h;if(b.na=Rc(b,b.L?b.ba:null,b.W),rt.L){gl(b.h,rt);var Rt=rt,_e=b.O;_e&&(Rt.H=_e),Rt.D&&(Di(Rt),Ci(Rt)),b.g=rt}else Ec(b);T.i.length>0&&ki(T)}else Ht[0]!="stop"&&Ht[0]!="close"||Ui(T,7);else T.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?Ui(T,7):wl(T):Ht[0]!="noop"&&T.l&&T.l.qa(Ht),T.A=0)}}Si(4)}catch{}}var Re=class{constructor(h,y){this.g=h,this.map=y}};function dl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ml(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function Oi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function pl(h,y){h.g?h.g.add(y):h.h=y}function gl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}dl.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function yl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const T of h.g.values())y=y.concat(T.G);return y}return V(h.i)}var pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ja(h,y){if(h){h=h.split("&");for(let T=0;T<h.length;T++){const b=h[T].indexOf("=");let U,q=null;b>=0?(U=h[T].substring(0,b),q=h[T].substring(b+1)):U=h[T],y(U,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof wn?(this.l=h.l,Fe(this,h.j),this.o=h.o,this.g=h.g,Ns(this,h.u),this.h=h.h,_l(this,vc(h.i)),this.m=h.m):h&&(y=String(h).match(pc))?(this.l=!1,Fe(this,y[1]||"",!0),this.o=Ni(y[2]||""),this.g=Ni(y[3]||"",!0),Ns(this,y[4]),this.h=Ni(y[5]||"",!0),_l(this,y[6]||"",!0),this.m=Ni(y[7]||"")):(this.l=!1,this.i=new Ps(null,this.l))}wn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Fr(y,Fa,!0),":");var T=this.g;return(T||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Fr(y,Fa,!0),"@"),h.push(ns(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&h.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&h.push("/"),h.push(Fr(T,T.charAt(0)=="/"?vl:gc,!0))),(T=this.i.toString())&&h.push("?",T),(T=this.m)&&h.push("#",Fr(T,yc)),h.join("")},wn.prototype.resolve=function(h){const y=Ie(this);let T=!!h.j;T?Fe(y,h.j):T=!!h.o,T?y.o=h.o:T=!!h.g,T?y.g=h.g:T=h.u!=null;var b=h.h;if(T)Ns(y,h.u);else if(T=!!h.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=y.h.lastIndexOf("/");U!=-1&&(b=y.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const q=[];for(let rt=0;rt<U.length;){const Rt=U[rt++];Rt=="."?b&&rt==U.length&&q.push(""):Rt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&rt==U.length&&q.push("")):(q.push(Rt),b=!0)}b=q.join("/")}else b=U}return T?y.h=b:T=h.i.toString()!=="",T?_l(y,vc(h.i)):T=!!h.m,T&&(y.m=h.m),y};function Ie(h){return new wn(h)}function Fe(h,y,T){h.j=T?Ni(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Ns(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function _l(h,y,T){y instanceof Ps?(h.i=y,Ha(h.i,h.l)):(T||(y=Fr(y,xs)),h.i=new Ps(y,h.l))}function Yt(h,y,T){h.i.set(y,T)}function jr(h){return Yt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ni(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Fr(h,y,T){return typeof h=="string"?(h=encodeURI(h).replace(y,dn),T&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Fa=/[#\/\?@]/g,gc=/[#\?:]/g,vl=/[#\?]/g,xs=/[#\?@]/g,yc=/#/g;function Ps(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&ja(h.i,function(y,T){h.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}e=Ps.prototype,e.add=function(h,y){mn(this),this.i=null,h=Ls(this,h);let T=this.g.get(h);return T||this.g.set(h,T=[]),T.push(y),this.h+=1,this};function _c(h,y){mn(h),y=Ls(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Tl(h,y){return mn(h),y=Ls(h,y),h.g.has(y)}e.forEach=function(h,y){mn(this),this.g.forEach(function(T,b){T.forEach(function(U){h.call(y,U,b,this)},this)},this)};function El(h,y){mn(h);let T=[];if(typeof y=="string")Tl(h,y)&&(T=T.concat(h.g.get(Ls(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)T=T.concat(h[y]);return T}e.set=function(h,y){return mn(this),this.i=null,h=Ls(this,h),Tl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},e.get=function(h,y){return h?(h=El(this,h),h.length>0?String(h[0]):y):y};function qa(h,y,T){_c(h,y),T.length>0&&(h.i=null,h.g.set(Ls(h,y),V(T)),h.h+=T.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let b=0;b<y.length;b++){var T=y[b];const U=ns(T);T=El(this,T);for(let q=0;q<T.length;q++){let rt=U;T[q]!==""&&(rt+="="+ns(T[q])),h.push(rt)}}return this.i=h.join("&")};function vc(h){const y=new Ps;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Ls(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ha(h,y){y&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(T,b){const U=b.toLowerCase();b!=U&&(_c(this,b),qa(this,U,T))},h)),h.j=y}function ri(h,y){const T=new ni;if(c.Image){const b=new Image;b.onload=_(kn,T,"TestLoadImage: loaded",!0,y,b),b.onerror=_(kn,T,"TestLoadImage: error",!1,y,b),b.onabort=_(kn,T,"TestLoadImage: abort",!1,y,b),b.ontimeout=_(kn,T,"TestLoadImage: timeout",!1,y,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=h}else y(!1)}function Al(h,y){const T=new ni,b=new AbortController,U=setTimeout(()=>{b.abort(),kn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:b.signal}).then(q=>{clearTimeout(U),q.ok?kn(T,"TestPingServer: ok",!0,y):kn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),kn(T,"TestPingServer: error",!1,y)})}function kn(h,y,T,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(T)}catch{}}function ks(){this.g=new ac}function xi(h){this.i=h.Sb||null,this.h=h.ab||!1}E(xi,oc),xi.prototype.g=function(){return new qr(this.i,this.h)};function qr(h,y){Se.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}E(qr,Se),e=qr.prototype,e.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ai(this)},e.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},e.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}e.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Us(this):ai(this),this.readyState==3&&Ga(this)}},e.Oa=function(h){this.g&&(this.response=this.responseText=h,Us(this))},e.Na=function(h){this.g&&(this.response=h,Us(this))},e.ga=function(){this.g&&Us(this)};function Us(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ai(h)}e.setRequestHeader=function(h,y){this.A.append(h,y)},e.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,h.push(T[0]+": "+T[1]),T=y.next();return h.join(`\r
`)};function ai(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Un(h){let y="";return Ct(h,function(T,b){y+=b,y+=":",y+=T,y+=`\r
`}),y}function Hr(h,y,T){t:{for(b in T){var b=!1;break t}b=!0}b||(T=Un(T),typeof h=="string"?T!=null&&ns(T):Yt(h,y,T))}function $t(h){Se.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}E($t,Se);var Pi=/^https?$/i,Sl=["POST","PUT"];e=$t.prototype,e.Fa=function(h){this.H=h},e.ea=function(h,y,T,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():fl.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(q){Gr(this,q);return}if(h=T||"",T=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)T.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())T.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(T.keys()).find(q=>q.toLowerCase()=="content-type"),U=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Sl,y,void 0)>=0)||b||U||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,rt]of T)this.g.setRequestHeader(q,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(q){Gr(this,q)}};function Gr(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,bl(h),is(h)}function bl(h){h.A||(h.A=!0,ke(h,"complete"),ke(h,"error"))}e.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,ke(this,"complete"),ke(this,"abort"),is(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),is(this,!0)),$t.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Kr(this):this.Xa())},e.Xa=function(){Kr(this)};function Kr(h){if(h.h&&typeof u<"u"){if(h.v&&oi(h)==4)setTimeout(h.Ca.bind(h),0);else if(ke(h,"readystatechange"),oi(h)==4){h.h=!1;try{const q=h.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var T;if(!(T=y)){var b;if(b=q===0){let rt=String(h.D).match(pc)[1]||null;!rt&&c.self&&c.self.location&&(rt=c.self.location.protocol.slice(0,-1)),b=!Pi.test(rt?rt.toLowerCase():"")}T=b}if(T)ke(h,"complete"),ke(h,"success");else{h.o=6;try{var U=oi(h)>2?h.g.statusText:""}catch{U=""}h.l=U+" ["+h.ca()+"]",bl(h)}}finally{is(h)}}}}function is(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const T=h.g;h.g=null,y||ke(h,"ready");try{T.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function oi(h){return h.g?h.g.readyState:0}e.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),fd(y)}};function Ke(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ss(h){const y={};h=(h.g&&oi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<h.length;b++){if(C(h[b]))continue;var T=fc(h[b]);const U=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const q=y[U]||[];y[U]=q,q.push(T)}Nt(y,function(b){return b.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(h,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[h]||y}function zs(h){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,h),this.Za=Li("retryDelaySeedMs",1e4,h),this.Ta=Li("forwardChannelMaxRetries",2,h),this.va=Li("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new dl(h&&h.concurrentRequestLimit),this.Ba=new ks,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=zs.prototype,e.ka=8,e.I=1,e.connect=function(h,y,T,b){be(0),this.W=h,this.H=y||{},T&&b!==void 0&&(this.H.OSID=T,this.H.OAID=b),this.F=this.X,this.J=Rc(this,null,this.W),ki(this)};function wl(h){if(Ka(h),h.I==3){var y=h.V++,T=Ie(h.J);if(Yt(T,"SID",h.M),Yt(T,"RID",y),Yt(T,"TYPE","terminate"),Yr(h,T),y=new ii(h,h.j,y),y.M=2,y.A=jr(Ie(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Ic(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ci(y)}wc(h)}function Bs(h){h.g&&(Il(h),h.g.cancel(),h.g=null)}function Ka(h){Bs(h),h.v&&(c.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ki(h){if(!ml(h.h)&&!h.m){h.m=!0;var y=h.Ea;st||w(),ot||(st(),ot=!0),R.add(y,h),h.D=0}}function Ya(h,y){return Mi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=wi(g(h.Ea,h,y),bc(h,h.D)),h.D++,!0)}e.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const U=new ii(this,this.j,h);let q=this.o;if(this.U&&(q?(q=N(q),at(q,this.U)):q=this.U),this.u!==null||this.R||(U.J=q,q=null),this.S)t:{for(var y=0,T=0;T<this.i.length;T++){e:{var b=this.i[T];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,y>4096){y=T;break t}if(y===4096||T===this.i.length-1){y=T+1;break t}}y=1e3}else y=1e3;y=Tc(this,U,y),T=Ie(this.J),Yt(T,"RID",h),Yt(T,"CVER",22),this.G&&Yt(T,"X-HTTP-Session-Id",this.G),Yr(this,T),q&&(this.R?y="headers="+ns(Un(q))+"&"+y:this.u&&Hr(T,this.u,q)),pl(this.h,U),this.Ra&&Yt(T,"TYPE","init"),this.S?(Yt(T,"$req",y),Yt(T,"SID","null"),U.U=!0,Ii(U,T,null)):Ii(U,T,y),this.I=2}}else this.I==3&&(h?Rl(this,h):this.i.length==0||ml(this.h)||Rl(this))};function Rl(h,y){var T;y?T=y.l:T=h.V++;const b=Ie(h.J);Yt(b,"SID",h.M),Yt(b,"RID",T),Yt(b,"AID",h.K),Yr(h,b),h.u&&h.o&&Hr(b,h.u,h.o),T=new ii(h,h.j,T,h.D+1),h.u===null&&(T.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Tc(h,T,1e3),T.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),pl(h.h,T),Ii(T,b,y)}function Yr(h,y){h.H&&Ct(h.H,function(T,b){Yt(y,b,T)}),h.l&&Ct({},function(T,b){Yt(y,b,T)})}function Tc(h,y,T){T=Math.min(h.i.length,T);const b=h.l?g(h.l.Ka,h.l,h):null;t:{var U=h.i;let Rt=-1;for(;;){const _e=["count="+T];Rt==-1?T>0?(Rt=U[0].g,_e.push("ofs="+Rt)):Rt=0:_e.push("ofs="+Rt);let Ht=!0;for(let oe=0;oe<T;oe++){var q=U[oe].g;const zn=U[oe].map;if(q-=Rt,q<0)Rt=Math.max(0,U[oe].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var rt=zn instanceof Map?zn:Object.entries(zn);for(const[zi,li]of rt){let ui=li;d(li)&&(ui=Os(li)),_e.push(q+zi+"="+encodeURIComponent(ui))}}catch(zi){throw _e.push(q+"type="+encodeURIComponent("_badmap")),zi}}catch{b&&b(zn)}}if(Ht){rt=_e.join("&");break t}}rt=void 0}return h=h.i.splice(0,T),y.G=h,rt}function Ec(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;st||w(),ot||(st(),ot=!0),R.add(y,h),h.A=0}}function Qr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=wi(g(h.Da,h),bc(h,h.A)),h.A++,!0)}e.Da=function(){if(this.v=null,Ac(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=wi(g(this.Wa,this),h)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Bs(this),Ac(this))};function Il(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function Ac(h){h.g=new ii(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ie(h.na);Yt(y,"RID","rpc"),Yt(y,"SID",h.M),Yt(y,"AID",h.K),Yt(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Yt(y,"TO",h.ia),Yt(y,"TYPE","xmlhttp"),Yr(h,y),h.u&&h.o&&Hr(y,h.u,h.o),h.O&&(h.g.H=h.O);var T=h.g;h=h.ba,T.M=1,T.A=jr(Ie(y)),T.u=null,T.R=!0,za(T,h)}e.Va=function(){this.C!=null&&(this.C=null,Bs(this),Qr(this),be(19))};function Qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Sc(h,y){var T=null;if(h.g==y){Qa(h),Il(h),h.g=null;var b=2}else if(Oi(h.h,y))T=y.G,gl(h.h,y),b=1;else return;if(h.I!=0){if(y.o)if(b==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var U=h.D;b=Ua(),ke(b,new bi(b,T)),ki(h)}else Ec(h);else if(U=y.m,U==3||U==0&&y.X>0||!(b==1&&Ya(h,y)||b==2&&Qr(h)))switch(T&&T.length>0&&(y=h.h,y.i=y.i.concat(T)),U){case 1:Ui(h,5);break;case 4:Ui(h,10);break;case 3:Ui(h,6);break;default:Ui(h,2)}}}function bc(h,y){let T=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(T*=2),T*y}function Ui(h,y){if(h.j.info("Error code "+y),y==2){var T=g(h.bb,h),b=h.Ua;const U=!b;b=new wn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fe(b,"https"),jr(b),U?ri(b.toString(),T):Al(b.toString(),T)}else be(2);h.I=0,h.l&&h.l.pa(y),wc(h),Ka(h)}e.bb=function(h){h?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function wc(h){if(h.I=0,h.ja=[],h.l){const y=yl(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ja,y),k(h.ja,h.i),h.h.i.length=0,V(h.i),h.i.length=0),h.l.oa()}}function Rc(h,y,T){var b=T instanceof wn?Ie(T):new wn(T);if(b.g!="")y&&(b.g=y+"."+b.g),Ns(b,b.u);else{var U=c.location;b=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const q=new wn(null);b&&Fe(q,b),y&&(q.g=y),U&&Ns(q,U),T&&(q.h=T),b=q}return T=h.G,y=h.wa,T&&y&&Yt(b,T,y),Yt(b,"VER",h.ka),Yr(h,b),b}function Ic(h,y,T){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new $t(new xi({ab:T})):new $t(h.ma),y.Fa(h.L),y}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cc(){}e=Cc.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function js(){}js.prototype.g=function(h,y){return new un(h,y)};function un(h,y){Se.call(this),this.g=new zs(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new rs(this)}E(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){wl(this.g)},un.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var T={};T.__data__=h,h=T}else this.v&&(T={},T.__data__=Os(h),h=T);y.i.push(new Re(y.Ya++,h)),y.I==3&&ki(y)},un.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,un.Z.N.call(this)};function Dc(h){Ge.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){t:{for(const T in y){h=T;break t}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}E(Dc,Ge);function Vc(){Pn.call(this),this.status=1}E(Vc,Pn);function rs(h){this.g=h}E(rs,Cc),rs.prototype.ra=function(){ke(this.g,"a")},rs.prototype.qa=function(h){ke(this.g,new Dc(h))},rs.prototype.pa=function(h){ke(this.g,new Vc)},rs.prototype.oa=function(){ke(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,Ew=function(){return new js},Tw=function(){return Ua()},vw=ye,ig={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},zr.NO_ERROR=0,zr.TIMEOUT=8,zr.HTTP_ERROR=6,Qh=zr,hl.COMPLETE="complete",_w=hl,lc.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Se.prototype.listen=Se.prototype.J,du=lc,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,yw=$t}).apply(typeof Ph<"u"?Ph:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",BE="4.9.3";class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Zo="12.7.0";const Ra=new xf("@firebase/firestore");function Ro(){return Ra.logLevel}function ut(e,...t){if(Ra.logLevel<=Lt.DEBUG){const n=t.map(my);Ra.debug(`Firestore (${Zo}): ${e}`,...n)}}function Is(e,...t){if(Ra.logLevel<=Lt.ERROR){const n=t.map(my);Ra.error(`Firestore (${Zo}): ${e}`,...n)}}function qo(e,...t){if(Ra.logLevel<=Lt.WARN){const n=t.map(my);Ra.warn(`Firestore (${Zo}): ${e}`,...n)}}function my(e){if(typeof e=="string")return e;try{return(function(n){return JSON.stringify(n)})(e)}catch{return e}}function vt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,Aw(e,s,n)}function Aw(e,t,n){let s=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Is(s),new Error(s)}function Kt(e,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,e||Aw(t,o,s)}function wt(e,t){return e}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ti{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class Sw{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class CN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(sn.UNAUTHENTICATED)))}shutdown(){}}class DN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class VN{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,t.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}}),0),c()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new Sw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class MN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ON{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new MN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,ut("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}class py{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=xN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function kt(e,t){return e<t?-1:e>t?1:0}function sg(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=e.charAt(s),u=t.charAt(s);if(o!==u)return wp(o)===wp(u)?kt(o,u):wp(o)?1:-1}return kt(e.length,t.length)}const PN=55296,LN=57343;function wp(e){const t=e.charCodeAt(0);return t>=PN&&t<=LN}function Ho(e,t,n){return e.length===t.length&&e.every(((s,o)=>n(s,t[o])))}const FE="__name__";class Hi{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&vt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Hi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return kt(t.length,n.length)}static compareSegments(t,n){const s=Hi.isNumericId(t),o=Hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Hi.extractNumericId(t).compare(Hi.extractNumericId(n)):sg(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _r.fromString(t.substring(4,t.length-2))}}class ne extends Hi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const kN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Hi{construct(t,n,s){return new Je(t,n,s)}static isValidIdentifier(t){return kN.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FE}static keyField(){return new Je([FE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(s+=d,o++):(u(),o++)}if(u(),c)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(n)}static emptyPath(){return new Je([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(ne.fromString(t))}static fromName(t){return new yt(ne.fromString(t).popFirst(5))}static empty(){return new yt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new ne(t.slice()))}}function bw(e,t,n){if(!n)throw new lt(W.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function UN(e,t,n,s){if(t===!0&&s===!0)throw new lt(W.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function qE(e){if(!yt.isDocumentKey(e))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function HE(e){if(yt.isDocumentKey(e))throw new lt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ww(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function jf(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":vt(12329,{type:typeof e})}function _i(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jf(e);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Pe(e,t){const n={typeString:e};return t&&(n.value=t),n}function Xu(e,t){if(!ww(e))throw new lt(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const c=e[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new lt(W.INVALID_ARGUMENT,n);return!0}const GE=-62135596800,KE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*KE);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<GE)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Xu(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-GE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Pe("string",re._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new re(0,0))}static max(){return new St(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ou=-1;function zN(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new Ar(o,yt.empty(),t)}function BN(e){return new Ar(e.readTime,e.key,Ou)}class Ar{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ar(St.min(),yt.empty(),Ou)}static max(){return new Ar(St.max(),yt.empty(),Ou)}}function jN(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(e.documentKey,t.documentKey),n!==0?n:kt(e.largestBatchId,t.largestBatchId))}const FN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Jo(e){if(e.code!==W.FAILED_PRECONDITION||e.message!==FN)throw e;ut("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,s)=>{n(t)}))}static reject(t){return new tt(((n,s)=>{s(t)}))}static waitFor(t){return new tt(((n,s)=>{let o=0,u=0,c=!1;t.forEach((d=>{++o,d.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next((o=>o?tt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new tt(((s,o)=>{const u=t.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((_=>{c[g]=_,++d,d===u&&s(c)}),(_=>o(_)))}}))}static doWhile(t,n){return new tt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function HN(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(e){return e.name==="IndexedDbTransactionError"}class Ff{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ff.ce=-1;const gy=-1;function qf(e){return e==null}function pf(e){return e===0&&1/e==-1/0}function GN(e){return typeof e=="number"&&Number.isInteger(e)&&!pf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Rw="";function KN(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=YE(t)),t=YN(e.get(n),t);return YE(t)}function YN(e,t){let n=t;const s=e.length;for(let o=0;o<s;o++){const u=e.charAt(o);switch(u){case"\0":n+="";break;case Rw:n+="";break;default:n+=u}}return n}function YE(e){return e+Rw+""}function QE(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Mr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Iw(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class he{constructor(t,n){this.comparator=t,this.root=n||Ze.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Lh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Lh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Lh(this.root,t,this.comparator,!0)}}class Lh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Ze.RED,this.left=o??Ze.EMPTY,this.right=u??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Ze(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Be{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(t){return new XE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Be(this.comparator);return n.data=t,n}}class XE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Nn([])}unionWith(t){let n=new Be(Je.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ho(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class Cw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Cw("Invalid base64 string: "+u):u}})(t);return new tn(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(t);return new tn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const QN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(e){if(Kt(!!e,39018),typeof e=="string"){let t=0;const n=QN.exec(e);if(Kt(!!n,46558,{timestamp:e}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ee(e.seconds),nanos:Ee(e.nanos)}}function Ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function br(e){return typeof e=="string"?tn.fromBase64String(e):tn.fromUint8Array(e)}const Dw="server_timestamp",Vw="__type__",Mw="__previous_value__",Ow="__local_write_time__";function yy(e){return(e?.mapValue?.fields||{})[Vw]?.stringValue===Dw}function Hf(e){const t=e.mapValue.fields[Mw];return yy(t)?Hf(t):t}function Nu(e){const t=Sr(e.mapValue.fields[Ow].timestampValue);return new re(t.seconds,t.nanos)}class XN{constructor(t,n,s,o,u,c,d,p,g,_){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const gf="(default)";class xu{constructor(t,n){this.projectId=t,this.database=n||gf}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database===gf}isEqual(t){return t instanceof xu&&t.projectId===this.projectId&&t.database===this.database}}const Nw="__type__",$N="__max__",kh={mapValue:{}},xw="__vector__",yf="value";function wr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yy(e)?4:ZN(e)?9007199254740991:WN(e)?10:11:vt(28295,{value:e})}function Ji(e,t){if(e===t)return!0;const n=wr(e);if(n!==wr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Nu(e).isEqual(Nu(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Sr(o.timestampValue),d=Sr(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(o,u){return br(o.bytesValue).isEqual(br(u.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(o,u){return Ee(o.geoPointValue.latitude)===Ee(u.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(u.geoPointValue.longitude)})(e,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ee(o.integerValue)===Ee(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ee(o.doubleValue),d=Ee(u.doubleValue);return c===d?pf(c)===pf(d):isNaN(c)&&isNaN(d)}return!1})(e,t);case 9:return Ho(e.arrayValue.values||[],t.arrayValue.values||[],Ji);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(QE(c)!==QE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ji(c[p],d[p])))return!1;return!0})(e,t);default:return vt(52216,{left:e})}}function Pu(e,t){return(e.values||[]).find((n=>Ji(n,t)))!==void 0}function Go(e,t){if(e===t)return 0;const n=wr(e),s=wr(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(e.booleanValue,t.booleanValue);case 2:return(function(u,c){const d=Ee(u.integerValue||u.doubleValue),p=Ee(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(e,t);case 3:return $E(e.timestampValue,t.timestampValue);case 4:return $E(Nu(e),Nu(t));case 5:return sg(e.stringValue,t.stringValue);case 6:return(function(u,c){const d=br(u),p=br(c);return d.compareTo(p)})(e.bytesValue,t.bytesValue);case 7:return(function(u,c){const d=u.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const _=kt(d[g],p[g]);if(_!==0)return _}return kt(d.length,p.length)})(e.referenceValue,t.referenceValue);case 8:return(function(u,c){const d=kt(Ee(u.latitude),Ee(c.latitude));return d!==0?d:kt(Ee(u.longitude),Ee(c.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return WE(e.arrayValue,t.arrayValue);case 10:return(function(u,c){const d=u.fields||{},p=c.fields||{},g=d[yf]?.arrayValue,_=p[yf]?.arrayValue,E=kt(g?.values?.length||0,_?.values?.length||0);return E!==0?E:WE(g,_)})(e.mapValue,t.mapValue);case 11:return(function(u,c){if(u===kh.mapValue&&c===kh.mapValue)return 0;if(u===kh.mapValue)return 1;if(c===kh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let E=0;E<p.length&&E<_.length;++E){const A=sg(p[E],_[E]);if(A!==0)return A;const V=Go(d[p[E]],g[_[E]]);if(V!==0)return V}return kt(p.length,_.length)})(e.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function $E(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return kt(e,t);const n=Sr(e),s=Sr(t),o=kt(n.seconds,s.seconds);return o!==0?o:kt(n.nanos,s.nanos)}function WE(e,t){const n=e.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Go(n[o],s[o]);if(u)return u}return kt(n.length,s.length)}function Ko(e){return rg(e)}function rg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const s=Sr(n);return`time(${s.seconds},${s.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return br(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return yt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=rg(u);return s+"]"})(e.arrayValue):"mapValue"in e?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${rg(n.fields[c])}`;return o+"}"})(e.mapValue):vt(61005,{value:e})}function Xh(e){switch(wr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Hf(e);return t?16+Xh(t):16;case 5:return 2*e.stringValue.length;case 6:return br(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Xh(u)),0)})(e.arrayValue);case 10:case 11:return(function(s){let o=0;return Mr(s.fields,((u,c)=>{o+=u.length+Xh(c)})),o})(e.mapValue);default:throw vt(13486,{value:e})}}function ZE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ag(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function JE(e){return!!e&&"nullValue"in e}function tA(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $h(e){return!!e&&"mapValue"in e}function WN(e){return(e?.mapValue?.fields||{})[Nw]?.stringValue===xw}function Tu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Mr(e.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Tu(s))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Tu(e.arrayValue.values[n]);return t}return{...e}}function ZN(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===$N}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!$h(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tu(n)}setAll(t){let n=Je.emptyPath(),s={},o=[];t.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}c?s[d.lastSegment()]=Tu(c):o.push(d.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());$h(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ji(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];$h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Mr(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new En(Tu(this.value))}}function Pw(e){const t=[];return Mr(e.fields,((n,s)=>{const o=new Je([n]);if($h(s)){const u=Pw(s.mapValue).fields;if(u.length===0)t.push(o);else for(const c of u)t.push(o.child(c))}else t.push(o)})),new Nn(t)}class rn{constructor(t,n,s,o,u,c,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(t){return new rn(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,n,s,o){return new rn(t,1,n,St.min(),s,o,0)}static newNoDocument(t,n){return new rn(t,2,n,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,n){return new rn(t,3,n,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof rn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class _f{constructor(t,n){this.position=t,this.inclusive=n}}function eA(e,t,n){let s=0;for(let o=0;o<e.position.length;o++){const u=t[o],c=e.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(c.referenceValue),n.key):s=Go(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nA(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ji(e.position[n],t.position[n]))return!1;return!0}class Lu{constructor(t,n="asc"){this.field=t,this.dir=n}}function JN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Lw{}class xe extends Lw{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new ex(t,n,s):n==="array-contains"?new sx(t,s):n==="in"?new rx(t,s):n==="not-in"?new ax(t,s):n==="array-contains-any"?new ox(t,s):new xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new nx(t,s):new ix(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Go(n,this.value)):n!==null&&wr(this.value)===wr(n)&&this.matchesComparison(Go(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ei extends Lw{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ei(t,n)}matches(t){return kw(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kw(e){return e.op==="and"}function Uw(e){return tx(e)&&kw(e)}function tx(e){for(const t of e.filters)if(t instanceof Ei)return!1;return!0}function og(e){if(e instanceof xe)return e.field.canonicalString()+e.op.toString()+Ko(e.value);if(Uw(e))return e.filters.map((t=>og(t))).join(",");{const t=e.filters.map((n=>og(n))).join(",");return`${e.op}(${t})`}}function zw(e,t){return e instanceof xe?(function(s,o){return o instanceof xe&&s.op===o.op&&s.field.isEqual(o.field)&&Ji(s.value,o.value)})(e,t):e instanceof Ei?(function(s,o){return o instanceof Ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,d)=>u&&zw(c,o.filters[d])),!0):!1})(e,t):void vt(19439)}function Bw(e){return e instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ko(n.value)}`})(e):e instanceof Ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(Bw).join(" ,")+"}"})(e):"Filter"}class ex extends xe{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class nx extends xe{constructor(t,n){super(t,"in",n),this.keys=jw("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class ix extends xe{constructor(t,n){super(t,"not-in",n),this.keys=jw("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function jw(e,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class sx extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _y(n)&&Pu(n.arrayValue,this.value)}}class rx extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Pu(this.value.arrayValue,n)}}class ax extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Pu(this.value.arrayValue,n)}}class ox extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Pu(this.value.arrayValue,s)))}}class lx{constructor(t,n=null,s=[],o=[],u=null,c=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.Te=null}}function iA(e,t=null,n=[],s=[],o=null,u=null,c=null){return new lx(e,t,n,s,o,u,c)}function vy(e){const t=wt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>og(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),qf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ko(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ko(s))).join(",")),t.Te=n}return t.Te}function Ty(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!JN(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!zw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nA(e.startAt,t.startAt)&&nA(e.endAt,t.endAt)}function lg(e){return yt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}class el{constructor(t,n=null,s=[],o=[],u=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ux(e,t,n,s,o,u,c,d){return new el(e,t,n,s,o,u,c,d)}function Gf(e){return new el(e)}function sA(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Fw(e){return e.collectionGroup!==null}function Eu(e){const t=wt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Be(Je.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Lu(u,s))})),n.has(Je.keyField().canonicalString())||t.Ie.push(new Lu(Je.keyField(),s))}return t.Ie}function Ki(e){const t=wt(e);return t.Ee||(t.Ee=cx(t,Eu(e))),t.Ee}function cx(e,t){if(e.limitType==="F")return iA(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lu(o.field,u)}));const n=e.endAt?new _f(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new _f(e.startAt.position,e.startAt.inclusive):null;return iA(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function ug(e,t){const n=e.filters.concat([t]);return new el(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cg(e,t,n){return new el(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Kf(e,t){return Ty(Ki(e),Ki(t))&&e.limitType===t.limitType}function qw(e){return`${vy(Ki(e))}|lt:${e.limitType}`}function Io(e){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Bw(o))).join(", ")}]`),qf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ko(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ko(o))).join(",")),`Target(${s})`})(Ki(e))}; limitType=${e.limitType})`}function Yf(e,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(e,t)&&(function(s,o){for(const u of Eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(e,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(e,t)&&(function(s,o){return!(s.startAt&&!(function(c,d,p){const g=eA(c,d,p);return c.inclusive?g<=0:g<0})(s.startAt,Eu(s),o)||s.endAt&&!(function(c,d,p){const g=eA(c,d,p);return c.inclusive?g>=0:g>0})(s.endAt,Eu(s),o))})(e,t)}function hx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hw(e){return(t,n)=>{let s=!1;for(const o of Eu(e)){const u=fx(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fx(e,t,n){const s=e.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,c,d){const p=c.data.field(u),g=d.data.field(u);return p!==null&&g!==null?Go(p,g):vt(42886)})(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:e.dir})}}class Oa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Mr(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return Iw(this.inner)}size(){return this.innerSize}}const dx=new he(yt.comparator);function Cs(){return dx}const Gw=new he(yt.comparator);function mu(...e){let t=Gw;for(const n of e)t=t.insert(n.key,n);return t}function Kw(e){let t=Gw;return e.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ga(){return Au()}function Yw(){return Au()}function Au(){return new Oa((e=>e.toString()),((e,t)=>e.isEqual(t)))}const mx=new he(yt.comparator),px=new Be(yt.comparator);function Ut(...e){let t=px;for(const n of e)t=t.add(n);return t}const gx=new Be(kt);function yx(){return gx}function Ey(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(t)?"-0":t}}function Qw(e){return{integerValue:""+e}}function _x(e,t){return GN(t)?Qw(t):Ey(e,t)}class Qf{constructor(){this._=void 0}}function vx(e,t,n){return e instanceof ku?(function(o,u){const c={fields:{[Vw]:{stringValue:Dw},[Ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yy(u)&&(u=Hf(u)),u&&(c.fields[Mw]=u),{mapValue:c}})(n,t):e instanceof Uu?$w(e,t):e instanceof zu?Ww(e,t):(function(o,u){const c=Xw(o,u),d=rA(c)+rA(o.Ae);return ag(c)&&ag(o.Ae)?Qw(d):Ey(o.serializer,d)})(e,t)}function Tx(e,t,n){return e instanceof Uu?$w(e,t):e instanceof zu?Ww(e,t):n}function Xw(e,t){return e instanceof vf?(function(s){return ag(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ku extends Qf{}class Uu extends Qf{constructor(t){super(),this.elements=t}}function $w(e,t){const n=Zw(t);for(const s of e.elements)n.some((o=>Ji(o,s)))||n.push(s);return{arrayValue:{values:n}}}class zu extends Qf{constructor(t){super(),this.elements=t}}function Ww(e,t){let n=Zw(t);for(const s of e.elements)n=n.filter((o=>!Ji(o,s)));return{arrayValue:{values:n}}}class vf extends Qf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function rA(e){return Ee(e.integerValue||e.doubleValue)}function Zw(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ex{constructor(t,n){this.field=t,this.transform=n}}function Ax(e,t){return e.field.isEqual(t.field)&&(function(s,o){return s instanceof Uu&&o instanceof Uu||s instanceof zu&&o instanceof zu?Ho(s.elements,o.elements,Ji):s instanceof vf&&o instanceof vf?Ji(s.Ae,o.Ae):s instanceof ku&&o instanceof ku})(e.transform,t.transform)}class Sx{constructor(t,n){this.version=t,this.transformResults=n}}class vi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xf{}function Jw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new e1(e.key,vi.none()):new $u(e.key,e.data,vi.none());{const n=e.data,s=En.empty();let o=new Be(Je.comparator);for(let u of t.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Or(e.key,s,new Nn(o.toArray()),vi.none())}}function bx(e,t,n){e instanceof $u?(function(o,u,c){const d=o.value.clone(),p=oA(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(e,t,n):e instanceof Or?(function(o,u,c){if(!Wh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=oA(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(t1(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(e,t,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,n)}function Su(e,t,n,s){return e instanceof $u?(function(u,c,d,p){if(!Wh(u.precondition,c))return d;const g=u.value.clone(),_=lA(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(e,t,n,s):e instanceof Or?(function(u,c,d,p){if(!Wh(u.precondition,c))return d;const g=lA(u.fieldTransforms,p,c),_=c.data;return _.setAll(t1(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((E=>E.field)))})(e,t,n,s):(function(u,c,d){return Wh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(e,t,n)}function wx(e,t){let n=null;for(const s of e.fieldTransforms){const o=t.data.field(s.field),u=Xw(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function aA(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ho(s,o,((u,c)=>Ax(u,c)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class $u extends Xf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends Xf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function t1(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}})),t}function oA(e,t,n){const s=new Map;Kt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let o=0;o<n.length;o++){const u=e[o],c=u.transform,d=t.data.field(u.field);s.set(u.field,Tx(c,d,n[o]))}return s}function lA(e,t,n){const s=new Map;for(const o of e){const u=o.transform,c=n.data.field(o.field);s.set(o.field,vx(u,c,t))}return s}class e1 extends Xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Rx extends Xf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&bx(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Su(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Su(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Yw();return this.mutations.forEach((o=>{const u=t.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=n.has(o.key)?null:d;const p=Jw(c,d);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Ho(this.mutations,t.mutations,((n,s)=>aA(n,s)))&&Ho(this.baseMutations,t.baseMutations,((n,s)=>aA(n,s)))}}class Ay{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return mx})();const u=t.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new Ay(t,n,s,o)}}class Cx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Dx{constructor(t,n){this.count=t,this.unchangedNames=n}}var Oe,jt;function Vx(e){switch(e){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:e})}}function n1(e){if(e===void 0)return Is("GRPC error has no .code"),W.UNKNOWN;switch(e){case Oe.OK:return W.OK;case Oe.CANCELLED:return W.CANCELLED;case Oe.UNKNOWN:return W.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return W.INTERNAL;case Oe.UNAVAILABLE:return W.UNAVAILABLE;case Oe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Oe.NOT_FOUND:return W.NOT_FOUND;case Oe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Oe.ABORTED:return W.ABORTED;case Oe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Oe.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:e})}}(jt=Oe||(Oe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function Mx(){return new TextEncoder}const Ox=new _r([4294967295,4294967295],0);function uA(e){const t=Mx().encode(e),n=new gw;return n.update(t),new Uint8Array(n.digest())}function cA(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new _r([n,s],0),new _r([o,u],0)]}class Sy{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(s<0)throw new pu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=_r.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(_r.fromNumber(s)));return o.compare(Ox)===1&&(o=new _r([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=uA(t),[s,o]=cA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),c=new Sy(u,o,n);return s.forEach((d=>c.insert(d))),c}insert(t){if(this.ge===0)return;const n=uA(t),[s,o]=cA(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class $f{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Wu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new $f(St.min(),o,new he(kt),Cs(),Ut())}}class Wu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Wu(s,n,Ut(),Ut(),Ut())}}class Zh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class i1{constructor(t,n){this.targetId=t,this.Ce=n}}class s1{constructor(t,n,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hA{constructor(){this.ve=0,this.Fe=fA(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),n=Ut(),s=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:u})}})),new Wu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=fA()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Cs(),this.Je=Uh(),this.He=Uh(),this.Ye=new he(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(lg(u))if(s===0){const c=new yt(u.path);this.et(n,c,rn.newNoDocument(c,St.min()))}else Kt(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const d=this.ut(t),p=d?this.ct(d,t,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,d;try{c=br(s).toUint8Array()}catch(p){if(p instanceof Cw)return qo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Sy(c,o,u)}catch(p){return qo(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,c)=>{const d=this.ot(c);if(d){if(u.current&&lg(d.target)){const p=new yt(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,rn.newNoDocument(p,t))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=Ut();this.He.forEach(((u,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(t)));const o=new $f(t,n,this.Ye,this.je,s);return this.je=Cs(),this.Je=Uh(),this.He=Uh(),this.Ye=new he(kt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new hA,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Be(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Be(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ut("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new hA),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Uh(){return new he(yt.comparator)}function fA(){return new he(yt.comparator)}const xx={asc:"ASCENDING",desc:"DESCENDING"},Px={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Lx={and:"AND",or:"OR"};class kx{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function hg(e,t){return e.useProto3Json||qf(t)?t:{value:t}}function Tf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function r1(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ux(e,t){return Tf(e,t.toTimestamp())}function Yi(e){return Kt(!!e,49232),St.fromTimestamp((function(n){const s=Sr(n);return new re(s.seconds,s.nanos)})(e))}function by(e,t){return fg(e,t).canonicalString()}function fg(e,t){const n=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(e).child("documents");return t===void 0?n:n.child(t)}function a1(e){const t=ne.fromString(e);return Kt(h1(t),10190,{key:t.toString()}),t}function dg(e,t){return by(e.databaseId,t.path)}function Rp(e,t){const n=a1(t);if(n.get(1)!==e.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yt(l1(n))}function o1(e,t){return by(e.databaseId,t)}function zx(e){const t=a1(e);return t.length===4?ne.emptyPath():l1(t)}function mg(e){return new ne(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function l1(e){return Kt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function dA(e,t,n){return{name:dg(e,t),fields:n.value.mapValue.fields}}function Bx(e,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:vt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Kt(_===void 0||typeof _=="string",58123),tn.fromBase64String(_||"")):(Kt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),tn.fromUint8Array(_||new Uint8Array))})(e,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&(function(g){const _=g.code===void 0?W.UNKNOWN:n1(g.code);return new lt(_,g.message||"")})(c);n=new s1(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Rp(e,s.document.name),u=Yi(s.document.updateTime),c=s.document.createTime?Yi(s.document.createTime):St.min(),d=new En({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,c,d),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Zh(g,_,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Rp(e,s.document),u=s.readTime?Yi(s.readTime):St.min(),c=rn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new Zh([],d,c.key,c)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Rp(e,s.document),u=s.removedTargetIds||[];n=new Zh([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new Dx(o,u),d=s.targetId;n=new i1(d,c)}}return n}function jx(e,t){let n;if(t instanceof $u)n={update:dA(e,t.key,t.value)};else if(t instanceof e1)n={delete:dg(e,t.key)};else if(t instanceof Or)n={update:dA(e,t.key,t.data),updateMask:$x(t.fieldMask)};else{if(!(t instanceof Rx))return vt(16599,{Vt:t.type});n={verify:dg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,c){const d=c.transform;if(d instanceof ku)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof zu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof vf)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw vt(20930,{transform:c.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Ux(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(e,t.precondition)),n}function Fx(e,t){return e&&e.length>0?(Kt(t!==void 0,14353),e.map((n=>(function(o,u){let c=o.updateTime?Yi(o.updateTime):Yi(u);return c.isEqual(St.min())&&(c=Yi(u)),new Sx(c,o.transformResults||[])})(n,t)))):[]}function qx(e,t){return{documents:[o1(e,t.path)]}}function Hx(e,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=o1(e,o);const u=(function(g){if(g.length!==0)return c1(Ei.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(A){return{field:Co(A.field),direction:Yx(A.dir)}})(_)))})(t.orderBy);c&&(n.structuredQuery.orderBy=c);const d=hg(e,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function Gx(e){let t=zx(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:t=t.child(_.collectionId)}let u=[];n.where&&(u=(function(E){const A=u1(E);return A instanceof Ei&&Uw(A)?A.getFilters():[A]})(n.where));let c=[];n.orderBy&&(c=(function(E){return E.map((A=>(function(k){return new Lu(Do(k.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(k.direction))})(A)))})(n.orderBy));let d=null;n.limit&&(d=(function(E){let A;return A=typeof E=="object"?E.value:E,qf(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(E){const A=!!E.before,V=E.values||[];return new _f(V,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(E){const A=!E.before,V=E.values||[];return new _f(V,A)})(n.endAt)),ux(t,o,c,u,d,"F",p,g)}function Kx(e,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function u1(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Do(n.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Do(n.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Do(n.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(n.unaryFilter.field);return xe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return xe.create(Do(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Ei.create(n.compositeFilter.filters.map((s=>u1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(e):vt(30097,{filter:e})}function Yx(e){return xx[e]}function Qx(e){return Px[e]}function Xx(e){return Lx[e]}function Co(e){return{fieldPath:e.canonicalString()}}function Do(e){return Je.fromServerFormat(e.fieldPath)}function c1(e){return e instanceof xe?(function(n){if(n.op==="=="){if(tA(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tA(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:Co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(n.field),op:Qx(n.op),value:n.value}}})(e):e instanceof Ei?(function(n){const s=n.getFilters().map((o=>c1(o)));return s.length===1?s[0]:{compositeFilter:{op:Xx(n.op),filters:s}}})(e):vt(54877,{filter:e})}function $x(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function h1(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}class pr{constructor(t,n,s,o,u=St.min(),c=St.min(),d=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new pr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Wx{constructor(t){this.yt=t}}function Zx(e){const t=Gx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cg(t,t.limit,"L"):t}class Jx{constructor(){this.Cn=new tP}addToCollectionParentIndex(t,n){return this.Cn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(Ar.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(Ar.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class tP{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Be(ne.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Be(ne.comparator)).toArray()}}const mA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(f1,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Yo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Yo(0)}static cr(){return new Yo(-1)}}const pA="LruGarbageCollector",eP=1048576;function gA([e,t],[n,s]){const o=kt(e,n);return o===0?kt(t,s):o}class nP{constructor(t){this.Ir=t,this.buffer=new Be(gA),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class iP{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(pA,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?ut(pA,"Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Vr(3e5)}))}}class sP{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Ff.ce);const s=new nP(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(mA)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mA):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,c,d,p,g;const _=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((E=>(E>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(t,o)))).next((E=>(s=E,d=Date.now(),this.removeTargets(t,s,n)))).next((E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((E=>(g=Date.now(),Ro()<=Lt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E}))))}}function rP(e,t){return new sP(e,t)}class aP{constructor(){this.changes=new Oa((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,rn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class oP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class lP{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Su(s.mutation,o,Nn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Ut()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Ut()){const o=ga();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let c=mu();return u.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(t,n){const s=ga();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Ut())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(t,n,s,o){let u=Cs();const c=Au(),d=(function(){return Au()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Or)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),Su(_.mutation,g,_.mutation.getFieldMask(),re.now())):c.set(g.key,Nn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>d.set(g,new oP(_,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(t,n){const s=Au();let o=new he(((c,d)=>c-d)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Nn.empty();_=d.applyToLocalView(g,_),s.set(p,_);const E=(o.get(d.batchId)||Ut()).add(p);o=o.insert(d.batchId,E)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,_=p.value,E=Yw();_.forEach((A=>{if(!u.has(A)){const V=Jw(n.get(A),s.get(A));V!==null&&E.set(A,V),u=u.add(A)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(c){return yt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Fw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(ga());let d=Ou,p=u;return c.next((g=>tt.forEach(g,((_,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(_)?tt.resolve():this.remoteDocumentCache.getEntry(t,_).next((A=>{p=p.insert(_,A)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,Ut()))).next((_=>({batchId:d,changes:Kw(_)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=mu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(t,u).next((d=>tt.forEach(d,(p=>{const g=(function(E,A){return new el(A,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((_=>{_.forEach(((E,A)=>{c=c.insert(E,A)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,rn.newInvalidDocument(_)))}));let d=mu();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&Su(_.mutation,g,Nn.empty(),re.now()),Yf(n,g)&&(d=d.insert(p,g))})),d}))}}class uP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return tt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Yi(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Zx(o.bundledQuery),readTime:Yi(o.readTime)}})(n)),tt.resolve()}}class cP{constructor(){this.overlays=new he(yt.comparator),this.qr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ga();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=ga(),u=n.length+1,c=new yt(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new he(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ga(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>d.set(g,_))),!(d.size()>=o)););return tt.resolve(d)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new Cx(n,s));let u=this.qr.get(n);u===void 0&&(u=Ut(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class hP{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}class wy{constructor(){this.Qr=new Be(He.$r),this.Ur=new Be(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new He(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new He(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new ne([])),s=new He(n,t),o=new He(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new ne([])),s=new He(n,t),o=new He(n,t+1);let u=Ut();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(t){const n=new He(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class He{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}class fP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Be(He.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ix(u,n,s,o);this.mutationQueue.push(c);for(const d of o)this.Zr=this.Zr.add(new He(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return tt.resolve(c)}lookupMutationBatch(t,n){return tt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?gy:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new He(n,0),o=new He(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const d=this.Xr(c.Yr);u.push(d)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Be(kt);return n.forEach((o=>{const u=new He(o,0),c=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(d=>{s=s.add(d.Yr)}))})),tt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const c=new He(new yt(u),0);let d=new Be(kt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Yr)),!0)}),c),tt.resolve(this.ti(d))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return tt.forEach(n.mutations,(o=>{const u=new He(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new He(n,0),o=this.Zr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class dP{constructor(t){this.ri=t,this.docs=(function(){return new he(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(t,n){let s=Cs();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=Cs();const c=n.path,d=new yt(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||jN(BN(_),s)<=0||(o.has(_.key)||Yf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){vt(9500)}ii(t,n){return tt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new mP(this)}getSize(t){return tt.resolve(this.size)}}class mP extends aP{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),tt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}class pP{constructor(t){this.persistence=t,this.si=new Oa((n=>vy(n)),Ty),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new wy,this.targetCount=0,this.ai=Yo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),tt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Yo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.Pr(n),tt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(t,c))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this._i.containsKey(n))}}class d1{constructor(t,n){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new hP,this.referenceDelegate=t(this),this.Pi=new pP(this),this.indexManager=new Jx,this.remoteDocumentCache=(function(o){return new dP(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Wx(n),this.Ii=new uP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new cP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new fP(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ut("MemoryPersistence","Starting transaction:",t);const o=new gP(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return tt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class gP extends qN{constructor(t){super(),this.currentSequenceNumber=t}}class Ry{constructor(t){this.persistence=t,this.Ri=new wy,this.Vi=null}static mi(t){return new Ry(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ef{constructor(t,n){this.persistence=t,this.pi=new Oa((s=>KN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=rP(this,n)}static mi(t,n){return new Ef(t,n)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return tt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(c=>this.br(t,c,n).next((d=>{d||(s++,u.removeEntry(c,St.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Xh(t.data.value)),n}br(t,n,s){return tt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Iy{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Iy(t,n.fromCache,s,o)}}class yP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class _P{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zD()?8:HN(on())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new yP;return this.Ss(t,n,c).next((d=>{if(u.result=d,this.Vs)return this.bs(t,n,c,d.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(Ro()<=Lt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(Ro()<=Lt.DEBUG&&ut("QueryEngine","Query:",Io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ro()<=Lt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ki(n))):tt.resolve())}ys(t,n){if(sA(n))return tt.resolve(null);let s=Ki(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=cg(n,null,"F"),s=Ki(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const c=Ut(...u);return this.ps.getDocuments(t,c).next((d=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,d);return this.Cs(n,g,c,p.readTime)?this.ys(t,cg(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return sA(n)||o.isEqual(St.min())?tt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?tt.resolve(null):(Ro()<=Lt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(t,c,n,zN(o,Ou)).next((d=>d)))}))}Ds(t,n){let s=new Be(Hw(t));return n.forEach(((o,u)=>{Yf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return Ro()<=Lt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ps.getDocumentsMatchingQuery(t,n,Ar.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Cy="LocalStore",vP=3e8;class TP{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new he(kt),this.xs=new Oa((u=>vy(u)),Ty),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new lP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function EP(e,t,n,s){return new TP(e,t,n,s)}async function m1(e,t){const n=wt(e);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],d=[];let p=Ut();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){d.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function AP(e,t){const n=wt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,_){const E=g.batch,A=E.keys();let V=tt.resolve();return A.forEach((k=>{V=V.next((()=>_.getEntry(p,k))).next((G=>{const j=g.docVersions.get(k);Kt(j!==null,48541),G.version.compareTo(j)<0&&(E.applyToRemoteDocument(G,g),G.isValidDocument()&&(G.setReadTime(g.commitVersion),_.addEntry(G)))}))})),V.next((()=>d.mutationQueue.removeMutationBatch(p,E)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function p1(e){const t=wt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function SP(e,t){const n=wt(e),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const d=[];t.targetChanges.forEach(((_,E)=>{const A=o.get(E);if(!A)return;d.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,E).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,E))));let V=A.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?V=V.withResumeToken(tn.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):_.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(_.resumeToken,s)),o=o.insert(E,V),(function(G,j,Q){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=vP?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(A,V,_)&&d.push(n.Pi.updateTargetData(u,V))}));let p=Cs(),g=Ut();if(t.documentUpdates.forEach((_=>{t.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),d.push(bP(u,c,t.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(St.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((E=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));d.push(_)}return tt.waitFor(d).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function bP(e,t,n){let s=Ut(),o=Ut();return n.forEach((u=>s=s.add(u))),t.getEntries(e,s).next((u=>{let c=Cs();return n.forEach(((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):ut(Cy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function wP(e,t){const n=wt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=gy),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function RP(e,t){const n=wt(e);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,tt.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new pr(t,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function pg(e,t,n){const s=wt(e),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!tl(c))throw c;ut(Cy,`Failed to update sequence numbers for target ${t}: ${c}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function yA(e,t,n){const s=wt(e);let o=St.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const E=wt(p),A=E.xs.get(_);return A!==void 0?tt.resolve(E.Ms.get(A)):E.Pi.getTargetData(g,_)})(s,c,Ki(t)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,t,n?o:St.min(),n?u:Ut()))).next((d=>(IP(s,hx(t),d),{documents:d,Qs:u})))))}function IP(e,t,n){let s=e.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),e.Os.set(t,s)}class _A{constructor(){this.activeTargetIds=yx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CP{constructor(){this.Mo=new _A,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new _A,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class DP{Oo(t){}shutdown(){}}const vA="ConnectivityMonitor";class TA{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(vA,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(vA,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zh=null;function gg(){return zh===null?zh=(function(){return 268435456+Math.round(2147483648*Math.random())})():zh++,"0x"+zh.toString(16)}const Ip="RestConnection",VP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===gf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const c=gg(),d=this.zo(t,n.toUriEncodedString());ut(Ip,`Sending RPC '${t}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(d),_=Da(g);return this.Jo(t,d,p,s,_).then((E=>(ut(Ip,`Received RPC '${t}' ${c}: `,E),E)),(E=>{throw qo(Ip,`RPC '${t}' ${c} failed with error: `,E,"url: ",d,"request:",s),E}))}Ho(t,n,s,o,u,c){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Zo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=VP[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class OP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class NP extends MP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const c=gg();return new Promise(((d,p)=>{const g=new yw;g.setWithCredentials(!0),g.listenOnce(_w.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Qh.NO_ERROR:const E=g.getResponseJson();ut(nn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),d(E);break;case Qh.TIMEOUT:ut(nn,`RPC '${t}' ${c} timed out`),p(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Qh.HTTP_ERROR:const A=g.getStatus();if(ut(nn,`RPC '${t}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const k=V?.error;if(k&&k.status&&k.message){const G=(function(Q){const nt=Q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(nt)>=0?nt:W.UNKNOWN})(k.status);p(new lt(G,k.message))}else p(new lt(W.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new lt(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ut(nn,`RPC '${t}' ${c} completed.`)}}));const _=JSON.stringify(o);ut(nn,`RPC '${t}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(t,n,s){const o=gg(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Ew(),d=Tw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ut(nn,`Creating RPC '${t}' stream ${o}: ${_}`,p);const E=c.createWebChannel(_,p);this.I_(E);let A=!1,V=!1;const k=new OP({Yo:j=>{V?ut(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,j):(A||(ut(nn,`Opening RPC '${t}' stream ${o} transport.`),E.open(),A=!0),ut(nn,`RPC '${t}' stream ${o} sending:`,j),E.send(j))},Zo:()=>E.close()}),G=(j,Q,nt)=>{j.listen(Q,($=>{try{nt($)}catch(et){setTimeout((()=>{throw et}),0)}}))};return G(E,du.EventType.OPEN,(()=>{V||(ut(nn,`RPC '${t}' stream ${o} transport opened.`),k.o_())})),G(E,du.EventType.CLOSE,(()=>{V||(V=!0,ut(nn,`RPC '${t}' stream ${o} transport closed`),k.a_(),this.E_(E))})),G(E,du.EventType.ERROR,(j=>{V||(V=!0,qo(nn,`RPC '${t}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),k.a_(new lt(W.UNAVAILABLE,"The operation could not be completed")))})),G(E,du.EventType.MESSAGE,(j=>{if(!V){const Q=j.data[0];Kt(!!Q,16349);const nt=Q,$=nt?.error||nt[0]?.error;if($){ut(nn,`RPC '${t}' stream ${o} received error:`,$);const et=$.status;let st=(function(w){const I=Oe[w];if(I!==void 0)return n1(I)})(et),ot=$.message;st===void 0&&(st=W.INTERNAL,ot="Unknown error status: "+et+" with message "+$.message),V=!0,k.a_(new lt(st,ot)),E.close()}else ut(nn,`RPC '${t}' stream ${o} received:`,Q),k.u_(Q)}})),G(d,vw.STAT_EVENT,(j=>{j.stat===ig.PROXY?ut(nn,`RPC '${t}' stream ${o} detected buffering proxy`):j.stat===ig.NOPROXY&&ut(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{k.__()}),0),k}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Cp(){return typeof document<"u"?document:null}function Wf(e){return new kx(e,!0)}class g1{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const EA="PersistentStream";class y1{constructor(t,n,s,o,u,c,d,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new g1(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new lt(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(EA,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ut(EA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xP extends y1{constructor(t,n,s,o,u,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Bx(this.serializer,t),s=(function(u){if(!("targetChange"in u))return St.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?St.min():c.readTime?Yi(c.readTime):St.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=mg(this.serializer),n.addTarget=(function(u,c){let d;const p=c.target;if(d=lg(p)?{documents:qx(u,p)}:{query:Hx(u,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=r1(u,c.resumeToken);const g=hg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(St.min())>0){d.readTime=Tf(u,c.snapshotVersion.toTimestamp());const g=hg(u,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,t);const s=Kx(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=mg(this.serializer),n.removeTarget=t,this.q_(n)}}class PP extends y1{constructor(t,n,s,o,u,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Fx(t.writeResults,t.commitTime),s=Yi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=mg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>jx(this.serializer,s)))};this.q_(n)}}class LP{}class kP extends LP{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(t,fg(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(W.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(t,fg(n,s),o,c,d,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(W.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(n),this.aa=!1):ut("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ia="RemoteStore";class zP{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Na(this)&&(ut(Ia,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Zu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zf(g)})(this))}))})),this.Ra=new UP(s,o)}}async function Zf(e){if(Na(e))for(const t of e.da)await t(!0)}async function Zu(e){for(const t of e.da)await t(!1)}function _1(e,t){const n=wt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Oy(n)?My(n):nl(n).O_()&&Vy(n,t))}function Dy(e,t){const n=wt(e),s=nl(n);n.Ia.delete(t),s.O_()&&v1(n,t),n.Ia.size===0&&(s.O_()?s.L_():Na(n)&&n.Ra.set("Unknown"))}function Vy(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}nl(e).Y_(t)}function v1(e,t){e.Va.Ue(t),nl(e).Z_(t)}function My(e){e.Va=new Nx({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),nl(e).start(),e.Ra.ua()}function Oy(e){return Na(e)&&!nl(e).x_()&&e.Ia.size>0}function Na(e){return wt(e).Ea.size===0}function T1(e){e.Va=void 0}async function BP(e){e.Ra.set("Online")}async function jP(e){e.Ia.forEach(((t,n)=>{Vy(e,t)}))}async function FP(e,t){T1(e),Oy(e)?(e.Ra.ha(t),My(e)):e.Ra.set("Unknown")}async function qP(e,t,n){if(e.Ra.set("Online"),t instanceof s1&&t.state===2&&t.cause)try{await(async function(o,u){const c=u.cause;for(const d of u.targetIds)o.Ia.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.Ia.delete(d),o.Va.removeTarget(d))})(e,t)}catch(s){ut(Ia,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Af(e,s)}else if(t instanceof Zh?e.Va.Ze(t):t instanceof i1?e.Va.st(t):e.Va.tt(t),!n.isEqual(St.min()))try{const s=await p1(e.localStore);n.compareTo(s)>=0&&await(function(u,c){const d=u.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),v1(u,p);const E=new pr(_.target,p,g,_.sequenceNumber);Vy(u,E)})),u.remoteSyncer.applyRemoteEvent(d)})(e,n)}catch(s){ut(Ia,"Failed to raise snapshot:",s),await Af(e,s)}}async function Af(e,t,n){if(!tl(t))throw t;e.Ea.add(1),await Zu(e),e.Ra.set("Offline"),n||(n=()=>p1(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ut(Ia,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Zf(e)}))}function E1(e,t){return t().catch((n=>Af(e,n,t)))}async function Jf(e){const t=wt(e),n=Rr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:gy;for(;HP(t);)try{const o=await wP(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,GP(t,o)}catch(o){await Af(t,o)}A1(t)&&S1(t)}function HP(e){return Na(e)&&e.Ta.length<10}function GP(e,t){e.Ta.push(t);const n=Rr(e);n.O_()&&n.X_&&n.ea(t.mutations)}function A1(e){return Na(e)&&!Rr(e).x_()&&e.Ta.length>0}function S1(e){Rr(e).start()}async function KP(e){Rr(e).ra()}async function YP(e){const t=Rr(e);for(const n of e.Ta)t.ea(n.mutations)}async function QP(e,t,n){const s=e.Ta.shift(),o=Ay.from(s,t,n);await E1(e,(()=>e.remoteSyncer.applySuccessfulWrite(o))),await Jf(e)}async function XP(e,t){t&&Rr(e).X_&&await(async function(s,o){if((function(c){return Vx(c)&&c!==W.ABORTED})(o.code)){const u=s.Ta.shift();Rr(s).B_(),await E1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Jf(s)}})(e,t),A1(e)&&S1(e)}async function AA(e,t){const n=wt(e);n.asyncQueue.verifyOperationInProgress(),ut(Ia,"RemoteStore received new credentials");const s=Na(n);n.Ea.add(3),await Zu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Zf(n)}async function $P(e,t){const n=wt(e);t?(n.Ea.delete(2),await Zf(n)):t||(n.Ea.add(2),await Zu(n),n.Ra.set("Unknown"))}function nl(e){return e.ma||(e.ma=(function(n,s,o){const u=wt(n);return u.sa(),new xP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:BP.bind(null,e),t_:jP.bind(null,e),r_:FP.bind(null,e),H_:qP.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Oy(e)?My(e):e.Ra.set("Unknown")):(await e.ma.stop(),T1(e))}))),e.ma}function Rr(e){return e.fa||(e.fa=(function(n,s,o){const u=wt(n);return u.sa(),new PP(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:KP.bind(null,e),r_:XP.bind(null,e),ta:YP.bind(null,e),na:QP.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Jf(e)):(await e.fa.stop(),e.Ta.length>0&&(ut(Ia,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}class Ny{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const c=Date.now()+s,d=new Ny(t,n,c,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(e,t){if(Is("AsyncQueue",`${t}: ${e}`),tl(e))return new lt(W.UNAVAILABLE,`${t}: ${e}`);throw e}class zo{static emptySet(t){return new zo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=mu(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new zo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class SA{constructor(){this.ga=new he(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class Qo{constructor(t,n,s,o,u,c,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Qo(t,n,zo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class WP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ZP{constructor(){this.queries=bA(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=bA(),u.forEach(((c,d)=>{for(const p of d.Sa)p.onError(s)}))})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function bA(){return new Oa((e=>qw(e)),Kf)}async function b1(e,t){const n=wt(e);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new WP,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=xy(c,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&Py(n)}async function w1(e,t){const n=wt(e),s=t.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(t);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function JP(e,t){const n=wt(e);let s=!1;for(const o of t){const u=o.query,c=n.queries.get(u);if(c){for(const d of c.Sa)d.Fa(o)&&(s=!0);c.wa=o}}s&&Py(n)}function tL(e,t,n){const s=wt(e),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function Py(e){e.Ca.forEach((t=>{t.next()}))}var yg,wA;(wA=yg||(yg={})).Ma="default",wA.Cache="cache";class R1{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Qo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Qo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==yg.Cache}}class I1{constructor(t){this.key=t}}class C1{constructor(t){this.key=t}}class eL{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=Hw(t),this.tu=new zo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new SA,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((_,E)=>{const A=o.get(_),V=Yf(this.query,E)?E:null,k=!!A&&this.mutatedKeys.has(A.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;A&&V?A.data.isEqual(V.data)?k!==G&&(s.track({type:3,doc:V}),j=!0):this.su(A,V)||(s.track({type:2,doc:V}),j=!0,(p&&this.eu(V,p)>0||g&&this.eu(V,g)<0)&&(d=!0)):!A&&V?(s.track({type:0,doc:V}),j=!0):A&&!V&&(s.track({type:1,doc:A}),j=!0,(p||g)&&(d=!0)),j&&(V?(c=c.add(V),u=G?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:d,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((_,E)=>(function(V,k){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:j})}};return G(V)-G(k)})(_.type,E.type)||this.eu(_.doc,E.doc))),this.ou(s),o=o??!1;const d=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Qo(this.query,t.tu,u,c,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new SA,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new C1(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new I1(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=Ut();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Qo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ly="SyncEngine";class nL{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class iL{constructor(t){this.key=t,this.hu=!1}}class sL{constructor(t,n,s,o,u,c){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Oa((d=>qw(d)),Kf),this.Iu=new Map,this.Eu=new Set,this.du=new he(yt.comparator),this.Au=new Map,this.Ru=new wy,this.Vu={},this.mu=new Map,this.fu=Yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rL(e,t,n=!0){const s=x1(e);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await D1(s,t,n,!0),o}async function aL(e,t){const n=x1(e);await D1(n,t,!0,!1)}async function D1(e,t,n,s){const o=await RP(e.localStore,Ki(t)),u=o.targetId,c=e.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await oL(e,t,u,c==="current",o.resumeToken)),e.isPrimaryClient&&n&&_1(e.remoteStore,o),d}async function oL(e,t,n,s,o){e.pu=(E,A,V)=>(async function(G,j,Q,nt){let $=j.view.ru(Q);$.Cs&&($=await yA(G.localStore,j.query,!1).then((({documents:R})=>j.view.ru(R,$))));const et=nt&&nt.targetChanges.get(j.targetId),st=nt&&nt.targetMismatches.get(j.targetId)!=null,ot=j.view.applyChanges($,G.isPrimaryClient,et,st);return IA(G,j.targetId,ot.au),ot.snapshot})(e,E,A,V);const u=await yA(e.localStore,t,!0),c=new eL(t,u.Qs),d=c.ru(u.documents),p=Wu.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",o),g=c.applyChanges(d,e.isPrimaryClient,p);IA(e,n,g.au);const _=new nL(t,n,c);return e.Tu.set(t,_),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),g.snapshot}async function lL(e,t,n){const s=wt(e),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Kf(c,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pg(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Dy(s.remoteStore,o.targetId),_g(s,o.targetId)})).catch(Jo)):(_g(s,o.targetId),await pg(s.localStore,o.targetId,!0))}async function uL(e,t){const n=wt(e),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dy(n.remoteStore,s.targetId))}async function cL(e,t,n){const s=yL(e);try{const o=await(function(c,d){const p=wt(c),g=re.now(),_=d.reduce(((V,k)=>V.add(k.key)),Ut());let E,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let k=Cs(),G=Ut();return p.Ns.getEntries(V,_).next((j=>{k=j,k.forEach(((Q,nt)=>{nt.isValidDocument()||(G=G.add(Q))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,k))).next((j=>{E=j;const Q=[];for(const nt of d){const $=wx(nt,E.get(nt.key).overlayedDocument);$!=null&&Q.push(new Or(nt.key,$,Pw($.value.mapValue),vi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,g,Q,d)})).next((j=>{A=j;const Q=j.applyToLocalDocumentSet(E,G);return p.documentOverlayCache.saveOverlays(V,j.batchId,Q)}))})).then((()=>({batchId:A.batchId,changes:Kw(E)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new he(kt)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Ju(s,o.changes),await Jf(s.remoteStore)}catch(o){const u=xy(o,"Failed to persist write");n.reject(u)}}async function V1(e,t){const n=wt(e);try{const s=await SP(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Kt(c.hu,14607):o.removedDocuments.size>0&&(Kt(c.hu,42227),c.hu=!1))})),await Ju(n,s,t)}catch(s){await Jo(s)}}function RA(e,t,n){const s=wt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const d=c.view.va(t);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=wt(c);p.onlineState=d;let g=!1;p.queries.forEach(((_,E)=>{for(const A of E.Sa)A.va(d)&&(g=!0)})),g&&Py(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function hL(e,t,n){const s=wt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let c=new he(yt.comparator);c=c.insert(u,rn.newNoDocument(u,St.min()));const d=Ut().add(u),p=new $f(St.min(),new Map,new he(kt),c,d);await V1(s,p),s.du=s.du.remove(u),s.Au.delete(t),ky(s)}else await pg(s.localStore,t,!1).then((()=>_g(s,t,n))).catch(Jo)}async function fL(e,t){const n=wt(e),s=t.batch.batchId;try{const o=await AP(n.localStore,t);O1(n,s,null),M1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ju(n,o)}catch(o){await Jo(o)}}async function dL(e,t,n){const s=wt(e);try{const o=await(function(c,d){const p=wt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,d).next((E=>(Kt(E!==null,37113),_=E.keys(),p.mutationQueue.removeMutationBatch(g,E)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,t);O1(s,t,n),M1(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Ju(s,o)}catch(o){await Jo(o)}}function M1(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function O1(e,t,n){const s=wt(e);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function _g(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((s=>{e.Ru.containsKey(s)||N1(e,s)}))}function N1(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Dy(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),ky(e))}function IA(e,t,n){for(const s of n)s instanceof I1?(e.Ru.addReference(s.key,t),mL(e,s)):s instanceof C1?(ut(Ly,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||N1(e,s.key)):vt(19791,{wu:s})}function mL(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(ut(Ly,"New document in limbo: "+n),e.Eu.add(s),ky(e))}function ky(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new yt(ne.fromString(t)),s=e.fu.next();e.Au.set(s,new iL(n)),e.du=e.du.insert(n,s),_1(e.remoteStore,new pr(Ki(Gf(n.path)),s,"TargetPurposeLimboResolution",Ff.ce))}}async function Ju(e,t,n){const s=wt(e),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,p)=>{c.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Iy.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=wt(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(E=>tt.forEach(g,(A=>tt.forEach(A.Es,(V=>_.persistence.referenceDelegate.addReference(E,A.targetId,V))).next((()=>tt.forEach(A.ds,(V=>_.persistence.referenceDelegate.removeReference(E,A.targetId,V)))))))))}catch(E){if(!tl(E))throw E;ut(Cy,"Failed to update sequence numbers: "+E)}for(const E of g){const A=E.targetId;if(!E.fromCache){const V=_.Ms.get(A),k=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(k);_.Ms=_.Ms.insert(A,G)}}})(s.localStore,u))}async function pL(e,t){const n=wt(e);if(!n.currentUser.isEqual(t)){ut(Ly,"User change. New user:",t.toKey());const s=await m1(n.localStore,t);n.currentUser=t,(function(u,c){u.mu.forEach((d=>{d.forEach((p=>{p.reject(new lt(W.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Ju(n,s.Ls)}}function gL(e,t){const n=wt(e),s=n.Au.get(t);if(s&&s.hu)return Ut().add(s.key);{let o=Ut();const u=n.Iu.get(t);if(!u)return o;for(const c of u){const d=n.Tu.get(c);o=o.unionWith(d.view.nu)}return o}}function x1(e){const t=wt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hL.bind(null,t),t.Pu.H_=JP.bind(null,t.eventManager),t.Pu.yu=tL.bind(null,t.eventManager),t}function yL(e){const t=wt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dL.bind(null,t),t}class Sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return EP(this.persistence,new _P,t.initialUser,this.serializer)}Cu(t){return new d1(Ry.mi,this.serializer)}Du(t){return new CP}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sf.provider={build:()=>new Sf};class _L extends Sf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof Ef,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new iP(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new d1((s=>Ef.mi(s,n)),this.serializer)}}class vg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pL.bind(null,this.syncEngine),await $P(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ZP})()}createDatastore(t){const n=Wf(t.databaseInfo.databaseId),s=(function(u){return new NP(u)})(t.databaseInfo);return(function(u,c,d,p){return new kP(u,c,d,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,c,d){return new zP(s,o,u,c,d)})(this.localStore,this.datastore,t.asyncQueue,(n=>RA(this.syncEngine,n,0)),(function(){return TA.v()?new TA:new DP})())}createSyncEngine(t,n){return(function(o,u,c,d,p,g,_){const E=new sL(o,u,c,d,p,g);return _&&(E.gu=!0),E})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ut(Ia,"RemoteStore shutting down."),s.Ea.add(5),await Zu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vg.provider={build:()=>new vg};class P1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const Ir="FirestoreClient";class vL{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=py.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{ut(Ir,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ut(Ir,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=xy(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Dp(e,t){e.asyncQueue.verifyOperationInProgress(),ut(Ir,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener((async o=>{s.isEqual(o)||(await m1(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function CA(e,t){e.asyncQueue.verifyOperationInProgress();const n=await TL(e);ut(Ir,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((s=>AA(t.remoteStore,s))),e.setAppCheckTokenChangeListener(((s,o)=>AA(t.remoteStore,o))),e._onlineComponents=t}async function TL(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ut(Ir,"Using user provided OfflineComponentProvider");try{await Dp(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;qo("Error using user provided cache. Falling back to memory cache: "+n),await Dp(e,new Sf)}}else ut(Ir,"Using default OfflineComponentProvider"),await Dp(e,new _L(void 0));return e._offlineComponents}async function L1(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ut(Ir,"Using user provided OnlineComponentProvider"),await CA(e,e._uninitializedComponentsProvider._online)):(ut(Ir,"Using default OnlineComponentProvider"),await CA(e,new vg))),e._onlineComponents}function EL(e){return L1(e).then((t=>t.syncEngine))}async function Tg(e){const t=await L1(e),n=t.eventManager;return n.onListen=rL.bind(null,t.syncEngine),n.onUnlisten=lL.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=aL.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uL.bind(null,t.syncEngine),n}function AL(e,t,n={}){const s=new vr;return e.asyncQueue.enqueueAndForget((async()=>(function(u,c,d,p,g){const _=new P1({next:A=>{_.Nu(),c.enqueueAndForget((()=>w1(u,E)));const V=A.docs.has(d);!V&&A.fromCache?g.reject(new lt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&A.fromCache&&p&&p.source==="server"?g.reject(new lt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),E=new R1(Gf(d.path),_,{includeMetadataChanges:!0,qa:!0});return b1(u,E)})(await Tg(e),e.asyncQueue,t,n,s))),s.promise}function k1(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}const DA=new Map;const U1="firestore.googleapis.com",VA=!0;class MA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U1,this.ssl=VA}else this.host=t.host,this.ssl=t.ssl??VA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<eP)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}UN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=k1(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new CN;switch(s.type){case"firstParty":return new ON(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=DA.get(n);s&&(ut("ComponentProvider","Removing Datastore"),DA.delete(n),s.terminate())})(this),Promise.resolve()}}function SL(e,t,n,s={}){e=_i(e,td);const o=Da(t),u=e._getSettings(),c={...u,emulatorOptions:e._getEmulatorOptions()},d=`${t}:${n}`;o&&(Xg(`https://${d}`),$g("Firestore",!0)),u.host!==U1&&u.host!==d&&qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:d,ssl:o,emulatorOptions:s};if(!Er(p,c)&&(e._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=sn.MOCK_USER;else{g=ub(s.mockUserToken,e._app?.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(E)}e._authCredentials=new DN(new Sw(g,_))}}class xa{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xa(this.firestore,t,this._query)}}class ge{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ge(this.firestore,t,this._key)}toJSON(){return{type:ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Xu(n,ge._jsonSchema))return new ge(t,s||null,new yt(ne.fromString(n.referencePath)))}}ge._jsonSchemaVersion="firestore/documentReference/1.0",ge._jsonSchema={type:Pe("string",ge._jsonSchemaVersion),referencePath:Pe("string")};class Tr extends xa{constructor(t,n,s){super(t,n,Gf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ge(this.firestore,null,new yt(t))}withConverter(t){return new Tr(this.firestore,t,this._path)}}function bu(e,t,...n){if(e=Ae(e),bw("collection","path",t),e instanceof td){const s=ne.fromString(t,...n);return HE(s),new Tr(e,null,s)}{if(!(e instanceof ge||e instanceof Tr))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return HE(s),new Tr(e.firestore,null,s)}}function wu(e,t,...n){if(e=Ae(e),arguments.length===1&&(t=py.newId()),bw("doc","path",t),e instanceof td){const s=ne.fromString(t,...n);return qE(s),new ge(e,null,new yt(s))}{if(!(e instanceof ge||e instanceof Tr))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(ne.fromString(t,...n));return qE(s),new ge(e.firestore,e instanceof Tr?e.converter:null,new yt(s))}}const OA="AsyncQueue";class NA{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new g1(this,"async_queue_retry"),this._c=()=>{const s=Cp();s&&ut(OA,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Cp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Cp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tl(t))throw t;ut(OA,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",xA(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ny.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:xA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function xA(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function PA(e){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(e,["next","error","complete"])}class Ca extends td{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new NA,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NA(t),this._firestoreClient=void 0,await t}}}function bL(e,t){const n=typeof e=="object"?e:Pf(),s=typeof e=="string"?e:gf,o=Vr(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=ab("firestore");u&&SL(o,...u)}return o}function Uy(e){if(e._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||wL(e),e._firestoreClient}function wL(e){const t=e._freezeSettings(),n=(function(o,u,c,d){return new XN(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,k1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new vL(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(e._componentsProvider))}class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(tn.fromBase64String(t))}catch(n){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $n(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Xu(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Pe("string",$n._jsonSchemaVersion),bytes:Pe("string")};class ed{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class nd{constructor(t){this._methodName=t}}class Qi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if(Xu(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Pe("string",Qi._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class Xi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Xu(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Xi(t.vectorValues);throw new lt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Pe("string",Xi._jsonSchemaVersion),vectorValues:Pe("object")};const RL=/^__.*__$/;class IL{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Or(t,this.data,this.fieldMask,n,this.fieldTransforms):new $u(t,this.data,n,this.fieldTransforms)}}class z1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Or(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function B1(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:e})}}class zy{constructor(t,n,s,o,u,c){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return bf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(B1(this.Ac)&&RL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CL{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Wf(t)}Cc(t,n,s,o=!1){return new zy({Ac:t,methodName:n,Dc:s,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function id(e){const t=e._freezeSettings(),n=Wf(e._databaseId);return new CL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function j1(e,t,n,s,o,u={}){const c=e.Cc(u.merge||u.mergeFields?2:0,t,n,o);jy("Data must be an object, but it was:",c,s);const d=F1(s,c);let p,g;if(u.merge)p=new Nn(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const E of u.mergeFields){const A=Eg(t,E,n);if(!c.contains(A))throw new lt(W.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);H1(_,A)||_.push(A)}p=new Nn(_),g=c.fieldTransforms.filter((E=>p.covers(E.field)))}else p=null,g=c.fieldTransforms;return new IL(new En(d),p,g)}class sd extends nd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof sd}}class By extends nd{_toFieldTransform(t){return new Ex(t.path,new ku)}isEqual(t){return t instanceof By}}function DL(e,t,n,s){const o=e.Cc(1,t,n);jy("Data must be an object, but it was:",o,s);const u=[],c=En.empty();Mr(s,((p,g)=>{const _=Fy(t,p,n);g=Ae(g);const E=o.yc(_);if(g instanceof sd)u.push(_);else{const A=tc(g,E);A!=null&&(u.push(_),c.set(_,A))}}));const d=new Nn(u);return new z1(c,d,o.fieldTransforms)}function VL(e,t,n,s,o,u){const c=e.Cc(1,t,n),d=[Eg(t,s,n)],p=[o];if(u.length%2!=0)throw new lt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)d.push(Eg(t,u[A])),p.push(u[A+1]);const g=[],_=En.empty();for(let A=d.length-1;A>=0;--A)if(!H1(g,d[A])){const V=d[A];let k=p[A];k=Ae(k);const G=c.yc(V);if(k instanceof sd)g.push(V);else{const j=tc(k,G);j!=null&&(g.push(V),_.set(V,j))}}const E=new Nn(g);return new z1(_,E,c.fieldTransforms)}function ML(e,t,n,s=!1){return tc(n,e.Cc(s?4:3,t))}function tc(e,t){if(q1(e=Ae(e)))return jy("Unsupported field value:",t,e),F1(e,t);if(e instanceof nd)return(function(s,o){if(!B1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const d of s){let p=tc(d,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(e,t)}return(function(s,o){if((s=Ae(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _x(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:Tf(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Tf(o.serializer,u)}}if(s instanceof Qi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $n)return{bytesValue:r1(o.serializer,s._byteString)};if(s instanceof ge){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:by(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Xi)return(function(c,d){return{mapValue:{fields:{[Nw]:{stringValue:xw},[yf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return Ey(d.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${jf(s)}`)})(e,t)}function F1(e,t){const n={};return Iw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Mr(e,((s,o)=>{const u=tc(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function q1(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof re||e instanceof Qi||e instanceof $n||e instanceof ge||e instanceof nd||e instanceof Xi)}function jy(e,t,n){if(!q1(n)||!ww(n)){const s=jf(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Eg(e,t,n){if((t=Ae(t))instanceof ed)return t._internalPath;if(typeof t=="string")return Fy(e,t);throw bf("Field path arguments must be of type string or ",e,!1,void 0,n)}const OL=new RegExp("[~\\*/\\[\\]]");function Fy(e,t,n){if(t.search(OL)>=0)throw bf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ed(...t.split("."))._internalPath}catch{throw bf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function bf(e,t,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new lt(W.INVALID_ARGUMENT,d+e+p)}function H1(e,t){return e.some((n=>n.isEqual(t)))}class G1{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(rd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NL extends G1{data(){return super.data()}}function rd(e,t){return typeof t=="string"?Fy(e,t):t instanceof ed?t._internalPath:t._delegate._internalPath}function xL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new lt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qy{}class K1 extends qy{}function Ag(e,t,...n){let s=[];t instanceof qy&&s.push(t),s=s.concat(n),(function(u){const c=u.filter((p=>p instanceof Hy)).length,d=u.filter((p=>p instanceof ad)).length;if(c>1||c>0&&d>0)throw new lt(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)e=o._apply(e);return e}class ad extends K1{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ad(t,n,s)}_apply(t){const n=this._parse(t);return Y1(t._query,n),new xa(t.firestore,t.converter,ug(t._query,n))}_parse(t){const n=id(t.firestore);return(function(u,c,d,p,g,_,E){let A;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new lt(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){kA(E,_);const k=[];for(const G of E)k.push(LA(p,u,G));A={arrayValue:{values:k}}}else A=LA(p,u,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||kA(E,_),A=ML(d,c,E,_==="in"||_==="not-in");return xe.create(g,_,A)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Sg(e,t,n){const s=t,o=rd("where",e);return ad._create(o,s,n)}class Hy extends qy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hy(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Ei.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)Y1(c,p),c=ug(c,p)})(t._query,n),new xa(t.firestore,t.converter,ug(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gy extends K1{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Gy(t,n)}_apply(t){const n=(function(o,u,c){if(o.startAt!==null)throw new lt(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new lt(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lu(u,c)})(t._query,this._field,this._direction);return new xa(t.firestore,t.converter,(function(o,u){const c=o.explicitOrderBy.concat([u]);return new el(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function bg(e,t="asc"){const n=t,s=rd("orderBy",e);return Gy._create(s,n)}function LA(e,t,n){if(typeof(n=Ae(n))=="string"){if(n==="")throw new lt(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(t)&&n.indexOf("/")!==-1)throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!yt.isDocumentKey(s))throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ZE(e,new yt(s))}if(n instanceof ge)return ZE(e,n._key);throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function kA(e,t){if(!Array.isArray(e)||e.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Y1(e,t){const n=(function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null})(e.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class PL{convertValue(t,n="none"){switch(wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(br(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Mr(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[yf].arrayValue?.values?.map((s=>Ee(s.doubleValue)));return new Xi(n)}convertGeoPoint(t){return new Qi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Hf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Nu(t));default:return null}}convertTimestamp(t){const n=Sr(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Kt(h1(s),9688,{name:t});const o=new xu(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||Is(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function Q1(e,t,n){let s;return s=e?e.toFirestore(t):t,s}class gu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ta extends G1{constructor(t,n,s,o,u,c){super(t,n,s,o,c),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Jh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(rd("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:Pe("string",Ta._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Jh extends Ta{data(t={}){return super.data(t)}}class Bo{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new gu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Jh(this._firestore,this._userDataWriter,s.key,s,new gu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new Jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>u||d.type!==3)).map((d=>{const p=new Jh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new gu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:LL(d.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=py.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:e})}}function kL(e){e=_i(e,ge);const t=_i(e.firestore,Ca);return AL(Uy(t),e._key).then((n=>W1(t,e,n)))}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:Pe("string",Bo._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class X1 extends PL{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ge(this.firestore,null,n)}}function UL(e,t,n){e=_i(e,ge);const s=_i(e.firestore,Ca),o=Q1(e.converter,t);return Ky(s,[j1(id(s),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,vi.none())])}function Vp(e,t,n,...s){e=_i(e,ge);const o=_i(e.firestore,Ca),u=id(o);let c;return c=typeof(t=Ae(t))=="string"||t instanceof ed?VL(u,"updateDoc",e._key,t,n,s):DL(u,"updateDoc",e._key,t),Ky(o,[c.toMutation(e._key,vi.exists(!0))])}function $1(e,t){const n=_i(e.firestore,Ca),s=wu(e),o=Q1(e.converter,t);return Ky(n,[j1(id(e.firestore),"addDoc",s._key,o,e.converter!==null,{}).toMutation(s._key,vi.exists(!1))]).then((()=>s))}function wg(e,...t){e=Ae(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||PA(t[s])||(n=t[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PA(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let u,c,d;if(e instanceof ge)c=_i(e.firestore,Ca),d=Gf(e._key.path),u={next:p=>{t[s]&&t[s](W1(c,e,p))},error:t[s+1],complete:t[s+2]};else{const p=_i(e,xa);c=_i(p.firestore,Ca),d=p._query;const g=new X1(c);u={next:_=>{t[s]&&t[s](new Bo(c,g,p,_))},error:t[s+1],complete:t[s+2]},xL(e._query)}return(function(g,_,E,A){const V=new P1(A),k=new R1(_,V,E);return g.asyncQueue.enqueueAndForget((async()=>b1(await Tg(g),k))),()=>{V.Nu(),g.asyncQueue.enqueueAndForget((async()=>w1(await Tg(g),k)))}})(Uy(c),d,o,u)}function Ky(e,t){return(function(s,o){const u=new vr;return s.asyncQueue.enqueueAndForget((async()=>cL(await EL(s),o,u))),u.promise})(Uy(e),t)}function W1(e,t,n){const s=n.docs.get(t._key),o=new X1(e);return new Ta(e,o,t._key,s,new gu(n.hasPendingWrites,n.fromCache),t.converter)}function Yy(){return new By("serverTimestamp")}(function(t,n=!0){(function(o){Zo=o})(Ma),Ti(new Jn("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),d=new Ca(new VN(s.getProvider("auth-internal")),new NN(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},d._setSettings(u),d}),"PUBLIC").setMultipleInstances(!0)),Sn(zE,BE,t),Sn(zE,BE,"esm2020")})();const Z1="firebasestorage.googleapis.com",zL="storageBucket",BL=120*1e3,jL=600*1e3;class es extends ti{constructor(t,n,s=0){super(Mp(t),`Firebase Storage: ${n} (${Mp(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,es.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Mp(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ts;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ts||(ts={}));function Mp(e){return"storage/"+e}function FL(){const e="An unknown error occurred, please check the error payload for server response.";return new es(ts.UNKNOWN,e)}function qL(){return new es(ts.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function HL(){return new es(ts.CANCELED,"User canceled the upload/download.")}function GL(e){return new es(ts.INVALID_URL,"Invalid URL '"+e+"'.")}function KL(e){return new es(ts.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function UA(e){return new es(ts.INVALID_ARGUMENT,e)}function J1(){return new es(ts.APP_DELETED,"The Firebase app was deleted.")}function YL(e){return new es(ts.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class gi{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=gi.makeFromUrl(t,n)}catch{return new gi(t,"")}if(s.path==="")return s;throw KL(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(et){et.path.charAt(et.path.length-1)==="/"&&(et.path_=et.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(et){et.path_=decodeURIComponent(et.path)}const _="v[A-Za-z0-9_]+",E=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",V=new RegExp(`^https?://${E}/${_}/b/${o}/o${A}`,"i"),k={bucket:1,path:3},G=n===Z1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",Q=new RegExp(`^https?://${G}/${o}/${j}`,"i"),$=[{regex:d,indices:p,postModify:u},{regex:V,indices:k,postModify:g},{regex:Q,indices:{bucket:1,path:2},postModify:g}];for(let et=0;et<$.length;et++){const st=$[et],ot=st.regex.exec(t);if(ot){const R=ot[st.indices.bucket];let w=ot[st.indices.path];w||(w=""),s=new gi(R,w),st.postModify(s);break}}if(s==null)throw GL(t);return s}}class QL{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function XL(e,t,n){let s=1,o=null,u=null,c=!1,d=0;function p(){return d===2}let g=!1;function _(...j){g||(g=!0,t.apply(null,j))}function E(j){o=setTimeout(()=>{o=null,e(V,p())},j)}function A(){u&&clearTimeout(u)}function V(j,...Q){if(g){A();return}if(j){A(),_.call(null,j,...Q);return}if(p()||c){A(),_.call(null,j,...Q);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,E($)}let k=!1;function G(j){k||(k=!0,A(),!g&&(o!==null?(j||(d=2),clearTimeout(o),E(0)):j||(d=1)))}return E(0),u=setTimeout(()=>{c=!0,G(!0)},n),G}function $L(e){e(!1)}function WL(e){return e!==void 0}function zA(e,t,n,s){if(s<t)throw UA(`Invalid value for '${e}'. Expected ${t} or greater.`);if(s>n)throw UA(`Invalid value for '${e}'. Expected ${n} or less.`)}function ZL(e){const t=encodeURIComponent;let n="?";for(const s in e)if(e.hasOwnProperty(s)){const o=t(s)+"="+t(e[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var wf;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(wf||(wf={}));function JL(e,t){const n=e>=500&&e<600,o=[408,429].indexOf(e)!==-1,u=t.indexOf(e)!==-1;return n||o||u}class tk{constructor(t,n,s,o,u,c,d,p,g,_,E,A=!0,V=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=E,this.retry=A,this.isUsingEmulator=V,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,G)=>{this.resolve_=k,this.reject_=G,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new Bh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(c),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(c),this.pendingConnection_=null;const d=u.getErrorCode()===wf.NO_ERROR,p=u.getStatus();if(!d||JL(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===wf.ABORT;s(!1,new Bh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Bh(g,u))})},n=(s,o)=>{const u=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());WL(p)?u(p):u()}catch(p){c(p)}else if(d!==null){const p=FL();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?J1():HL();c(p)}else{const p=qL();c(p)}};this.canceled_?n(!1,new Bh(!1,null,!0)):this.backoffId_=XL(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&$L(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function ek(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function nk(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ik(e,t){t&&(e["X-Firebase-GMPID"]=t)}function sk(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function rk(e,t,n,s,o,u,c=!0,d=!1){const p=ZL(e.urlParams),g=e.url+p,_=Object.assign({},e.headers);return ik(_,t),ek(_,n),nk(_,u),sk(_,s),new tk(g,e.method,_,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o,c,d)}function ak(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function ok(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}class Rf{constructor(t,n){this._service=t,n instanceof gi?this._location=n:this._location=gi.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Rf(t,n)}get root(){const t=new gi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ok(this._location.path)}get storage(){return this._service}get parent(){const t=ak(this._location.path);if(t===null)return null;const n=new gi(this._location.bucket,t);return new Rf(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw YL(t)}}function BA(e,t){const n=t?.[zL];return n==null?null:gi.makeFromBucketSpec(n,e)}function lk(e,t,n,s={}){e.host=`${t}:${n}`;const o=Da(t);o&&(Xg(`https://${e.host}/b`),$g("Storage",!0)),e._isUsingEmulator=!0,e._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(e._overrideAuthToken=typeof u=="string"?u:ub(u,e.app.options.projectId))}class uk{constructor(t,n,s,o,u,c=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=c,this._bucket=null,this._host=Z1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=BL,this._maxUploadRetryTime=jL,this._requests=new Set,o!=null?this._bucket=gi.makeFromBucketSpec(o,this._host):this._bucket=BA(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=gi.makeFromBucketSpec(this._url,t):this._bucket=BA(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){zA("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){zA("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Rf(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new QL(J1());{const c=rk(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const jA="@firebase/storage",FA="0.14.0";const tR="storage";function ck(e=Pf(),t){e=Ae(e);const s=Vr(e,tR).getImmediate({identifier:t}),o=ab("storage");return o&&hk(s,...o),s}function hk(e,t,n,s={}){lk(e,t,n,s)}function fk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new uk(n,s,o,t,Ma)}function dk(){Ti(new Jn(tR,fk,"PUBLIC").setMultipleInstances(!0)),Sn(jA,FA,""),Sn(jA,FA,"esm2020")}dk();const mk={apiKey:"AIzaSyBIKX3i8LLAtm7-u4Lr1MB_QH6ugzfsYA8",authDomain:"quad-c10ab.firebaseapp.com",projectId:"quad-c10ab",storageBucket:"quad-c10ab.appspot.com",messagingSenderId:"592780294070",appId:"1:592780294070:web:b148005ae592829186b317",measurementId:"G-R6CTEZG1DJ"},od=gb(mk),eR=iO(od),pk=new As,Es=bL(od);ck(od);SN(od);function gk(){const e=async()=>{try{await fM(eR,pk)}catch(t){console.error(t)}};return pt.jsxs("div",{style:{padding:"2rem"},children:[pt.jsx("h1",{children:"Quad"}),pt.jsx("p",{children:"Buy & sell inside your campus"}),pt.jsx("button",{onClick:e,children:"Sign in with Google"})]})}const nR=dt.createContext({});function yk(e){const t=dt.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qy=typeof window<"u",_k=Qy?dt.useLayoutEffect:dt.useEffect,Xy=dt.createContext(null);function $y(e,t){e.indexOf(t)===-1&&e.push(t)}function Wy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Ds=(e,t,n)=>n>t?t:n<e?e:n;let Zy=()=>{};const Vs={},iR=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function sR(e){return typeof e=="object"&&e!==null}const rR=e=>/^0[^.\s]+$/u.test(e);function Jy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zn=e=>e,vk=(e,t)=>n=>t(e(n)),ec=(...e)=>e.reduce(vk),Bu=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class t_{constructor(){this.subscriptions=[]}add(t){return $y(this.subscriptions,t),()=>Wy(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let u=0;u<o;u++){const c=this.subscriptions[u];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $i=e=>e*1e3,Wn=e=>e/1e3;function aR(e,t){return t?e*(1e3/t):0}const oR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Tk=1e-7,Ek=12;function Ak(e,t,n,s,o){let u,c,d=0;do c=t+(n-t)/2,u=oR(c,s,o)-e,u>0?n=c:t=c;while(Math.abs(u)>Tk&&++d<Ek);return c}function nc(e,t,n,s){if(e===t&&n===s)return Zn;const o=u=>Ak(u,0,1,e,n);return u=>u===0||u===1?u:oR(o(u),t,s)}const lR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uR=e=>t=>1-e(1-t),cR=nc(.33,1.53,.69,.99),e_=uR(cR),hR=lR(e_),fR=e=>(e*=2)<1?.5*e_(e):.5*(2-Math.pow(2,-10*(e-1))),n_=e=>1-Math.sin(Math.acos(e)),dR=uR(n_),mR=lR(n_),Sk=nc(.42,0,1,1),bk=nc(0,0,.58,1),pR=nc(.42,0,.58,1),wk=e=>Array.isArray(e)&&typeof e[0]!="number",gR=e=>Array.isArray(e)&&typeof e[0]=="number",Rk={linear:Zn,easeIn:Sk,easeInOut:pR,easeOut:bk,circIn:n_,circInOut:mR,circOut:dR,backIn:e_,backInOut:hR,backOut:cR,anticipate:fR},Ik=e=>typeof e=="string",qA=e=>{if(gR(e)){Zy(e.length===4);const[t,n,s,o]=e;return nc(t,n,s,o)}else if(Ik(e))return Rk[e];return e},jh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Ck(e,t){let n=new Set,s=new Set,o=!1,u=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function p(_){c.has(_)&&(g.schedule(_),e()),_(d)}const g={schedule:(_,E=!1,A=!1)=>{const k=A&&o?n:s;return E&&c.add(_),k.has(_)||k.add(_),_},cancel:_=>{s.delete(_),c.delete(_)},process:_=>{if(d=_,o){u=!0;return}o=!0,[n,s]=[s,n],n.forEach(p),n.clear(),o=!1,u&&(u=!1,g.process(_))}};return g}const Dk=40;function yR(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=jh.reduce(($,et)=>($[et]=Ck(u),$),{}),{setup:d,read:p,resolveKeyframes:g,preUpdate:_,update:E,preRender:A,render:V,postRender:k}=c,G=()=>{const $=Vs.useManualTiming?o.timestamp:performance.now();n=!1,Vs.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min($-o.timestamp,Dk),1)),o.timestamp=$,o.isProcessing=!0,d.process(o),p.process(o),g.process(o),_.process(o),E.process(o),A.process(o),V.process(o),k.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(G))},j=()=>{n=!0,s=!0,o.isProcessing||e(G)};return{schedule:jh.reduce(($,et)=>{const st=c[et];return $[et]=(ot,R=!1,w=!1)=>(n||j(),st.schedule(ot,R,w)),$},{}),cancel:$=>{for(let et=0;et<jh.length;et++)c[jh[et]].cancel($)},state:o,steps:c}}const{schedule:ue,cancel:Cr,state:We,steps:Op}=yR(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zn,!0);let tf;function Vk(){tf=void 0}const An={now:()=>(tf===void 0&&An.set(We.isProcessing||Vs.useManualTiming?We.timestamp:performance.now()),tf),set:e=>{tf=e,queueMicrotask(Vk)}},_R=e=>t=>typeof t=="string"&&t.startsWith(e),vR=_R("--"),Mk=_R("var(--"),i_=e=>Mk(e)?Ok.test(e.split("/*")[0].trim()):!1,Ok=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,il={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ju={...il,transform:e=>Ds(0,1,e)},Fh={...il,default:1},Ru=e=>Math.round(e*1e5)/1e5,s_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Nk(e){return e==null}const xk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,r_=(e,t)=>n=>!!(typeof n=="string"&&xk.test(n)&&n.startsWith(e)||t&&!Nk(n)&&Object.prototype.hasOwnProperty.call(n,t)),TR=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,u,c,d]=s.match(s_);return{[e]:parseFloat(o),[t]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},Pk=e=>Ds(0,255,e),Np={...il,transform:e=>Math.round(Pk(e))},ya={test:r_("rgb","red"),parse:TR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Np.transform(e)+", "+Np.transform(t)+", "+Np.transform(n)+", "+Ru(ju.transform(s))+")"};function Lk(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Rg={test:r_("#"),parse:Lk,transform:ya.transform},ic=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hr=ic("deg"),Wi=ic("%"),Tt=ic("px"),kk=ic("vh"),Uk=ic("vw"),HA={...Wi,parse:e=>Wi.parse(e)/100,transform:e=>Wi.transform(e*100)},Vo={test:r_("hsl","hue"),parse:TR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Wi.transform(Ru(t))+", "+Wi.transform(Ru(n))+", "+Ru(ju.transform(s))+")"},Ne={test:e=>ya.test(e)||Rg.test(e)||Vo.test(e),parse:e=>ya.test(e)?ya.parse(e):Vo.test(e)?Vo.parse(e):Rg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ya.transform(e):Vo.transform(e),getAnimatableNone:e=>{const t=Ne.parse(e);return t.alpha=0,Ne.transform(t)}},zk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Bk(e){return isNaN(e)&&typeof e=="string"&&(e.match(s_)?.length||0)+(e.match(zk)?.length||0)>0}const ER="number",AR="color",jk="var",Fk="var(",GA="${}",qk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fu(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let u=0;const d=t.replace(qk,p=>(Ne.test(p)?(s.color.push(u),o.push(AR),n.push(Ne.parse(p))):p.startsWith(Fk)?(s.var.push(u),o.push(jk),n.push(p)):(s.number.push(u),o.push(ER),n.push(parseFloat(p))),++u,GA)).split(GA);return{values:n,split:d,indexes:s,types:o}}function SR(e){return Fu(e).values}function bR(e){const{split:t,types:n}=Fu(e),s=t.length;return o=>{let u="";for(let c=0;c<s;c++)if(u+=t[c],o[c]!==void 0){const d=n[c];d===ER?u+=Ru(o[c]):d===AR?u+=Ne.transform(o[c]):u+=o[c]}return u}}const Hk=e=>typeof e=="number"?0:Ne.test(e)?Ne.getAnimatableNone(e):e;function Gk(e){const t=SR(e);return bR(e)(t.map(Hk))}const Dr={test:Bk,parse:SR,createTransformer:bR,getAnimatableNone:Gk};function xp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Kk({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,u=0,c=0;if(!t)o=u=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,p=2*n-d;o=xp(p,d,e+1/3),u=xp(p,d,e),c=xp(p,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:s}}function If(e,t){return n=>n>0?t:e}const ce=(e,t,n)=>e+(t-e)*n,Pp=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},Yk=[Rg,ya,Vo],Qk=e=>Yk.find(t=>t.test(e));function KA(e){const t=Qk(e);if(!t)return!1;let n=t.parse(e);return t===Vo&&(n=Kk(n)),n}const YA=(e,t)=>{const n=KA(e),s=KA(t);if(!n||!s)return If(e,t);const o={...n};return u=>(o.red=Pp(n.red,s.red,u),o.green=Pp(n.green,s.green,u),o.blue=Pp(n.blue,s.blue,u),o.alpha=ce(n.alpha,s.alpha,u),ya.transform(o))},Ig=new Set(["none","hidden"]);function Xk(e,t){return Ig.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function $k(e,t){return n=>ce(e,t,n)}function a_(e){return typeof e=="number"?$k:typeof e=="string"?i_(e)?If:Ne.test(e)?YA:Jk:Array.isArray(e)?wR:typeof e=="object"?Ne.test(e)?YA:Wk:If}function wR(e,t){const n=[...e],s=n.length,o=e.map((u,c)=>a_(u)(u,t[c]));return u=>{for(let c=0;c<s;c++)n[c]=o[c](u);return n}}function Wk(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=a_(e[o])(e[o],t[o]));return o=>{for(const u in s)n[u]=s[u](o);return n}}function Zk(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const u=t.types[o],c=e.indexes[u][s[u]],d=e.values[c]??0;n[o]=d,s[u]++}return n}const Jk=(e,t)=>{const n=Dr.createTransformer(t),s=Fu(e),o=Fu(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Ig.has(e)&&!o.values.length||Ig.has(t)&&!s.values.length?Xk(e,t):ec(wR(Zk(s,o),o.values),n):If(e,t)};function RR(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ce(e,t,n):a_(e)(e,t)}const t4=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>Cr(t),now:()=>We.isProcessing?We.timestamp:An.now()}},IR=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let u=0;u<o;u++)s+=Math.round(e(u/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Cf=2e4;function o_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Cf;)t+=n,s=e.next(t);return t>=Cf?1/0:t}function e4(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(o_(s),Cf);return{type:"keyframes",ease:u=>s.next(o*u).value/t,duration:Wn(o)}}const n4=5;function CR(e,t,n){const s=Math.max(t-n4,0);return aR(n-e(s),t-s)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lp=.001;function i4({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:s=pe.mass}){let o,u,c=1-t;c=Ds(pe.minDamping,pe.maxDamping,c),e=Ds(pe.minDuration,pe.maxDuration,Wn(e)),c<1?(o=g=>{const _=g*c,E=_*e,A=_-n,V=Cg(g,c),k=Math.exp(-E);return Lp-A/V*k},u=g=>{const E=g*c*e,A=E*n+n,V=Math.pow(c,2)*Math.pow(g,2)*e,k=Math.exp(-E),G=Cg(Math.pow(g,2),c);return(-o(g)+Lp>0?-1:1)*((A-V)*k)/G}):(o=g=>{const _=Math.exp(-g*e),E=(g-n)*e+1;return-Lp+_*E},u=g=>{const _=Math.exp(-g*e),E=(n-g)*(e*e);return _*E});const d=5/e,p=r4(o,u,d);if(e=$i(e),isNaN(p))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const g=Math.pow(p,2)*s;return{stiffness:g,damping:c*2*Math.sqrt(s*g),duration:e}}}const s4=12;function r4(e,t,n){let s=n;for(let o=1;o<s4;o++)s=s-e(s)/t(s);return s}function Cg(e,t){return e*Math.sqrt(1-t*t)}const a4=["duration","bounce"],o4=["stiffness","damping","mass"];function QA(e,t){return t.some(n=>e[n]!==void 0)}function l4(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!QA(e,o4)&&QA(e,a4))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,u=2*Ds(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:u}}else{const n=i4(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Df(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:p,damping:g,mass:_,duration:E,velocity:A,isResolvedFromDuration:V}=l4({...n,velocity:-Wn(n.velocity||0)}),k=A||0,G=g/(2*Math.sqrt(p*_)),j=c-u,Q=Wn(Math.sqrt(p/_)),nt=Math.abs(j)<5;s||(s=nt?pe.restSpeed.granular:pe.restSpeed.default),o||(o=nt?pe.restDelta.granular:pe.restDelta.default);let $;if(G<1){const st=Cg(Q,G);$=ot=>{const R=Math.exp(-G*Q*ot);return c-R*((k+G*Q*j)/st*Math.sin(st*ot)+j*Math.cos(st*ot))}}else if(G===1)$=st=>c-Math.exp(-Q*st)*(j+(k+Q*j)*st);else{const st=Q*Math.sqrt(G*G-1);$=ot=>{const R=Math.exp(-G*Q*ot),w=Math.min(st*ot,300);return c-R*((k+G*Q*j)*Math.sinh(w)+st*j*Math.cosh(w))/st}}const et={calculatedDuration:V&&E||null,next:st=>{const ot=$(st);if(V)d.done=st>=E;else{let R=st===0?k:0;G<1&&(R=st===0?$i(k):CR($,st,ot));const w=Math.abs(R)<=s,I=Math.abs(c-ot)<=o;d.done=w&&I}return d.value=d.done?c:ot,d},toString:()=>{const st=Math.min(o_(et),Cf),ot=IR(R=>et.next(st*R).value,st,30);return st+"ms "+ot},toTransition:()=>{}};return et}Df.applyToOptions=e=>{const t=e4(e,100,Df);return e.ease=t.ease,e.duration=$i(t.duration),e.type="keyframes",e};function Dg({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:p,restDelta:g=.5,restSpeed:_}){const E=e[0],A={done:!1,value:E},V=w=>d!==void 0&&w<d||p!==void 0&&w>p,k=w=>d===void 0?p:p===void 0||Math.abs(d-w)<Math.abs(p-w)?d:p;let G=n*t;const j=E+G,Q=c===void 0?j:c(j);Q!==j&&(G=Q-E);const nt=w=>-G*Math.exp(-w/s),$=w=>Q+nt(w),et=w=>{const I=nt(w),x=$(w);A.done=Math.abs(I)<=g,A.value=A.done?Q:x};let st,ot;const R=w=>{V(A.value)&&(st=w,ot=Df({keyframes:[A.value,k(A.value)],velocity:CR($,w,A.value),damping:o,stiffness:u,restDelta:g,restSpeed:_}))};return R(0),{calculatedDuration:null,next:w=>{let I=!1;return!ot&&st===void 0&&(I=!0,et(w),R(w)),st!==void 0&&w>=st?ot.next(w-st):(!I&&et(w),A)}}}function u4(e,t,n){const s=[],o=n||Vs.mix||RR,u=e.length-1;for(let c=0;c<u;c++){let d=o(e[c],e[c+1]);if(t){const p=Array.isArray(t)?t[c]||Zn:t;d=ec(p,d)}s.push(d)}return s}function c4(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const u=e.length;if(Zy(u===t.length),u===1)return()=>t[0];if(u===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[u-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=u4(t,s,o),p=d.length,g=_=>{if(c&&_<e[0])return t[0];let E=0;if(p>1)for(;E<e.length-2&&!(_<e[E+1]);E++);const A=Bu(e[E],e[E+1],_);return d[E](A)};return n?_=>g(Ds(e[0],e[u-1],_)):g}function h4(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Bu(0,t,s);e.push(ce(n,1,o))}}function f4(e){const t=[0];return h4(t,e.length-1),t}function d4(e,t){return e.map(n=>n*t)}function m4(e,t){return e.map(()=>t||pR).splice(0,e.length-1)}function Iu({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=wk(s)?s.map(qA):qA(s),u={done:!1,value:t[0]},c=d4(n&&n.length===t.length?n:f4(t),e),d=c4(c,t,{ease:Array.isArray(o)?o:m4(t,o)});return{calculatedDuration:e,next:p=>(u.value=d(p),u.done=p>=e,u)}}const p4=e=>e!==null;function l_(e,{repeat:t,repeatType:n="loop"},s,o=1){const u=e.filter(p4),d=o<0||t&&n!=="loop"&&t%2===1?0:u.length-1;return!d||s===void 0?u[d]:s}const g4={decay:Dg,inertia:Dg,tween:Iu,keyframes:Iu,spring:Df};function DR(e){typeof e.type=="string"&&(e.type=g4[e.type])}class u_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const y4=e=>e/100;class c_ extends u_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;DR(t);const{type:n=Iu,repeat:s=0,repeatDelay:o=0,repeatType:u,velocity:c=0}=t;let{keyframes:d}=t;const p=n||Iu;p!==Iu&&typeof d[0]!="number"&&(this.mixKeyframes=ec(y4,RR(d[0],d[1])),d=[0,100]);const g=p({...t,keyframes:d});u==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...d].reverse(),velocity:-c})),g.calculatedDuration===null&&(g.calculatedDuration=o_(g));const{calculatedDuration:_}=g;this.calculatedDuration=_,this.resolvedDuration=_+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=g}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:u,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:g=0,keyframes:_,repeat:E,repeatType:A,repeatDelay:V,type:k,onUpdate:G,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),nt=this.playbackSpeed>=0?Q<0:Q>o;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let $=this.currentTime,et=s;if(E){const w=Math.min(this.currentTime,o)/d;let I=Math.floor(w),x=w%1;!x&&w>=1&&(x=1),x===1&&I--,I=Math.min(I,E+1),I%2&&(A==="reverse"?(x=1-x,V&&(x-=V/d)):A==="mirror"&&(et=c)),$=Ds(0,1,x)*d}const st=nt?{done:!1,value:_[0]}:et.next($);u&&(st.value=u(st.value));let{done:ot}=st;!nt&&p!==null&&(ot=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ot);return R&&k!==Dg&&(st.value=l_(_,this.options,j,this.speed)),G&&G(st.value),R&&this.finish(),st}then(t,n){return this.finished.then(t,n)}get duration(){return Wn(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wn(t)}get time(){return Wn(this.currentTime)}set time(t){t=$i(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Wn(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=t4,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function _4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const _a=e=>e*180/Math.PI,Vg=e=>{const t=_a(Math.atan2(e[1],e[0]));return Mg(t)},v4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Vg,rotateZ:Vg,skewX:e=>_a(Math.atan(e[1])),skewY:e=>_a(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mg=e=>(e=e%360,e<0&&(e+=360),e),XA=Vg,$A=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),WA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),T4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$A,scaleY:WA,scale:e=>($A(e)+WA(e))/2,rotateX:e=>Mg(_a(Math.atan2(e[6],e[5]))),rotateY:e=>Mg(_a(Math.atan2(-e[2],e[0]))),rotateZ:XA,rotate:XA,skewX:e=>_a(Math.atan(e[4])),skewY:e=>_a(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Og(e){return e.includes("scale")?1:0}function Ng(e,t){if(!e||e==="none")return Og(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=T4,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=v4,o=d}if(!o)return Og(t);const u=s[t],c=o[1].split(",").map(A4);return typeof u=="function"?u(c):c[u]}const E4=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Ng(n,t)};function A4(e){return parseFloat(e.trim())}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rl=new Set(sl),ZA=e=>e===il||e===Tt,S4=new Set(["x","y","z"]),b4=sl.filter(e=>!S4.has(e));function w4(e){const t=[];return b4.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ea={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ng(t,"x"),y:(e,{transform:t})=>Ng(t,"y")};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const Aa=new Set;let xg=!1,Pg=!1,Lg=!1;function VR(){if(Pg){const e=Array.from(Aa).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=w4(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([u,c])=>{s.getValue(u)?.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Pg=!1,xg=!1,Aa.forEach(e=>e.complete(Lg)),Aa.clear()}function MR(){Aa.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Pg=!0)})}function R4(){Lg=!0,MR(),VR(),Lg=!1}class h_{constructor(t,n,s,o,u,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=u,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Aa.add(this),xg||(xg=!0,ue.read(MR),ue.resolveKeyframes(VR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const u=o?.get(),c=t[t.length-1];if(u!==void 0)t[0]=u;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&u===void 0&&o.set(t[0])}_4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Aa.delete(this)}cancel(){this.state==="scheduled"&&(Aa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const I4=e=>e.startsWith("--");function C4(e,t,n){I4(t)?e.style.setProperty(t,n):e.style[t]=n}const D4=Jy(()=>window.ScrollTimeline!==void 0),V4={};function M4(e,t){const n=Jy(e);return()=>V4[t]??n()}const OR=M4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yu=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,JA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yu([0,.65,.55,1]),circOut:yu([.55,0,1,.45]),backIn:yu([.31,.01,.66,-.59]),backOut:yu([.33,1.53,.69,.99])};function NR(e,t){if(e)return typeof e=="function"?OR()?IR(e,t):"ease-out":gR(e)?yu(e):Array.isArray(e)?e.map(n=>NR(n,t)||JA.easeOut):JA[e]}function O4(e,t,n,{delay:s=0,duration:o=300,repeat:u=0,repeatType:c="loop",ease:d="easeOut",times:p}={},g=void 0){const _={[t]:n};p&&(_.offset=p);const E=NR(d,o);Array.isArray(E)&&(_.easing=E);const A={delay:s,duration:o,easing:Array.isArray(E)?"linear":E,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"};return g&&(A.pseudoElement=g),e.animate(_,A)}function xR(e){return typeof e=="function"&&"applyToOptions"in e}function N4({type:e,...t}){return xR(e)&&OR()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class x4 extends u_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:u,allowFlatten:c=!1,finalKeyframe:d,onComplete:p}=t;this.isPseudoElement=!!u,this.allowFlatten=c,this.options=t,Zy(typeof t.type!="string");const g=N4(t);this.animation=O4(n,s,o,g,u),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!u){const _=l_(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(_):C4(n,s,_),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return Wn(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Wn(t)}get time(){return Wn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$i(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&D4()?(this.animation.timeline=t,Zn):n(this)}}const PR={anticipate:fR,backInOut:hR,circInOut:mR};function P4(e){return e in PR}function L4(e){typeof e.ease=="string"&&P4(e.ease)&&(e.ease=PR[e.ease])}const tS=10;class k4 extends x4{constructor(t){L4(t),DR(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:u,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new c_({...c,autoplay:!1}),p=$i(this.finishedTime??this.time);n.setWithVelocity(d.sample(p-tS).value,d.sample(p).value,tS),d.stop()}}const eS=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Dr.test(e)||e==="0")&&!e.startsWith("url("));function U4(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function z4(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const u=e[e.length-1],c=eS(o,t),d=eS(u,t);return!c||!d?!1:U4(e)||(n==="spring"||xR(n))&&s}function kg(e){e.duration=0,e.type="keyframes"}const B4=new Set(["opacity","clipPath","filter","transform"]),j4=Jy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function F4(e){const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:u,type:c}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=t.owner.getProps();return j4()&&n&&B4.has(n)&&(n!=="transform"||!g)&&!p&&!s&&o!=="mirror"&&u!==0&&c!=="inertia"}const q4=40;class H4 extends u_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:c="loop",keyframes:d,name:p,motionValue:g,element:_,...E}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=An.now();const A={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:u,repeatType:c,name:p,motionValue:g,element:_,...E},V=_?.KeyframeResolver||h_;this.keyframeResolver=new V(d,(k,G,j)=>this.onKeyframesResolved(k,G,A,!j),p,g,_),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:u,type:c,velocity:d,delay:p,isHandoff:g,onUpdate:_}=s;this.resolvedAt=An.now(),z4(t,u,c,d)||((Vs.instantAnimations||!p)&&_?.(l_(t,s,n)),t[0]=t[t.length-1],kg(s),s.repeat=0);const A={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>q4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},V=!g&&F4(A)?new k4({...A,element:A.motionValue.owner.current}):new c_(A);V.finished.then(()=>this.notifyFinished()).catch(Zn),this.pendingTimeline&&(this.stopTimeline=V.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=V}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),R4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const G4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function K4(e){const t=G4.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function LR(e,t,n=1){const[s,o]=K4(e);if(!s)return;const u=window.getComputedStyle(t).getPropertyValue(s);if(u){const c=u.trim();return iR(c)?parseFloat(c):c}return i_(o)?LR(o,t,n+1):o}function f_(e,t){return e?.[t]??e?.default??e}const kR=new Set(["width","height","top","left","right","bottom",...sl]),Y4={test:e=>e==="auto",parse:e=>e},UR=e=>t=>t.test(e),zR=[il,Tt,Wi,hr,Uk,kk,Y4],nS=e=>zR.find(UR(e));function Q4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||rR(e):!0}const X4=new Set(["brightness","contrast","saturate","opacity"]);function $4(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(s_)||[];if(!s)return e;const o=n.replace(s,"");let u=X4.has(t)?1:0;return s!==n&&(u*=100),t+"("+u+o+")"}const W4=/\b([a-z-]*)\(.*?\)/gu,Ug={...Dr,getAnimatableNone:e=>{const t=e.match(W4);return t?t.map($4).join(" "):e}},iS={...il,transform:Math.round},Z4={rotate:hr,rotateX:hr,rotateY:hr,rotateZ:hr,scale:Fh,scaleX:Fh,scaleY:Fh,scaleZ:Fh,skew:hr,skewX:hr,skewY:hr,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:ju,originX:HA,originY:HA,originZ:Tt},d_={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,backgroundPositionX:Tt,backgroundPositionY:Tt,...Z4,zIndex:iS,fillOpacity:ju,strokeOpacity:ju,numOctaves:iS},J4={...d_,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:Ug,WebkitFilter:Ug},BR=e=>J4[e];function jR(e,t){let n=BR(e);return n!==Ug&&(n=Dr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tU=new Set(["auto","none","0"]);function eU(e,t,n){let s=0,o;for(;s<e.length&&!o;){const u=e[s];typeof u=="string"&&!tU.has(u)&&Fu(u).values.length&&(o=e[s]),s++}if(o&&n)for(const u of t)e[u]=jR(n,o)}class nU extends h_{constructor(t,n,s,o,u){super(t,n,s,o,u,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),i_(g))){const _=LR(g,n.current);_!==void 0&&(t[p]=_),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!kR.has(s)||t.length!==2)return;const[o,u]=t,c=nS(o),d=nS(u);if(c!==d)if(ZA(c)&&ZA(d))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else Ea[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||Q4(t[o]))&&s.push(o);s.length&&eU(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ea[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const u=s.length-1,c=s[u];s[u]=Ea[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,p])=>{t.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function FR(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const o=document.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const qR=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function iU(e){return sR(e)&&"offsetHeight"in e}const sS=30,sU=e=>!isNaN(parseFloat(e));class rU{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=An.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=sU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new t_);const s=this.events[t].add(n);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>sS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,sS);return aR(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xo(e,t){return new rU(e,t)}const{schedule:m_}=yR(queueMicrotask,!1),mi={x:!1,y:!1};function HR(){return mi.x||mi.y}function aU(e){return e==="x"||e==="y"?mi[e]?null:(mi[e]=!0,()=>{mi[e]=!1}):mi.x||mi.y?null:(mi.x=mi.y=!0,()=>{mi.x=mi.y=!1})}function GR(e,t){const n=FR(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function rS(e){return!(e.pointerType==="touch"||HR())}function oU(e,t,n={}){const[s,o,u]=GR(e,n),c=d=>{if(!rS(d))return;const{target:p}=d,g=t(p,d);if(typeof g!="function"||!p)return;const _=E=>{rS(E)&&(g(E),p.removeEventListener("pointerleave",_))};p.addEventListener("pointerleave",_,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),u}const KR=(e,t)=>t?e===t?!0:KR(e,t.parentElement):!1,p_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,lU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uU(e){return lU.has(e.tagName)||e.tabIndex!==-1}const ef=new WeakSet;function aS(e){return t=>{t.key==="Enter"&&e(t)}}function kp(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const cU=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=aS(()=>{if(ef.has(n))return;kp(n,"down");const o=aS(()=>{kp(n,"up")}),u=()=>kp(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",u,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function oS(e){return p_(e)&&!HR()}function hU(e,t,n={}){const[s,o,u]=GR(e,n),c=d=>{const p=d.currentTarget;if(!oS(d))return;ef.add(p);const g=t(p,d),_=(V,k)=>{window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",A),ef.has(p)&&ef.delete(p),oS(V)&&typeof g=="function"&&g(V,{success:k})},E=V=>{_(V,p===window||p===document||n.useGlobalTarget||KR(p,V.target))},A=V=>{_(V,!1)};window.addEventListener("pointerup",E,o),window.addEventListener("pointercancel",A,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),iU(d)&&(d.addEventListener("focus",g=>cU(g,o)),!uU(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),u}function YR(e){return sR(e)&&"ownerSVGElement"in e}function fU(e){return YR(e)&&e.tagName==="svg"}const an=e=>!!(e&&e.getVelocity),dU=[...zR,Ne,Dr],mU=e=>dU.find(UR(e)),QR=dt.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function pU(e=!0){const t=dt.useContext(Xy);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,u=dt.useId();dt.useEffect(()=>{if(e)return o(u)},[e]);const c=dt.useCallback(()=>e&&s&&s(u),[u,s,e]);return!n&&s?[!1,c]:[!0]}const XR=dt.createContext({strict:!1}),lS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$o={};for(const e in lS)$o[e]={isEnabled:t=>lS[e].some(n=>!!t[n])};function gU(e){for(const t in e)$o[t]={...$o[t],...e[t]}}const yU=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vf(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yU.has(e)}let $R=e=>!Vf(e);function _U(e){typeof e=="function"&&($R=t=>t.startsWith("on")?!Vf(t):e(t))}try{_U(require("@emotion/is-prop-valid").default)}catch{}function vU(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||($R(o)||n===!0&&Vf(o)||!t&&!Vf(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const ld=dt.createContext({});function ud(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qu(e){return typeof e=="string"||Array.isArray(e)}const g_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],y_=["initial",...g_];function cd(e){return ud(e.animate)||y_.some(t=>qu(e[t]))}function WR(e){return!!(cd(e)||e.variants)}function TU(e,t){if(cd(e)){const{initial:n,animate:s}=e;return{initial:n===!1||qu(n)?n:void 0,animate:qu(s)?s:void 0}}return e.inherit!==!1?t:{}}function EU(e){const{initial:t,animate:n}=TU(e,dt.useContext(ld));return dt.useMemo(()=>({initial:t,animate:n}),[uS(t),uS(n)])}function uS(e){return Array.isArray(e)?e.join(" "):e}function cS(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const fu={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Tt.test(e))e=parseFloat(e);else return e;const n=cS(e,t.target.x),s=cS(e,t.target.y);return`${n}% ${s}%`}},AU={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Dr.parse(e);if(o.length>5)return s;const u=Dr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,p=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=p;const g=ce(d,p,.5);return typeof o[2+c]=="number"&&(o[2+c]/=g),typeof o[3+c]=="number"&&(o[3+c]/=g),u(o)}},zg={borderRadius:{...fu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fu,borderTopRightRadius:fu,borderBottomLeftRadius:fu,borderBottomRightRadius:fu,boxShadow:AU};function ZR(e,{layout:t,layoutId:n}){return rl.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!zg[e]||e==="opacity")}const SU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bU=sl.length;function wU(e,t,n){let s="",o=!0;for(let u=0;u<bU;u++){const c=sl[u],d=e[c];if(d===void 0)continue;let p=!0;if(typeof d=="number"?p=d===(c.startsWith("scale")?1:0):p=parseFloat(d)===0,!p||n){const g=qR(d,d_[c]);if(!p){o=!1;const _=SU[c]||c;s+=`${_}(${g}) `}n&&(t[c]=g)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function __(e,t,n){const{style:s,vars:o,transformOrigin:u}=e;let c=!1,d=!1;for(const p in t){const g=t[p];if(rl.has(p)){c=!0;continue}else if(vR(p)){o[p]=g;continue}else{const _=qR(g,d_[p]);p.startsWith("origin")?(d=!0,u[p]=_):s[p]=_}}if(t.transform||(c||n?s.transform=wU(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:p="50%",originY:g="50%",originZ:_=0}=u;s.transformOrigin=`${p} ${g} ${_}`}}const v_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function JR(e,t,n){for(const s in t)!an(t[s])&&!ZR(s,n)&&(e[s]=t[s])}function RU({transformTemplate:e},t){return dt.useMemo(()=>{const n=v_();return __(n,t,e),Object.assign({},n.vars,n.style)},[t])}function IU(e,t){const n=e.style||{},s={};return JR(s,n,e),Object.assign(s,RU(e,t)),s}function CU(e,t){const n={},s=IU(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const DU={offset:"stroke-dashoffset",array:"stroke-dasharray"},VU={offset:"strokeDashoffset",array:"strokeDasharray"};function MU(e,t,n=1,s=0,o=!0){e.pathLength=1;const u=o?DU:VU;e[u.offset]=Tt.transform(-s);const c=Tt.transform(t),d=Tt.transform(n);e[u.array]=`${c} ${d}`}function tI(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:u=1,pathOffset:c=0,...d},p,g,_){if(__(e,d,g),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:E,style:A}=e;E.transform&&(A.transform=E.transform,delete E.transform),(A.transform||E.transformOrigin)&&(A.transformOrigin=E.transformOrigin??"50% 50%",delete E.transformOrigin),A.transform&&(A.transformBox=_?.transformBox??"fill-box",delete E.transformBox),t!==void 0&&(E.x=t),n!==void 0&&(E.y=n),s!==void 0&&(E.scale=s),o!==void 0&&MU(E,o,u,c,!1)}const eI=()=>({...v_(),attrs:{}}),nI=e=>typeof e=="string"&&e.toLowerCase()==="svg";function OU(e,t,n,s){const o=dt.useMemo(()=>{const u=eI();return tI(u,t,nI(s),e.transformTemplate,e.style),{...u.attrs,style:{...u.style}}},[t]);if(e.style){const u={};JR(u,e.style,e),o.style={...u,...o.style}}return o}const NU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T_(e){return typeof e!="string"||e.includes("-")?!1:!!(NU.indexOf(e)>-1||/[A-Z]/u.test(e))}function xU(e,t,n,{latestValues:s},o,u=!1){const d=(T_(e)?OU:CU)(t,s,o,e),p=vU(t,typeof e=="string",u),g=e!==dt.Fragment?{...p,...d,ref:n}:{},{children:_}=t,E=dt.useMemo(()=>an(_)?_.get():_,[_]);return dt.createElement(e,{...g,children:E})}function hS(e){const t=[{},{}];return e?.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function E_(e,t,n,s){if(typeof t=="function"){const[o,u]=hS(s);t=t(n!==void 0?n:e.custom,o,u)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,u]=hS(s);t=t(n!==void 0?n:e.custom,o,u)}return t}function nf(e){return an(e)?e.get():e}function PU({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:LU(n,s,o,e),renderState:t()}}function LU(e,t,n,s){const o={},u=s(e,{});for(const A in u)o[A]=nf(u[A]);let{initial:c,animate:d}=e;const p=cd(e),g=WR(e);t&&g&&!p&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let _=n?n.initial===!1:!1;_=_||c===!1;const E=_?d:c;if(E&&typeof E!="boolean"&&!ud(E)){const A=Array.isArray(E)?E:[E];for(let V=0;V<A.length;V++){const k=E_(e,A[V]);if(k){const{transitionEnd:G,transition:j,...Q}=k;for(const nt in Q){let $=Q[nt];if(Array.isArray($)){const et=_?$.length-1:0;$=$[et]}$!==null&&(o[nt]=$)}for(const nt in G)o[nt]=G[nt]}}}return o}const iI=e=>(t,n)=>{const s=dt.useContext(ld),o=dt.useContext(Xy),u=()=>PU(e,t,s,o);return n?u():yk(u)};function A_(e,t,n){const{style:s}=e,o={};for(const u in s)(an(s[u])||t.style&&an(t.style[u])||ZR(u,e)||n?.getValue(u)?.liveStyle!==void 0)&&(o[u]=s[u]);return o}const kU=iI({scrapeMotionValuesFromProps:A_,createRenderState:v_});function sI(e,t,n){const s=A_(e,t,n);for(const o in e)if(an(e[o])||an(t[o])){const u=sl.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[u]=e[o]}return s}const UU=iI({scrapeMotionValuesFromProps:sI,createRenderState:eI}),zU=Symbol.for("motionComponentSymbol");function Mo(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function BU(e,t,n){return dt.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Mo(n)&&(n.current=s))},[t])}const S_=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jU="framerAppearId",rI="data-"+S_(jU),aI=dt.createContext({});function FU(e,t,n,s,o){const{visualElement:u}=dt.useContext(ld),c=dt.useContext(XR),d=dt.useContext(Xy),p=dt.useContext(QR).reducedMotion,g=dt.useRef(null);s=s||c.renderer,!g.current&&s&&(g.current=s(e,{visualState:t,parent:u,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:p}));const _=g.current,E=dt.useContext(aI);_&&!_.projection&&o&&(_.type==="html"||_.type==="svg")&&qU(g.current,n,o,E);const A=dt.useRef(!1);dt.useInsertionEffect(()=>{_&&A.current&&_.update(n,d)});const V=n[rI],k=dt.useRef(!!V&&!window.MotionHandoffIsComplete?.(V)&&window.MotionHasOptimisedAnimation?.(V));return _k(()=>{_&&(A.current=!0,window.MotionIsMounted=!0,_.updateFeatures(),_.scheduleRenderMicrotask(),k.current&&_.animationState&&_.animationState.animateChanges())}),dt.useEffect(()=>{_&&(!k.current&&_.animationState&&_.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(V)}),k.current=!1),_.enteringChildren=void 0)}),_}function qU(e,t,n,s){const{layoutId:o,layout:u,drag:c,dragConstraints:d,layoutScroll:p,layoutRoot:g,layoutCrossfade:_}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:oI(e.parent)),e.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!c||d&&Mo(d),visualElement:e,animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,crossfade:_,layoutScroll:p,layoutRoot:g})}function oI(e){if(e)return e.options.allowProjection!==!1?e.projection:oI(e.parent)}function Up(e,{forwardMotionProps:t=!1}={},n,s){n&&gU(n);const o=T_(e)?UU:kU;function u(d,p){let g;const _={...dt.useContext(QR),...d,layoutId:HU(d)},{isStatic:E}=_,A=EU(d),V=o(d,E);if(!E&&Qy){GU();const k=KU(_);g=k.MeasureLayout,A.visualElement=FU(e,V,_,s,k.ProjectionNode)}return pt.jsxs(ld.Provider,{value:A,children:[g&&A.visualElement?pt.jsx(g,{visualElement:A.visualElement,..._}):null,xU(e,d,BU(V,A.visualElement,p),V,E,t)]})}u.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=dt.forwardRef(u);return c[zU]=e,c}function HU({layoutId:e}){const t=dt.useContext(nR).id;return t&&e!==void 0?t+"-"+e:e}function GU(e,t){dt.useContext(XR).strict}function KU(e){const{drag:t,layout:n}=$o;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function YU(e,t){if(typeof Proxy>"u")return Up;const n=new Map,s=(u,c)=>Up(u,c,e,t),o=(u,c)=>s(u,c);return new Proxy(o,{get:(u,c)=>c==="create"?s:(n.has(c)||n.set(c,Up(c,void 0,e,t)),n.get(c))})}function lI({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function QU({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function XU(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zp(e){return e===void 0||e===1}function Bg({scale:e,scaleX:t,scaleY:n}){return!zp(e)||!zp(t)||!zp(n)}function da(e){return Bg(e)||uI(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function uI(e){return fS(e.x)||fS(e.y)}function fS(e){return e&&e!=="0%"}function Mf(e,t,n){const s=e-n,o=t*s;return n+o}function dS(e,t,n,s,o){return o!==void 0&&(e=Mf(e,o,s)),Mf(e,n,s)+t}function jg(e,t=0,n=1,s,o){e.min=dS(e.min,t,n,s,o),e.max=dS(e.max,t,n,s,o)}function cI(e,{x:t,y:n}){jg(e.x,t.translate,t.scale,t.originPoint),jg(e.y,n.translate,n.scale,n.originPoint)}const mS=.999999999999,pS=1.0000000000001;function $U(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let u,c;for(let d=0;d<o;d++){u=n[d],c=u.projectionDelta;const{visualElement:p}=u.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&u.options.layoutScroll&&u.scroll&&u!==u.root&&No(e,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,cI(e,c)),s&&da(u.latestValues)&&No(e,u.latestValues))}t.x<pS&&t.x>mS&&(t.x=1),t.y<pS&&t.y>mS&&(t.y=1)}function Oo(e,t){e.min=e.min+t,e.max=e.max+t}function gS(e,t,n,s,o=.5){const u=ce(e.min,e.max,o);jg(e,t,n,u,s)}function No(e,t){gS(e.x,t.x,t.scaleX,t.scale,t.originX),gS(e.y,t.y,t.scaleY,t.scale,t.originY)}function hI(e,t){return lI(XU(e.getBoundingClientRect(),t))}function WU(e,t,n){const s=hI(e,n),{scroll:o}=t;return o&&(Oo(s.x,o.offset.x),Oo(s.y,o.offset.y)),s}const yS=()=>({translate:0,scale:1,origin:0,originPoint:0}),xo=()=>({x:yS(),y:yS()}),_S=()=>({min:0,max:0}),ze=()=>({x:_S(),y:_S()}),Fg={current:null},fI={current:!1};function ZU(){if(fI.current=!0,!!Qy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Fg.current=e.matches;e.addEventListener("change",t),t()}else Fg.current=!1}const JU=new WeakMap;function t3(e,t,n){for(const s in t){const o=t[s],u=n[s];if(an(o))e.addValue(s,o);else if(an(u))e.addValue(s,Xo(o,{owner:e}));else if(u!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,Xo(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const vS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class e3{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=h_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=An.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=c;this.latestValues=p,this.baseTarget={...p},this.initialValues=n.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=cd(n),this.isVariantNode=WR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const A in E){const V=E[A];p[A]!==void 0&&an(V)&&V.set(p[A])}}mount(t){this.current=t,JU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),fI.current||ZU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fg.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cr(this.notifyUpdate),Cr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=rl.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $o){const n=$o[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const u=this.features[t];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ze()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<vS.length;s++){const o=vS[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const u="on"+o,c=t[u];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=t3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Xo(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(iR(s)||rR(s))?s=parseFloat(s):!mU(s)&&Dr.test(n)&&(s=jR(t,n)),this.setBaseTarget(t,an(s)?s.get():s)),an(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const u=E_(this.props,n,this.presenceContext?.custom);u&&(s=u[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!an(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new t_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){m_.render(this.render)}}class dI extends e3{constructor(){super(...arguments),this.KeyframeResolver=nU}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;an(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function mI(e,{style:t,vars:n},s,o){const u=e.style;let c;for(c in t)u[c]=t[c];o?.applyProjectionStyles(u,s);for(c in n)u.setProperty(c,n[c])}function n3(e){return window.getComputedStyle(e)}class i3 extends dI{constructor(){super(...arguments),this.type="html",this.renderInstance=mI}readValueFromInstance(t,n){if(rl.has(n))return this.projection?.isProjecting?Og(n):E4(t,n);{const s=n3(t),o=(vR(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return hI(t,n)}build(t,n,s){__(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return A_(t,n,s)}}const pI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function s3(e,t,n,s){mI(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(pI.has(o)?o:S_(o),t.attrs[o])}class r3 extends dI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ze}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rl.has(n)){const s=BR(n);return s&&s.default||0}return n=pI.has(n)?n:S_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return sI(t,n,s)}build(t,n,s){tI(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){s3(t,n,s,o)}mount(t){this.isSVGTag=nI(t.tagName),super.mount(t)}}const a3=(e,t)=>T_(e)?new r3(t):new i3(t,{allowProjection:e!==dt.Fragment});function jo(e,t,n){const s=e.getProps();return E_(s,t,n!==void 0?n:s.custom,e)}const qg=e=>Array.isArray(e);function o3(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Xo(n))}function l3(e){return qg(e)?e[e.length-1]||0:e}function u3(e,t){const n=jo(e,t);let{transitionEnd:s={},transition:o={},...u}=n||{};u={...u,...s};for(const c in u){const d=l3(u[c]);o3(e,c,d)}}function c3(e){return!!(an(e)&&e.add)}function Hg(e,t){const n=e.getValue("willChange");if(c3(n))return n.add(t);if(!n&&Vs.WillChange){const s=new Vs.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function gI(e){return e.props[rI]}const h3=e=>e!==null;function f3(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(h3),u=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[u]}const d3={type:"spring",stiffness:500,damping:25,restSpeed:10},m3=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),p3={type:"keyframes",duration:.8},g3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},y3=(e,{keyframes:t})=>t.length>2?p3:rl.has(e)?e.startsWith("scale")?m3(t[1]):d3:g3;function _3({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:u,repeatType:c,repeatDelay:d,from:p,elapsed:g,..._}){return!!Object.keys(_).length}const b_=(e,t,n,s={},o,u)=>c=>{const d=f_(s,e)||{},p=d.delay||s.delay||0;let{elapsed:g=0}=s;g=g-$i(p);const _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-g,onUpdate:A=>{t.set(A),d.onUpdate&&d.onUpdate(A)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:u?void 0:o};_3(d)||Object.assign(_,y3(e,_)),_.duration&&(_.duration=$i(_.duration)),_.repeatDelay&&(_.repeatDelay=$i(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let E=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(kg(_),_.delay===0&&(E=!0)),(Vs.instantAnimations||Vs.skipAnimations)&&(E=!0,kg(_),_.delay=0),_.allowFlatten=!d.type&&!d.ease,E&&!u&&t.get()!==void 0){const A=f3(_.keyframes,d);if(A!==void 0){ue.update(()=>{_.onUpdate(A),_.onComplete()});return}}return d.isSync?new c_(_):new H4(_)};function v3({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function yI(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:u=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(u=s);const p=[],g=o&&e.animationState&&e.animationState.getState()[o];for(const _ in d){const E=e.getValue(_,e.latestValues[_]??null),A=d[_];if(A===void 0||g&&v3(g,_))continue;const V={delay:n,...f_(u||{},_)},k=E.get();if(k!==void 0&&!E.isAnimating&&!Array.isArray(A)&&A===k&&!V.velocity)continue;let G=!1;if(window.MotionHandoffAnimation){const Q=gI(e);if(Q){const nt=window.MotionHandoffAnimation(Q,_,ue);nt!==null&&(V.startTime=nt,G=!0)}}Hg(e,_),E.start(b_(_,E,A,e.shouldReduceMotion&&kR.has(_)?{type:!1}:V,e,G));const j=E.animation;j&&p.push(j)}return c&&Promise.all(p).then(()=>{ue.update(()=>{c&&u3(e,c)})}),p}function _I(e,t,n,s=0,o=1){const u=Array.from(e).sort((g,_)=>g.sortNodePosition(_)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(u,c):o===1?u*s:d-u*s}function Gg(e,t,n={}){const s=jo(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const u=s?()=>Promise.all(yI(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=o;return T3(e,t,p,g,_,E,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[p,g]=d==="beforeChildren"?[u,c]:[c,u];return p().then(()=>g())}else return Promise.all([u(),c(n.delay)])}function T3(e,t,n=0,s=0,o=0,u=1,c){const d=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),d.push(Gg(p,t,{...c,delay:n+(typeof s=="function"?0:s)+_I(e.variantChildren,p,s,o,u)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(d)}function E3(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(u=>Gg(e,u,n));s=Promise.all(o)}else if(typeof t=="string")s=Gg(e,t,n);else{const o=typeof t=="function"?jo(e,t,n.custom):t;s=Promise.all(yI(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function vI(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const A3=y_.length;function TI(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?TI(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<A3;n++){const s=y_[n],o=e.props[s];(qu(o)||o===!1)&&(t[s]=o)}return t}const S3=[...g_].reverse(),b3=g_.length;function w3(e){return t=>Promise.all(t.map(({animation:n,options:s})=>E3(e,n,s)))}function R3(e){let t=w3(e),n=TS(),s=!0;const o=p=>(g,_)=>{const E=jo(e,_,p==="exit"?e.presenceContext?.custom:void 0);if(E){const{transition:A,transitionEnd:V,...k}=E;g={...g,...k,...V}}return g};function u(p){t=p(e)}function c(p){const{props:g}=e,_=TI(e.parent)||{},E=[],A=new Set;let V={},k=1/0;for(let j=0;j<b3;j++){const Q=S3[j],nt=n[Q],$=g[Q]!==void 0?g[Q]:_[Q],et=qu($),st=Q===p?nt.isActive:null;st===!1&&(k=j);let ot=$===_[Q]&&$!==g[Q]&&et;if(ot&&s&&e.manuallyAnimateOnMount&&(ot=!1),nt.protectedKeys={...V},!nt.isActive&&st===null||!$&&!nt.prevProp||ud($)||typeof $=="boolean")continue;const R=I3(nt.prevProp,$);let w=R||Q===p&&nt.isActive&&!ot&&et||j>k&&et,I=!1;const x=Array.isArray($)?$:[$];let M=x.reduce(o(Q),{});st===!1&&(M={});const{prevResolvedValues:L={}}=nt,C={...L,...M},te=it=>{w=!0,A.has(it)&&(I=!0,A.delete(it)),nt.needsAnimating[it]=!0;const ht=e.getValue(it);ht&&(ht.liveStyle=!1)};for(const it in C){const ht=M[it],Ct=L[it];if(V.hasOwnProperty(it))continue;let Nt=!1;qg(ht)&&qg(Ct)?Nt=!vI(ht,Ct):Nt=ht!==Ct,Nt?ht!=null?te(it):A.add(it):ht!==void 0&&A.has(it)?te(it):nt.protectedKeys[it]=!0}nt.prevProp=$,nt.prevResolvedValues=M,nt.isActive&&(V={...V,...M}),s&&e.blockInitialAnimation&&(w=!1);const fe=ot&&R;w&&(!fe||I)&&E.push(...x.map(it=>{const ht={type:Q};if(typeof it=="string"&&s&&!fe&&e.manuallyAnimateOnMount&&e.parent){const{parent:Ct}=e,Nt=jo(Ct,it);if(Ct.enteringChildren&&Nt){const{delayChildren:N}=Nt.transition||{};ht.delay=_I(Ct.enteringChildren,e,N)}}return{animation:it,options:ht}}))}if(A.size){const j={};if(typeof g.initial!="boolean"){const Q=jo(e,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(j.transition=Q.transition)}A.forEach(Q=>{const nt=e.getBaseTarget(Q),$=e.getValue(Q);$&&($.liveStyle=!0),j[Q]=nt??null}),E.push({animation:j})}let G=!!E.length;return s&&(g.initial===!1||g.initial===g.animate)&&!e.manuallyAnimateOnMount&&(G=!1),s=!1,G?t(E):Promise.resolve()}function d(p,g){if(n[p].isActive===g)return Promise.resolve();e.variantChildren?.forEach(E=>E.animationState?.setActive(p,g)),n[p].isActive=g;const _=c(p);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=TS()}}}function I3(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vI(t,e):!1}function ha(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TS(){return{animate:ha(!0),whileInView:ha(),whileHover:ha(),whileTap:ha(),whileDrag:ha(),whileFocus:ha(),exit:ha()}}class Nr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class C3 extends Nr{constructor(t){super(t),t.animationState||(t.animationState=R3(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ud(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let D3=0;class V3 extends Nr{constructor(){super(...arguments),this.id=D3++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const M3={animation:{Feature:C3},exit:{Feature:V3}};function Hu(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function sc(e){return{point:{x:e.pageX,y:e.pageY}}}const O3=e=>t=>p_(t)&&e(t,sc(t));function Cu(e,t,n,s){return Hu(e,t,O3(n),s)}const EI=1e-4,N3=1-EI,x3=1+EI,AI=.01,P3=0-AI,L3=0+AI;function hn(e){return e.max-e.min}function k3(e,t,n){return Math.abs(e-t)<=n}function ES(e,t,n,s=.5){e.origin=s,e.originPoint=ce(t.min,t.max,e.origin),e.scale=hn(n)/hn(t),e.translate=ce(n.min,n.max,e.origin)-e.originPoint,(e.scale>=N3&&e.scale<=x3||isNaN(e.scale))&&(e.scale=1),(e.translate>=P3&&e.translate<=L3||isNaN(e.translate))&&(e.translate=0)}function Du(e,t,n,s){ES(e.x,t.x,n.x,s?s.originX:void 0),ES(e.y,t.y,n.y,s?s.originY:void 0)}function AS(e,t,n){e.min=n.min+t.min,e.max=e.min+hn(t)}function U3(e,t,n){AS(e.x,t.x,n.x),AS(e.y,t.y,n.y)}function SS(e,t,n){e.min=t.min-n.min,e.max=e.min+hn(t)}function Of(e,t,n){SS(e.x,t.x,n.x),SS(e.y,t.y,n.y)}function Qn(e){return[e("x"),e("y")]}const SI=({current:e})=>e?e.ownerDocument.defaultView:null,bS=(e,t)=>Math.abs(e-t);function z3(e,t){const n=bS(e.x,t.x),s=bS(e.y,t.y);return Math.sqrt(n**2+s**2)}class bI{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:u=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=jp(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,k=z3(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!k)return;const{point:G}=A,{timestamp:j}=We;this.history.push({...G,timestamp:j});const{onStart:Q,onMove:nt}=this.handlers;V||(Q&&Q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),nt&&nt(this.lastMoveEvent,A)},this.handlePointerMove=(A,V)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Bp(V,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(A,V)=>{this.end();const{onEnd:k,onSessionEnd:G,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=jp(A.type==="pointercancel"?this.lastMoveEventInfo:Bp(V,this.transformPagePoint),this.history);this.startEvent&&k&&k(A,Q),G&&G(A,Q)},!p_(t))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=sc(t),p=Bp(d,this.transformPagePoint),{point:g}=p,{timestamp:_}=We;this.history=[{...g,timestamp:_}];const{onSessionStart:E}=n;E&&E(t,jp(p,this.history)),this.removeListeners=ec(Cu(this.contextWindow,"pointermove",this.handlePointerMove),Cu(this.contextWindow,"pointerup",this.handlePointerUp),Cu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Cr(this.updatePoint)}}function Bp(e,t){return t?{point:t(e.point)}:e}function wS(e,t){return{x:e.x-t.x,y:e.y-t.y}}function jp({point:e},t){return{point:e,delta:wS(e,wI(t)),offset:wS(e,B3(t)),velocity:j3(t,.1)}}function B3(e){return e[0]}function wI(e){return e[e.length-1]}function j3(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=wI(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>$i(t)));)n--;if(!s)return{x:0,y:0};const u=Wn(o.timestamp-s.timestamp);if(u===0)return{x:0,y:0};const c={x:(o.x-s.x)/u,y:(o.y-s.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function F3(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?ce(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?ce(n,e,s.max):Math.min(e,n)),e}function RS(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function q3(e,{top:t,left:n,bottom:s,right:o}){return{x:RS(e.x,n,o),y:RS(e.y,t,s)}}function IS(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function H3(e,t){return{x:IS(e.x,t.x),y:IS(e.y,t.y)}}function G3(e,t){let n=.5;const s=hn(e),o=hn(t);return o>s?n=Bu(t.min,t.max-s,e.min):s>o&&(n=Bu(e.min,e.max-o,t.min)),Ds(0,1,n)}function K3(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Kg=.35;function Y3(e=Kg){return e===!1?e=0:e===!0&&(e=Kg),{x:CS(e,"left","right"),y:CS(e,"top","bottom")}}function CS(e,t,n){return{min:DS(e,t),max:DS(e,n)}}function DS(e,t){return typeof e=="number"?e:e[t]||0}const Q3=new WeakMap;class X3{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ze(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const u=E=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sc(E).point)},c=(E,A)=>{const{drag:V,dragPropagation:k,onDragStart:G}=this.getProps();if(V&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aU(V),!this.openDragLock))return;this.latestPointerEvent=E,this.latestPanInfo=A,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(Q=>{let nt=this.getAxisMotionValue(Q).get()||0;if(Wi.test(nt)){const{projection:$}=this.visualElement;if($&&$.layout){const et=$.layout.layoutBox[Q];et&&(nt=hn(et)*(parseFloat(nt)/100))}}this.originPoint[Q]=nt}),G&&ue.postRender(()=>G(E,A)),Hg(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},d=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A;const{dragPropagation:V,dragDirectionLock:k,onDirectionLock:G,onDrag:j}=this.getProps();if(!V&&!this.openDragLock)return;const{offset:Q}=A;if(k&&this.currentDirection===null){this.currentDirection=$3(Q),this.currentDirection!==null&&G&&G(this.currentDirection);return}this.updateAxis("x",A.point,Q),this.updateAxis("y",A.point,Q),this.visualElement.render(),j&&j(E,A)},p=(E,A)=>{this.latestPointerEvent=E,this.latestPanInfo=A,this.stop(E,A),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>Qn(E=>this.getAnimationState(E)==="paused"&&this.getAxisMotionValue(E).animation?.play()),{dragSnapToOrigin:_}=this.getProps();this.panSession=new bI(t,{onSessionStart:u,onStart:c,onMove:d,onSessionEnd:p,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:_,distanceThreshold:s,contextWindow:SI(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,u=this.isDragging;if(this.cancel(),!u||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&ue.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!qh(t,o,this.currentDirection))return;const u=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=F3(c,this.constraints[t],this.elastic[t])),u.set(c)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;t&&Mo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=q3(s.layoutBox,t):this.constraints=!1,this.elastic=Y3(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=K3(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mo(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const u=WU(s,o.root,this.visualElement.getTransformPagePoint());let c=H3(o.layout.layoutBox,u);if(n){const d=n(QU(c));this.hasMutatedConstraints=!!d,d&&(c=lI(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),p=this.constraints||{},g=Qn(_=>{if(!qh(_,n,this.currentDirection))return;let E=p&&p[_]||{};c&&(E={min:0,max:0});const A=o?200:1e6,V=o?40:1e7,k={type:"inertia",velocity:s?t[_]:0,bounceStiffness:A,bounceDamping:V,timeConstant:750,restDelta:1,restSpeed:10,...u,...E};return this.startAxisValueAnimation(_,k)});return Promise.all(g).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Hg(this.visualElement,t),s.start(b_(t,s,0,n,this.visualElement,!1))}stopAnimation(){Qn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Qn(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Qn(n=>{const{drag:s}=this.getProps();if(!qh(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,u=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];u.set(t[n]-ce(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Mo(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Qn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const p=d.get();o[c]=G3({min:p,max:p},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(c=>{if(!qh(c,t,null))return;const d=this.getAxisMotionValue(c),{min:p,max:g}=this.constraints[c];d.set(ce(p,g,o[c]))})}addListeners(){if(!this.visualElement.current)return;Q3.set(this.visualElement,this);const t=this.visualElement.current,n=Cu(t,"pointerdown",p=>{const{drag:g,dragListener:_=!0}=this.getProps();g&&_&&this.start(p)}),s=()=>{const{dragConstraints:p}=this.getProps();Mo(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,u=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),ue.read(s);const c=Hu(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Qn(_=>{const E=this.getAxisMotionValue(_);E&&(this.originPoint[_]+=p[_].translate,E.set(E.get()+p[_].translate))}),this.visualElement.render())}));return()=>{c(),n(),u(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:u=!1,dragElastic:c=Kg,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function qh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $3(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class W3 extends Nr{constructor(t){super(t),this.removeGroupControls=Zn,this.removeListeners=Zn,this.controls=new X3(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zn}unmount(){this.removeGroupControls(),this.removeListeners()}}const VS=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class Z3 extends Nr{constructor(){super(...arguments),this.removePointerDownListener=Zn}onPointerDown(t){this.session=new bI(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:SI(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:VS(t),onStart:VS(n),onMove:s,onEnd:(u,c)=>{delete this.session,o&&ue.postRender(()=>o(u,c))}}}mount(){this.removePointerDownListener=Cu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Fp=!1;class J3 extends dt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:u}=t;u&&(n.group&&n.group.add(u),s&&s.register&&o&&s.register(u),Fp&&u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),sf.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:u}=this.props,{projection:c}=s;return c&&(c.isPresent=u,Fp=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==u?c.willUpdate():this.safeToRemove(),t.isPresent!==u&&(u?c.promote():c.relegate()||ue.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),m_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;Fp=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function RI(e){const[t,n]=pU(),s=dt.useContext(nR);return pt.jsx(J3,{...e,layoutGroup:s,switchLayoutGroup:dt.useContext(aI),isPresent:t,safeToRemove:n})}function t6(e,t,n){const s=an(e)?e:Xo(e);return s.start(b_("",s,t,n)),s.animation}const e6=(e,t)=>e.depth-t.depth;class n6{constructor(){this.children=[],this.isDirty=!1}add(t){$y(this.children,t),this.isDirty=!0}remove(t){Wy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(e6),this.isDirty=!1,this.children.forEach(t)}}function i6(e,t){const n=An.now(),s=({timestamp:o})=>{const u=o-n;u>=t&&(Cr(s),e(u-t))};return ue.setup(s,!0),()=>Cr(s)}const II=["TopLeft","TopRight","BottomLeft","BottomRight"],s6=II.length,MS=e=>typeof e=="string"?parseFloat(e):e,OS=e=>typeof e=="number"||Tt.test(e);function r6(e,t,n,s,o,u){o?(e.opacity=ce(0,n.opacity??1,a6(s)),e.opacityExit=ce(t.opacity??1,0,o6(s))):u&&(e.opacity=ce(t.opacity??1,n.opacity??1,s));for(let c=0;c<s6;c++){const d=`border${II[c]}Radius`;let p=NS(t,d),g=NS(n,d);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||OS(p)===OS(g)?(e[d]=Math.max(ce(MS(p),MS(g),s),0),(Wi.test(g)||Wi.test(p))&&(e[d]+="%")):e[d]=g}(t.rotate||n.rotate)&&(e.rotate=ce(t.rotate||0,n.rotate||0,s))}function NS(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const a6=CI(0,.5,dR),o6=CI(.5,.95,Zn);function CI(e,t,n){return s=>s<e?0:s>t?1:n(Bu(e,t,s))}function xS(e,t){e.min=t.min,e.max=t.max}function di(e,t){xS(e.x,t.x),xS(e.y,t.y)}function PS(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function LS(e,t,n,s,o){return e-=t,e=Mf(e,1/n,s),o!==void 0&&(e=Mf(e,1/o,s)),e}function l6(e,t=0,n=1,s=.5,o,u=e,c=e){if(Wi.test(t)&&(t=parseFloat(t),t=ce(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=ce(u.min,u.max,s);e===u&&(d-=t),e.min=LS(e.min,t,n,d,o),e.max=LS(e.max,t,n,d,o)}function kS(e,t,[n,s,o],u,c){l6(e,t[n],t[s],t[o],t.scale,u,c)}const u6=["x","scaleX","originX"],c6=["y","scaleY","originY"];function US(e,t,n,s){kS(e.x,t,u6,n?n.x:void 0,s?s.x:void 0),kS(e.y,t,c6,n?n.y:void 0,s?s.y:void 0)}function zS(e){return e.translate===0&&e.scale===1}function DI(e){return zS(e.x)&&zS(e.y)}function BS(e,t){return e.min===t.min&&e.max===t.max}function h6(e,t){return BS(e.x,t.x)&&BS(e.y,t.y)}function jS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function VI(e,t){return jS(e.x,t.x)&&jS(e.y,t.y)}function FS(e){return hn(e.x)/hn(e.y)}function qS(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class f6{constructor(){this.members=[]}add(t){$y(this.members,t),t.scheduleRender()}remove(t){if(Wy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const u=this.members[o];if(u.isPresent!==!1){s=u;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d6(e,t,n){let s="";const o=e.x.translate/t.x,u=e.y.translate/t.y,c=n?.z||0;if((o||u||c)&&(s=`translate3d(${o}px, ${u}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:g,rotate:_,rotateX:E,rotateY:A,skewX:V,skewY:k}=n;g&&(s=`perspective(${g}px) ${s}`),_&&(s+=`rotate(${_}deg) `),E&&(s+=`rotateX(${E}deg) `),A&&(s+=`rotateY(${A}deg) `),V&&(s+=`skewX(${V}deg) `),k&&(s+=`skewY(${k}deg) `)}const d=e.x.scale*t.x,p=e.y.scale*t.y;return(d!==1||p!==1)&&(s+=`scale(${d}, ${p})`),s||"none"}const qp=["","X","Y","Z"],m6=1e3;let p6=0;function Hp(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function MI(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gI(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:u}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(o||u))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&MI(s)}function OI({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t?.()){this.id=p6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_6),this.nodes.forEach(A6),this.nodes.forEach(S6),this.nodes.forEach(v6)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new n6)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new t_),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const p=this.eventHandlers.get(c);p&&p.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YR(c)&&!fU(c),this.instance=c;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||d)&&(this.isLayoutDirty=!0),e){let _,E=0;const A=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{E=window.innerWidth}),e(c,()=>{const V=window.innerWidth;V!==E&&(E=V,this.root.updateBlockedByResize=!0,_&&_(),_=i6(A,250),sf.hasAnimatedSinceResize&&(sf.hasAnimatedSinceResize=!1,this.nodes.forEach(KS)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:A,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||g.getDefaultTransition()||C6,{onLayoutAnimationStart:G,onLayoutAnimationComplete:j}=g.getProps(),Q=!this.targetLayout||!VI(this.targetLayout,V),nt=!E&&A;if(this.options.layoutRoot||this.resumeFrom||nt||E&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...f_(k,"layout"),onPlay:G,onComplete:j};(g.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(_,nt)}else E||KS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b6),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const E=this.path[_];E.shouldResetTransform=!0,E.updateScroll("snapshot"),E.options.layoutRoot&&E.willUpdate(!1)}const{layoutId:d,layout:p}=this.options;if(d===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(GS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(E6),this.nodes.forEach(g6),this.nodes.forEach(y6)):this.nodes.forEach(GS),this.clearAllSnapshots();const d=An.now();We.delta=Ds(0,1e3/60,d-We.timestamp),We.timestamp=d,We.isProcessing=!0,Op.update.process(We),Op.preRender.process(We),Op.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(T6),this.sharedNodes.forEach(w6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ze(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!DI(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,_=g!==this.prevTransformTemplateValue;c&&this.instance&&(d||da(this.latestValues)||_)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let p=this.removeElementScroll(d);return c&&(p=this.removeTransform(p)),D6(p),{animationId:this.root.animationId,measuredBox:d,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return ze();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(V6))){const{scroll:g}=this.root;g&&(Oo(d.x,g.offset.x),Oo(d.y,g.offset.y))}return d}removeElementScroll(c){const d=ze();if(di(d,c),this.scroll?.wasRoot)return d;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&di(d,c),Oo(d.x,_.offset.x),Oo(d.y,_.offset.y))}return d}applyTransform(c,d=!1){const p=ze();di(p,c);for(let g=0;g<this.path.length;g++){const _=this.path[g];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&No(p,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),da(_.latestValues)&&No(p,_.latestValues)}return da(this.latestValues)&&No(p,this.latestValues),p}removeTransform(c){const d=ze();di(d,c);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!da(g.latestValues))continue;Bg(g.latestValues)&&g.updateSnapshot();const _=ze(),E=g.measurePageBox();di(_,E),US(d,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,_)}return da(this.latestValues)&&US(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!this.layout||!(_||E))return;this.resolvedRelativeTargetAt=We.timestamp;const A=this.getClosestProjectingParent();A&&this.linkedParentVersion!==A.layoutVersion&&!A.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(A&&A.layout?this.createRelativeTarget(A,this.layout.layoutBox,A.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ze(),this.targetWithTransforms=ze()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U3(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),cI(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?this.createRelativeTarget(A,this.target,A.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||uI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,d,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ze(),this.relativeTargetOrigin=ze(),Of(this.relativeTargetOrigin,d,p),di(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===We.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;di(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,A=this.treeScale.y;$U(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=ze());const{target:V}=c;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PS(this.prevProjectionDelta.x,this.projectionDelta.x),PS(this.prevProjectionDelta.y,this.projectionDelta.y)),Du(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==A||!qS(this.projectionDelta.x,this.prevProjectionDelta.x)||!qS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xo(),this.projectionDelta=xo(),this.projectionDeltaWithTransform=xo()}setAnimationOrigin(c,d=!1){const p=this.snapshot,g=p?p.latestValues:{},_={...this.latestValues},E=xo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const A=ze(),V=p?p.source:void 0,k=this.layout?this.layout.source:void 0,G=V!==k,j=this.getStack(),Q=!j||j.members.length<=1,nt=!!(G&&!Q&&this.options.crossfade===!0&&!this.path.some(I6));this.animationProgress=0;let $;this.mixTargetDelta=et=>{const st=et/1e3;YS(E.x,c.x,st),YS(E.y,c.y,st),this.setTargetDelta(E),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Of(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),R6(this.relativeTarget,this.relativeTargetOrigin,A,st),$&&h6(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=ze()),di($,this.relativeTarget)),G&&(this.animationValues=_,r6(_,g,this.latestValues,st,nt,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=st},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{sf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xo(0)),this.currentAnimation=t6(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:p,layout:g,latestValues:_}=c;if(!(!d||!p||!g)){if(this!==c&&this.layout&&g&&NI(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||ze();const E=hn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+E;const A=hn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+A}di(d,p),No(d,_),Du(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new f6),this.sharedNodes.get(c).add(d);const g=d.options.initialPromotionConfig;d.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(d=!0),!d)return;const g={};p.z&&Hp("z",c,g,this.animationValues);for(let _=0;_<qp.length;_++)Hp(`rotate${qp[_]}`,c,g,this.animationValues),Hp(`skew${qp[_]}`,c,g,this.animationValues);c.render();for(const _ in g)c.setStaticValue(_,g[_]),this.animationValues&&(this.animationValues[_]=g[_]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=nf(d?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=nf(d?.pointerEvents)||""),this.hasProjected&&!da(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const _=g.animationValues||g.latestValues;this.applyTransformsToTarget();let E=d6(this.projectionDeltaWithTransform,this.treeScale,_);p&&(E=p(_,E)),c.transform=E;const{x:A,y:V}=this.projectionDelta;c.transformOrigin=`${A.origin*100}% ${V.origin*100}% 0`,g.animationValues?c.opacity=g===this?_.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:_.opacityExit:c.opacity=g===this?_.opacity!==void 0?_.opacity:"":_.opacityExit!==void 0?_.opacityExit:0;for(const k in zg){if(_[k]===void 0)continue;const{correct:G,applyTo:j,isCSSVariable:Q}=zg[k],nt=E==="none"?_[k]:G(_[k],g);if(j){const $=j.length;for(let et=0;et<$;et++)c[j[et]]=nt}else Q?this.options.visualElement.renderState.vars[k]=nt:c[k]=nt}this.options.layoutId&&(c.pointerEvents=g===this?nf(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(HS),this.root.sharedNodes.clear()}}}function g6(e){e.updateLayout()}function y6(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:o}=e.options,u=t.source!==e.layout.source;o==="size"?Qn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],A=hn(E);E.min=n[_].min,E.max=E.min+A}):NI(o,t.layoutBox,n)&&Qn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],A=hn(n[_]);E.max=E.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[_].max=e.relativeTarget[_].min+A)});const c=xo();Du(c,n,t.layoutBox);const d=xo();u?Du(d,e.applyTransform(s,!0),t.measuredBox):Du(d,n,t.layoutBox);const p=!DI(c);let g=!1;if(!e.resumeFrom){const _=e.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:A}=_;if(E&&A){const V=ze();Of(V,t.layoutBox,E.layoutBox);const k=ze();Of(k,n,A.layoutBox),VI(V,k)||(g=!0),_.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=V,e.relativeParent=_)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function v6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function T6(e){e.clearSnapshot()}function HS(e){e.clearMeasurements()}function GS(e){e.isLayoutDirty=!1}function E6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function KS(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function A6(e){e.resolveTargetDelta()}function S6(e){e.calcProjection()}function b6(e){e.resetSkewAndRotation()}function w6(e){e.removeLeadSnapshot()}function YS(e,t,n){e.translate=ce(t.translate,0,n),e.scale=ce(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function QS(e,t,n,s){e.min=ce(t.min,n.min,s),e.max=ce(t.max,n.max,s)}function R6(e,t,n,s){QS(e.x,t.x,n.x,s),QS(e.y,t.y,n.y,s)}function I6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const C6={duration:.45,ease:[.4,0,.1,1]},XS=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$S=XS("applewebkit/")&&!XS("chrome/")?Math.round:Zn;function WS(e){e.min=$S(e.min),e.max=$S(e.max)}function D6(e){WS(e.x),WS(e.y)}function NI(e,t,n){return e==="position"||e==="preserve-aspect"&&!k3(FS(t),FS(n),.2)}function V6(e){return e!==e.root&&e.scroll?.wasRoot}const M6=OI({attachResizeListener:(e,t)=>Hu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gp={current:void 0},xI=OI({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gp.current){const e=new M6({});e.mount(window),e.setOptions({layoutScroll:!0}),Gp.current=e}return Gp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),O6={pan:{Feature:Z3},drag:{Feature:W3,ProjectionNode:xI,MeasureLayout:RI}};function ZS(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,u=s[o];u&&ue.postRender(()=>u(t,sc(t)))}class N6 extends Nr{mount(){const{current:t}=this.node;t&&(this.unmount=oU(t,(n,s)=>(ZS(this.node,s,"Start"),o=>ZS(this.node,o,"End"))))}unmount(){}}class x6 extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ec(Hu(this.node.current,"focus",()=>this.onFocus()),Hu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JS(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),u=s[o];u&&ue.postRender(()=>u(t,sc(t)))}class P6 extends Nr{mount(){const{current:t}=this.node;t&&(this.unmount=hU(t,(n,s)=>(JS(this.node,s,"Start"),(o,{success:u})=>JS(this.node,o,u?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yg=new WeakMap,Kp=new WeakMap,L6=e=>{const t=Yg.get(e.target);t&&t(e)},k6=e=>{e.forEach(L6)};function U6({root:e,...t}){const n=e||document;Kp.has(n)||Kp.set(n,{});const s=Kp.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(k6,{root:e,...t})),s[o]}function z6(e,t,n){const s=U6(t);return Yg.set(e,n),s.observe(e),()=>{Yg.delete(e),s.unobserve(e)}}const B6={some:0,all:1};class j6 extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:u}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:B6[o]},d=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,u&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:_,onViewportLeave:E}=this.node.getProps(),A=g?_:E;A&&A(p)};return z6(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(F6(t,n))&&this.startObserver()}unmount(){}}function F6({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const q6={inView:{Feature:j6},tap:{Feature:P6},focus:{Feature:x6},hover:{Feature:N6}},H6={layout:{ProjectionNode:xI,MeasureLayout:RI}},G6={...M3,...q6,...O6,...H6},K6=YU(G6,a3),Y6={some:0,all:1};function Q6(e,t,{root:n,margin:s,amount:o="some"}={}){const u=FR(e),c=new WeakMap,d=g=>{g.forEach(_=>{const E=c.get(_.target);if(_.isIntersecting!==!!E)if(_.isIntersecting){const A=t(_.target,_);typeof A=="function"?c.set(_.target,A):p.unobserve(_.target)}else typeof E=="function"&&(E(_),c.delete(_.target))})},p=new IntersectionObserver(d,{root:n,rootMargin:s,threshold:typeof o=="number"?o:Y6[o]});return u.forEach(g=>p.observe(g)),()=>p.disconnect()}function X6(e,{root:t,margin:n,amount:s,once:o=!1,initial:u=!1}={}){const[c,d]=dt.useState(u);return dt.useEffect(()=>{if(!e.current||o&&c)return;const p=()=>(d(!0),o?void 0:()=>d(!1)),g={root:t&&t.current||void 0,margin:n,amount:s};return Q6(e.current,p,g)},[t,e,n,o,s]),c}function $6({children:e,index:t,onHover:n}){const s=dt.useRef(null),o=X6(s,{amount:.3});return pt.jsx(K6.div,{ref:s,"data-index":t,onMouseEnter:()=>n(t),onMouseLeave:()=>n(null),initial:{opacity:0,y:16},animate:o?{opacity:1,y:0}:{opacity:0,y:16},transition:{duration:.6,ease:[.22,1,.36,1],delay:t*.05},children:e})}function W6({items:e,renderItem:t}){const[n,s]=dt.useState(null);return pt.jsx("div",{children:e.map((o,u)=>pt.jsx($6,{index:u,onHover:s,children:t(o,n===u)},o.id??u))})}function Z6({user:e}){const[t,n]=dt.useState([]),[s,o]=dt.useState(null);dt.useEffect(()=>{const c=Ag(bu(Es,"listings"),Sg("status","==","active"),bg("createdAt","desc"));return wg(c,d=>{n(d.docs.map(p=>({id:p.id,...p.data()})).filter(p=>p.sellerId!==e.uid))})},[e.uid]);const u=async c=>{o(c.id),await $1(bu(Es,"requests"),{listingId:c.id,listingTitle:c.title,asking:c.price,sellerId:c.sellerId,sellerName:c.sellerName,buyerId:e.uid,buyerName:e.displayName,status:"held",createdAt:Yy()}),o(null)};return pt.jsxs("section",{children:[pt.jsx("div",{style:{fontSize:"0.75rem",letterSpacing:"0.28em",color:"var(--accent)",marginBottom:"3rem"},children:"AVAILABLE"}),pt.jsx(W6,{items:t,renderItem:(c,d)=>pt.jsxs("article",{style:{padding:"2.6rem 0",borderTop:"1px solid var(--border-soft)"},children:[c.imageUrl&&pt.jsx("div",{style:{marginBottom:"1.2rem"},children:pt.jsx("img",{src:c.imageUrl,alt:c.title,loading:"lazy",style:{width:"100%",maxWidth:"420px",borderRadius:"6px",filter:d?"blur(0px)":"blur(10px)",transition:"filter 0.4s ease",opacity:.9}})}),pt.jsx("div",{style:{fontSize:"1.55rem",fontWeight:500,letterSpacing:"-0.01em",color:d?"var(--accent)":"var(--text-main)",transition:"color 0.3s ease"},children:c.title}),pt.jsxs("div",{style:{marginTop:"0.35rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:["Posted by ",c.sellerName]}),pt.jsxs("div",{style:{marginTop:"0.9rem"},children:["Asking ",c.price]}),pt.jsx("button",{className:"linkish",disabled:s===c.id,onClick:()=>u(c),style:{marginTop:"1.2rem",fontSize:"0.85rem",opacity:s===c.id?.35:1},children:s===c.id?"Holding":"Take"})]})})]})}const J6="dkcwmape4",t9="quad_unsigned";async function e9(e,t=1280,n=.65){const s=new Image,o=URL.createObjectURL(e);await new Promise((_,E)=>{s.onload=_,s.onerror=E,s.src=o});let{width:u,height:c}=s;u>c&&u>t?(c=Math.round(c*t/u),u=t):c>=u&&c>t&&(u=Math.round(u*t/c),c=t);const d=document.createElement("canvas");d.width=u,d.height=c,d.getContext("2d").drawImage(s,0,0,u,c);const g=await new Promise(_=>d.toBlob(_,"image/jpeg",n));return URL.revokeObjectURL(o),new File([g],"image.jpg",{type:"image/jpeg"})}async function n9(e){const t=new FormData;t.append("file",e),t.append("upload_preset",t9);const s=await(await fetch(`https://api.cloudinary.com/v1_1/${J6}/image/upload`,{method:"POST",body:t})).json();if(!s.secure_url)throw console.error(s),new Error("Cloudinary upload failed");return s.secure_url}function i9({user:e}){const[t,n]=dt.useState(""),[s,o]=dt.useState(""),[u,c]=dt.useState(null),[d,p]=dt.useState(""),[g,_]=dt.useState(!1),[E,A]=dt.useState([]),[V,k]=dt.useState([]),G=dt.useRef(null);dt.useEffect(()=>{const et=Ag(bu(Es,"listings"),Sg("sellerId","==",e.uid),bg("createdAt","desc"));return wg(et,st=>A(st.docs.map(ot=>({id:ot.id,...ot.data()}))))},[e.uid]),dt.useEffect(()=>{const et=Ag(bu(Es,"requests"),Sg("sellerId","==",e.uid),bg("createdAt","desc"));return wg(et,st=>k(st.docs.map(ot=>({id:ot.id,...ot.data()}))))},[e.uid]);const j=async et=>{const st=et.target.files?.[0];if(!st||!st.type.startsWith("image/"))return;const ot=await e9(st);c(ot),p(URL.createObjectURL(ot))},Q=()=>G.current?.click(),nt=async()=>{if(!t||!s||!u||g)return;_(!0);const et=await $1(bu(Es,"listings"),{title:t,price:s,sellerId:e.uid,sellerName:e.displayName,status:"active",createdAt:Yy()}),st=await n9(u);await Vp(wu(Es,"listings",et.id),{imageUrl:st}),n(""),o(""),c(null),p(""),_(!1)},$=async et=>{await Vp(wu(Es,"requests",et.id),{status:"accepted",meetupPlace:"Campus Quad",meetupTime:"Evening"}),await Vp(wu(Es,"listings",et.listingId),{status:"sold"})};return pt.jsxs("section",{children:[pt.jsxs("div",{className:"reveal",children:[pt.jsx(Yp,{text:"POST"}),pt.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"baseline"},children:[pt.jsx("input",{placeholder:"Item",value:t,onChange:et=>n(et.target.value),style:tb}),pt.jsx("input",{placeholder:"Asking",value:s,onChange:et=>o(et.target.value),style:tb}),pt.jsx("button",{className:"linkish",onClick:Q,children:u?"Replace image":"Add image"}),pt.jsx("button",{className:"linkish",onClick:nt,style:{opacity:t&&s&&u&&!g?1:.35},disabled:!t||!s||!u||g,children:g?"Posting":"Post"})]}),pt.jsx("input",{ref:G,type:"file",accept:"image/*",capture:"environment",style:{display:"none"},onChange:j}),d&&pt.jsx("div",{style:{marginTop:"1.5rem"},children:pt.jsx("img",{src:d,alt:"preview",style:{width:"220px",borderRadius:"6px",opacity:.9}})})]}),pt.jsxs("div",{className:"reveal",style:{marginTop:"5rem"},children:[pt.jsx(Yp,{text:"MY LISTINGS"}),E.map(et=>pt.jsx(s9,{title:et.title,meta:`Asking ${et.price}`,status:et.status},et.id))]}),pt.jsxs("div",{className:"reveal",style:{marginTop:"5rem"},children:[pt.jsx(Yp,{text:"INCOMING"}),V.map(et=>pt.jsxs("article",{className:"reveal",style:{padding:"2.6rem 0",borderTop:"1px solid var(--border-soft)"},children:[pt.jsx("div",{style:{fontSize:"1.4rem",fontWeight:500},children:et.listingTitle}),pt.jsxs("div",{style:{marginTop:"0.4rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:["Requested by ",et.buyerName]}),et.status==="held"&&pt.jsx("button",{className:"linkish",onClick:()=>$(et),style:{marginTop:"1.2rem",fontSize:"0.85rem"},children:"Accept"}),et.status==="accepted"&&pt.jsx("div",{style:{marginTop:"1rem",fontSize:"0.8rem",color:"var(--accent)"},children:"Accepted"})]},et.id))]})]})}function Yp({text:e}){return pt.jsx("div",{style:{fontSize:"0.75rem",letterSpacing:"0.28em",color:"var(--accent)",marginBottom:"2.2rem"},children:e})}function s9({title:e,meta:t,status:n}){return pt.jsxs("article",{className:"reveal",style:{padding:"2.6rem 0",borderTop:"1px solid var(--border-soft)",opacity:n==="sold"?.35:1},children:[pt.jsx("div",{style:{fontSize:"1.4rem",fontWeight:500},children:e}),pt.jsx("div",{style:{marginTop:"0.4rem",fontSize:"0.8rem",color:"var(--text-muted)"},children:t})]})}const tb={background:"transparent",border:"none",borderBottom:"1px solid var(--border-soft)",color:"var(--text-main)",padding:"0.2rem 0",fontSize:"1rem",width:"160px",outline:"none"};function r9({user:e}){const[t,n]=dt.useState("buyer");return pt.jsxs("main",{style:{maxWidth:"860px",margin:"0 auto",padding:"5rem 2rem 6rem"},children:[pt.jsxs("section",{className:"reveal",children:[pt.jsx("h1",{style:{fontSize:"2.6rem"},children:"Quad"}),pt.jsxs("div",{style:{marginTop:"0.4rem",color:"var(--text-muted)",fontSize:"0.9rem"},children:["Logged in as ",e.displayName]}),pt.jsxs("div",{style:{marginTop:"1.8rem",display:"flex",gap:"1.6rem"},children:[pt.jsx("button",{className:"linkish",style:{color:t==="buyer"?"var(--accent)":"var(--text-muted)",fontSize:"0.95rem"},onClick:()=>n("buyer"),children:"Buyer"}),pt.jsx("button",{className:"linkish",style:{color:t==="seller"?"var(--accent)":"var(--text-muted)",fontSize:"0.95rem"},onClick:()=>n("seller"),children:"Seller"})]})]}),pt.jsx("div",{className:"reveal delay-1",style:{margin:"3.5rem 0",height:"1px",background:"var(--border-soft)"}}),pt.jsx("section",{className:"reveal delay-2",children:t==="buyer"?pt.jsx(Z6,{user:e}):pt.jsx(i9,{user:e})})]})}function a9(){const[e,t]=dt.useState(null),[n,s]=dt.useState(!0);return dt.useEffect(()=>{const o=KV(eR,async u=>{if(u){const c=wu(Es,"users",u.uid);(await kL(c)).exists()||await UL(c,{uid:u.uid,name:u.displayName,email:u.email,photo:u.photoURL,createdAt:Yy()}),t(u)}else t(null);s(!1)});return()=>o()},[]),n?pt.jsx("h2",{children:"Loading..."}):e?pt.jsx(r9,{user:e}):pt.jsx(gk,{})}AD.createRoot(document.getElementById("root")).render(pt.jsx(mD.StrictMode,{children:pt.jsx(a9,{})}));
